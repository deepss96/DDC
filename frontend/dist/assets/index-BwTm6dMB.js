function Lh(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(n,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();function xd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var yd={exports:{}},ho={},vd={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fs=Symbol.for("react.element"),Dh=Symbol.for("react.portal"),Ah=Symbol.for("react.fragment"),zh=Symbol.for("react.strict_mode"),Rh=Symbol.for("react.profiler"),Ih=Symbol.for("react.provider"),Oh=Symbol.for("react.context"),Mh=Symbol.for("react.forward_ref"),Fh=Symbol.for("react.suspense"),Bh=Symbol.for("react.memo"),$h=Symbol.for("react.lazy"),Lc=Symbol.iterator;function Uh(e){return e===null||typeof e!="object"?null:(e=Lc&&e[Lc]||e["@@iterator"],typeof e=="function"?e:null)}var wd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bd=Object.assign,jd={};function Dn(e,t,r){this.props=e,this.context=t,this.refs=jd,this.updater=r||wd}Dn.prototype.isReactComponent={};Dn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Dn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Nd(){}Nd.prototype=Dn.prototype;function Ci(e,t,r){this.props=e,this.context=t,this.refs=jd,this.updater=r||wd}var Ei=Ci.prototype=new Nd;Ei.constructor=Ci;bd(Ei,Dn.prototype);Ei.isPureReactComponent=!0;var Dc=Array.isArray,kd=Object.prototype.hasOwnProperty,_i={current:null},Sd={key:!0,ref:!0,__self:!0,__source:!0};function Cd(e,t,r){var n,a={},o=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(o=""+t.key),t)kd.call(t,n)&&!Sd.hasOwnProperty(n)&&(a[n]=t[n]);var c=arguments.length-2;if(c===1)a.children=r;else if(1<c){for(var i=Array(c),u=0;u<c;u++)i[u]=arguments[u+2];a.children=i}if(e&&e.defaultProps)for(n in c=e.defaultProps,c)a[n]===void 0&&(a[n]=c[n]);return{$$typeof:Fs,type:e,key:o,ref:l,props:a,_owner:_i.current}}function Wh(e,t){return{$$typeof:Fs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ti(e){return typeof e=="object"&&e!==null&&e.$$typeof===Fs}function Hh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Ac=/\/+/g;function Bo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Hh(""+e.key):t.toString(36)}function ja(e,t,r,n,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Fs:case Dh:l=!0}}if(l)return l=e,a=a(l),e=n===""?"."+Bo(l,0):n,Dc(a)?(r="",e!=null&&(r=e.replace(Ac,"$&/")+"/"),ja(a,t,r,"",function(u){return u})):a!=null&&(Ti(a)&&(a=Wh(a,r+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(Ac,"$&/")+"/")+e)),t.push(a)),1;if(l=0,n=n===""?".":n+":",Dc(e))for(var c=0;c<e.length;c++){o=e[c];var i=n+Bo(o,c);l+=ja(o,t,r,i,a)}else if(i=Uh(e),typeof i=="function")for(e=i.call(e),c=0;!(o=e.next()).done;)o=o.value,i=n+Bo(o,c++),l+=ja(o,t,r,i,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Ys(e,t,r){if(e==null)return e;var n=[],a=0;return ja(e,n,"","",function(o){return t.call(r,o,a++)}),n}function Vh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xe={current:null},Na={transition:null},qh={ReactCurrentDispatcher:Xe,ReactCurrentBatchConfig:Na,ReactCurrentOwner:_i};function Ed(){throw Error("act(...) is not supported in production builds of React.")}re.Children={map:Ys,forEach:function(e,t,r){Ys(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ys(e,function(){t++}),t},toArray:function(e){return Ys(e,function(t){return t})||[]},only:function(e){if(!Ti(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};re.Component=Dn;re.Fragment=Ah;re.Profiler=Rh;re.PureComponent=Ci;re.StrictMode=zh;re.Suspense=Fh;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qh;re.act=Ed;re.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=bd({},e.props),a=e.key,o=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,l=_i.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(i in t)kd.call(t,i)&&!Sd.hasOwnProperty(i)&&(n[i]=t[i]===void 0&&c!==void 0?c[i]:t[i])}var i=arguments.length-2;if(i===1)n.children=r;else if(1<i){c=Array(i);for(var u=0;u<i;u++)c[u]=arguments[u+2];n.children=c}return{$$typeof:Fs,type:e.type,key:a,ref:o,props:n,_owner:l}};re.createContext=function(e){return e={$$typeof:Oh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ih,_context:e},e.Consumer=e};re.createElement=Cd;re.createFactory=function(e){var t=Cd.bind(null,e);return t.type=e,t};re.createRef=function(){return{current:null}};re.forwardRef=function(e){return{$$typeof:Mh,render:e}};re.isValidElement=Ti;re.lazy=function(e){return{$$typeof:$h,_payload:{_status:-1,_result:e},_init:Vh}};re.memo=function(e,t){return{$$typeof:Bh,type:e,compare:t===void 0?null:t}};re.startTransition=function(e){var t=Na.transition;Na.transition={};try{e()}finally{Na.transition=t}};re.unstable_act=Ed;re.useCallback=function(e,t){return Xe.current.useCallback(e,t)};re.useContext=function(e){return Xe.current.useContext(e)};re.useDebugValue=function(){};re.useDeferredValue=function(e){return Xe.current.useDeferredValue(e)};re.useEffect=function(e,t){return Xe.current.useEffect(e,t)};re.useId=function(){return Xe.current.useId()};re.useImperativeHandle=function(e,t,r){return Xe.current.useImperativeHandle(e,t,r)};re.useInsertionEffect=function(e,t){return Xe.current.useInsertionEffect(e,t)};re.useLayoutEffect=function(e,t){return Xe.current.useLayoutEffect(e,t)};re.useMemo=function(e,t){return Xe.current.useMemo(e,t)};re.useReducer=function(e,t,r){return Xe.current.useReducer(e,t,r)};re.useRef=function(e){return Xe.current.useRef(e)};re.useState=function(e){return Xe.current.useState(e)};re.useSyncExternalStore=function(e,t,r){return Xe.current.useSyncExternalStore(e,t,r)};re.useTransition=function(){return Xe.current.useTransition()};re.version="18.3.1";vd.exports=re;var d=vd.exports;const J=xd(d),Qh=Lh({__proto__:null,default:J},[d]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gh=d,Yh=Symbol.for("react.element"),Kh=Symbol.for("react.fragment"),Jh=Object.prototype.hasOwnProperty,Xh=Gh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Zh={key:!0,ref:!0,__self:!0,__source:!0};function _d(e,t,r){var n,a={},o=null,l=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)Jh.call(t,n)&&!Zh.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:Yh,type:e,key:o,ref:l,props:a,_owner:Xh.current}}ho.Fragment=Kh;ho.jsx=_d;ho.jsxs=_d;yd.exports=ho;var s=yd.exports,bl={},Td={exports:{}},ft={},Pd={exports:{}},Ld={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,O){var T=D.length;D.push(O);e:for(;0<T;){var W=T-1>>>1,$=D[W];if(0<a($,O))D[W]=O,D[T]=$,T=W;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var O=D[0],T=D.pop();if(T!==O){D[0]=T;e:for(var W=0,$=D.length,Z=$>>>1;W<Z;){var B=2*(W+1)-1,U=D[B],L=B+1,R=D[L];if(0>a(U,T))L<$&&0>a(R,U)?(D[W]=R,D[L]=T,W=L):(D[W]=U,D[B]=T,W=B);else if(L<$&&0>a(R,T))D[W]=R,D[L]=T,W=L;else break e}}return O}function a(D,O){var T=D.sortIndex-O.sortIndex;return T!==0?T:D.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var i=[],u=[],h=1,g=null,p=3,v=!1,b=!1,j=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(D){for(var O=r(u);O!==null;){if(O.callback===null)n(u);else if(O.startTime<=D)n(u),O.sortIndex=O.expirationTime,t(i,O);else break;O=r(u)}}function x(D){if(j=!1,f(D),!b)if(r(i)!==null)b=!0,X(N);else{var O=r(u);O!==null&&K(x,O.startTime-D)}}function N(D,O){b=!1,j&&(j=!1,y(S),S=-1),v=!0;var T=p;try{for(f(O),g=r(i);g!==null&&(!(g.expirationTime>O)||D&&!q());){var W=g.callback;if(typeof W=="function"){g.callback=null,p=g.priorityLevel;var $=W(g.expirationTime<=O);O=e.unstable_now(),typeof $=="function"?g.callback=$:g===r(i)&&n(i),f(O)}else n(i);g=r(i)}if(g!==null)var Z=!0;else{var B=r(u);B!==null&&K(x,B.startTime-O),Z=!1}return Z}finally{g=null,p=T,v=!1}}var C=!1,k=null,S=-1,P=5,I=-1;function q(){return!(e.unstable_now()-I<P)}function V(){if(k!==null){var D=e.unstable_now();I=D;var O=!0;try{O=k(!0,D)}finally{O?ee():(C=!1,k=null)}}else C=!1}var ee;if(typeof m=="function")ee=function(){m(V)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,oe=Q.port2;Q.port1.onmessage=V,ee=function(){oe.postMessage(null)}}else ee=function(){w(V,0)};function X(D){k=D,C||(C=!0,ee())}function K(D,O){S=w(function(){D(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){b||v||(b=!0,X(N))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(i)},e.unstable_next=function(D){switch(p){case 1:case 2:case 3:var O=3;break;default:O=p}var T=p;p=O;try{return D()}finally{p=T}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,O){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var T=p;p=D;try{return O()}finally{p=T}},e.unstable_scheduleCallback=function(D,O,T){var W=e.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?W+T:W):T=W,D){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=T+$,D={id:h++,callback:O,priorityLevel:D,startTime:T,expirationTime:$,sortIndex:-1},T>W?(D.sortIndex=T,t(u,D),r(i)===null&&D===r(u)&&(j?(y(S),S=-1):j=!0,K(x,T-W))):(D.sortIndex=$,t(i,D),b||v||(b=!0,X(N))),D},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(D){var O=p;return function(){var T=p;p=O;try{return D.apply(this,arguments)}finally{p=T}}}})(Ld);Pd.exports=Ld;var ep=Pd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tp=d,dt=ep;function A(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Dd=new Set,hs={};function Jr(e,t){jn(e,t),jn(e+"Capture",t)}function jn(e,t){for(hs[e]=t,e=0;e<t.length;e++)Dd.add(t[e])}var Zt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jl=Object.prototype.hasOwnProperty,rp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zc={},Rc={};function np(e){return jl.call(Rc,e)?!0:jl.call(zc,e)?!1:rp.test(e)?Rc[e]=!0:(zc[e]=!0,!1)}function sp(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ap(e,t,r,n){if(t===null||typeof t>"u"||sp(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ze(e,t,r,n,a,o,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=l}var $e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$e[e]=new Ze(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];$e[t]=new Ze(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){$e[e]=new Ze(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$e[e]=new Ze(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$e[e]=new Ze(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){$e[e]=new Ze(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){$e[e]=new Ze(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){$e[e]=new Ze(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){$e[e]=new Ze(e,5,!1,e.toLowerCase(),null,!1,!1)});var Pi=/[\-:]([a-z])/g;function Li(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Pi,Li);$e[t]=new Ze(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Pi,Li);$e[t]=new Ze(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Pi,Li);$e[t]=new Ze(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){$e[e]=new Ze(e,1,!1,e.toLowerCase(),null,!1,!1)});$e.xlinkHref=new Ze("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){$e[e]=new Ze(e,1,!1,e.toLowerCase(),null,!0,!0)});function Di(e,t,r,n){var a=$e.hasOwnProperty(t)?$e[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ap(t,r,a,n)&&(r=null),n||a===null?np(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var sr=tp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ks=Symbol.for("react.element"),rn=Symbol.for("react.portal"),nn=Symbol.for("react.fragment"),Ai=Symbol.for("react.strict_mode"),Nl=Symbol.for("react.profiler"),Ad=Symbol.for("react.provider"),zd=Symbol.for("react.context"),zi=Symbol.for("react.forward_ref"),kl=Symbol.for("react.suspense"),Sl=Symbol.for("react.suspense_list"),Ri=Symbol.for("react.memo"),ur=Symbol.for("react.lazy"),Rd=Symbol.for("react.offscreen"),Ic=Symbol.iterator;function Mn(e){return e===null||typeof e!="object"?null:(e=Ic&&e[Ic]||e["@@iterator"],typeof e=="function"?e:null)}var Ne=Object.assign,$o;function Kn(e){if($o===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);$o=t&&t[1]||""}return`
`+$o+e}var Uo=!1;function Wo(e,t){if(!e||Uo)return"";Uo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),o=n.stack.split(`
`),l=a.length-1,c=o.length-1;1<=l&&0<=c&&a[l]!==o[c];)c--;for(;1<=l&&0<=c;l--,c--)if(a[l]!==o[c]){if(l!==1||c!==1)do if(l--,c--,0>c||a[l]!==o[c]){var i=`
`+a[l].replace(" at new "," at ");return e.displayName&&i.includes("<anonymous>")&&(i=i.replace("<anonymous>",e.displayName)),i}while(1<=l&&0<=c);break}}}finally{Uo=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Kn(e):""}function op(e){switch(e.tag){case 5:return Kn(e.type);case 16:return Kn("Lazy");case 13:return Kn("Suspense");case 19:return Kn("SuspenseList");case 0:case 2:case 15:return e=Wo(e.type,!1),e;case 11:return e=Wo(e.type.render,!1),e;case 1:return e=Wo(e.type,!0),e;default:return""}}function Cl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nn:return"Fragment";case rn:return"Portal";case Nl:return"Profiler";case Ai:return"StrictMode";case kl:return"Suspense";case Sl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case zd:return(e.displayName||"Context")+".Consumer";case Ad:return(e._context.displayName||"Context")+".Provider";case zi:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ri:return t=e.displayName||null,t!==null?t:Cl(e.type)||"Memo";case ur:t=e._payload,e=e._init;try{return Cl(e(t))}catch{}}return null}function lp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cl(t);case 8:return t===Ai?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function _r(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Id(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ip(e){var t=Id(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(l){n=""+l,o.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Js(e){e._valueTracker||(e._valueTracker=ip(e))}function Od(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Id(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Fa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function El(e,t){var r=t.checked;return Ne({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Oc(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=_r(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Md(e,t){t=t.checked,t!=null&&Di(e,"checked",t,!1)}function _l(e,t){Md(e,t);var r=_r(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Tl(e,t.type,r):t.hasOwnProperty("defaultValue")&&Tl(e,t.type,_r(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Mc(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Tl(e,t,r){(t!=="number"||Fa(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Jn=Array.isArray;function pn(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+_r(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Pl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(A(91));return Ne({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Fc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(A(92));if(Jn(r)){if(1<r.length)throw Error(A(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:_r(r)}}function Fd(e,t){var r=_r(t.value),n=_r(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Bc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Bd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ll(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Bd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Xs,$d=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Xs=Xs||document.createElement("div"),Xs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Xs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ps(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ts={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cp=["Webkit","ms","Moz","O"];Object.keys(ts).forEach(function(e){cp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ts[t]=ts[e]})});function Ud(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ts.hasOwnProperty(e)&&ts[e]?(""+t).trim():t+"px"}function Wd(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=Ud(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var up=Ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dl(e,t){if(t){if(up[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(A(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(A(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(A(61))}if(t.style!=null&&typeof t.style!="object")throw Error(A(62))}}function Al(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zl=null;function Ii(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Rl=null,gn=null,xn=null;function $c(e){if(e=Us(e)){if(typeof Rl!="function")throw Error(A(280));var t=e.stateNode;t&&(t=vo(t),Rl(e.stateNode,e.type,t))}}function Hd(e){gn?xn?xn.push(e):xn=[e]:gn=e}function Vd(){if(gn){var e=gn,t=xn;if(xn=gn=null,$c(e),t)for(e=0;e<t.length;e++)$c(t[e])}}function qd(e,t){return e(t)}function Qd(){}var Ho=!1;function Gd(e,t,r){if(Ho)return e(t,r);Ho=!0;try{return qd(e,t,r)}finally{Ho=!1,(gn!==null||xn!==null)&&(Qd(),Vd())}}function gs(e,t){var r=e.stateNode;if(r===null)return null;var n=vo(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(A(231,t,typeof r));return r}var Il=!1;if(Zt)try{var Fn={};Object.defineProperty(Fn,"passive",{get:function(){Il=!0}}),window.addEventListener("test",Fn,Fn),window.removeEventListener("test",Fn,Fn)}catch{Il=!1}function dp(e,t,r,n,a,o,l,c,i){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(h){this.onError(h)}}var rs=!1,Ba=null,$a=!1,Ol=null,fp={onError:function(e){rs=!0,Ba=e}};function mp(e,t,r,n,a,o,l,c,i){rs=!1,Ba=null,dp.apply(fp,arguments)}function hp(e,t,r,n,a,o,l,c,i){if(mp.apply(this,arguments),rs){if(rs){var u=Ba;rs=!1,Ba=null}else throw Error(A(198));$a||($a=!0,Ol=u)}}function Xr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Yd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Uc(e){if(Xr(e)!==e)throw Error(A(188))}function pp(e){var t=e.alternate;if(!t){if(t=Xr(e),t===null)throw Error(A(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var o=a.alternate;if(o===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return Uc(a),e;if(o===n)return Uc(a),t;o=o.sibling}throw Error(A(188))}if(r.return!==n.return)r=a,n=o;else{for(var l=!1,c=a.child;c;){if(c===r){l=!0,r=a,n=o;break}if(c===n){l=!0,n=a,r=o;break}c=c.sibling}if(!l){for(c=o.child;c;){if(c===r){l=!0,r=o,n=a;break}if(c===n){l=!0,n=o,r=a;break}c=c.sibling}if(!l)throw Error(A(189))}}if(r.alternate!==n)throw Error(A(190))}if(r.tag!==3)throw Error(A(188));return r.stateNode.current===r?e:t}function Kd(e){return e=pp(e),e!==null?Jd(e):null}function Jd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Jd(e);if(t!==null)return t;e=e.sibling}return null}var Xd=dt.unstable_scheduleCallback,Wc=dt.unstable_cancelCallback,gp=dt.unstable_shouldYield,xp=dt.unstable_requestPaint,Ce=dt.unstable_now,yp=dt.unstable_getCurrentPriorityLevel,Oi=dt.unstable_ImmediatePriority,Zd=dt.unstable_UserBlockingPriority,Ua=dt.unstable_NormalPriority,vp=dt.unstable_LowPriority,ef=dt.unstable_IdlePriority,po=null,Ft=null;function wp(e){if(Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(po,e,void 0,(e.current.flags&128)===128)}catch{}}var Dt=Math.clz32?Math.clz32:Np,bp=Math.log,jp=Math.LN2;function Np(e){return e>>>=0,e===0?32:31-(bp(e)/jp|0)|0}var Zs=64,ea=4194304;function Xn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Wa(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,o=e.pingedLanes,l=r&268435455;if(l!==0){var c=l&~a;c!==0?n=Xn(c):(o&=l,o!==0&&(n=Xn(o)))}else l=r&~a,l!==0?n=Xn(l):o!==0&&(n=Xn(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Dt(t),a=1<<r,n|=e[r],t&=~a;return n}function kp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sp(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var l=31-Dt(o),c=1<<l,i=a[l];i===-1?(!(c&r)||c&n)&&(a[l]=kp(c,t)):i<=t&&(e.expiredLanes|=c),o&=~c}}function Ml(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function tf(){var e=Zs;return Zs<<=1,!(Zs&4194240)&&(Zs=64),e}function Vo(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Bs(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Dt(t),e[t]=r}function Cp(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Dt(r),o=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~o}}function Mi(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Dt(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var fe=0;function rf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var nf,Fi,sf,af,of,Fl=!1,ta=[],yr=null,vr=null,wr=null,xs=new Map,ys=new Map,fr=[],Ep="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hc(e,t){switch(e){case"focusin":case"focusout":yr=null;break;case"dragenter":case"dragleave":vr=null;break;case"mouseover":case"mouseout":wr=null;break;case"pointerover":case"pointerout":xs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ys.delete(t.pointerId)}}function Bn(e,t,r,n,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[a]},t!==null&&(t=Us(t),t!==null&&Fi(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function _p(e,t,r,n,a){switch(t){case"focusin":return yr=Bn(yr,e,t,r,n,a),!0;case"dragenter":return vr=Bn(vr,e,t,r,n,a),!0;case"mouseover":return wr=Bn(wr,e,t,r,n,a),!0;case"pointerover":var o=a.pointerId;return xs.set(o,Bn(xs.get(o)||null,e,t,r,n,a)),!0;case"gotpointercapture":return o=a.pointerId,ys.set(o,Bn(ys.get(o)||null,e,t,r,n,a)),!0}return!1}function lf(e){var t=Fr(e.target);if(t!==null){var r=Xr(t);if(r!==null){if(t=r.tag,t===13){if(t=Yd(r),t!==null){e.blockedOn=t,of(e.priority,function(){sf(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ka(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Bl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);zl=n,r.target.dispatchEvent(n),zl=null}else return t=Us(r),t!==null&&Fi(t),e.blockedOn=r,!1;t.shift()}return!0}function Vc(e,t,r){ka(e)&&r.delete(t)}function Tp(){Fl=!1,yr!==null&&ka(yr)&&(yr=null),vr!==null&&ka(vr)&&(vr=null),wr!==null&&ka(wr)&&(wr=null),xs.forEach(Vc),ys.forEach(Vc)}function $n(e,t){e.blockedOn===t&&(e.blockedOn=null,Fl||(Fl=!0,dt.unstable_scheduleCallback(dt.unstable_NormalPriority,Tp)))}function vs(e){function t(a){return $n(a,e)}if(0<ta.length){$n(ta[0],e);for(var r=1;r<ta.length;r++){var n=ta[r];n.blockedOn===e&&(n.blockedOn=null)}}for(yr!==null&&$n(yr,e),vr!==null&&$n(vr,e),wr!==null&&$n(wr,e),xs.forEach(t),ys.forEach(t),r=0;r<fr.length;r++)n=fr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<fr.length&&(r=fr[0],r.blockedOn===null);)lf(r),r.blockedOn===null&&fr.shift()}var yn=sr.ReactCurrentBatchConfig,Ha=!0;function Pp(e,t,r,n){var a=fe,o=yn.transition;yn.transition=null;try{fe=1,Bi(e,t,r,n)}finally{fe=a,yn.transition=o}}function Lp(e,t,r,n){var a=fe,o=yn.transition;yn.transition=null;try{fe=4,Bi(e,t,r,n)}finally{fe=a,yn.transition=o}}function Bi(e,t,r,n){if(Ha){var a=Bl(e,t,r,n);if(a===null)tl(e,t,n,Va,r),Hc(e,n);else if(_p(a,e,t,r,n))n.stopPropagation();else if(Hc(e,n),t&4&&-1<Ep.indexOf(e)){for(;a!==null;){var o=Us(a);if(o!==null&&nf(o),o=Bl(e,t,r,n),o===null&&tl(e,t,n,Va,r),o===a)break;a=o}a!==null&&n.stopPropagation()}else tl(e,t,n,null,r)}}var Va=null;function Bl(e,t,r,n){if(Va=null,e=Ii(n),e=Fr(e),e!==null)if(t=Xr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Yd(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Va=e,null}function cf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yp()){case Oi:return 1;case Zd:return 4;case Ua:case vp:return 16;case ef:return 536870912;default:return 16}default:return 16}}var hr=null,$i=null,Sa=null;function uf(){if(Sa)return Sa;var e,t=$i,r=t.length,n,a="value"in hr?hr.value:hr.textContent,o=a.length;for(e=0;e<r&&t[e]===a[e];e++);var l=r-e;for(n=1;n<=l&&t[r-n]===a[o-n];n++);return Sa=a.slice(e,1<n?1-n:void 0)}function Ca(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ra(){return!0}function qc(){return!1}function mt(e){function t(r,n,a,o,l){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(r=e[c],this[c]=r?r(o):o[c]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ra:qc,this.isPropagationStopped=qc,this}return Ne(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ra)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ra)},persist:function(){},isPersistent:ra}),t}var An={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ui=mt(An),$s=Ne({},An,{view:0,detail:0}),Dp=mt($s),qo,Qo,Un,go=Ne({},$s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Un&&(Un&&e.type==="mousemove"?(qo=e.screenX-Un.screenX,Qo=e.screenY-Un.screenY):Qo=qo=0,Un=e),qo)},movementY:function(e){return"movementY"in e?e.movementY:Qo}}),Qc=mt(go),Ap=Ne({},go,{dataTransfer:0}),zp=mt(Ap),Rp=Ne({},$s,{relatedTarget:0}),Go=mt(Rp),Ip=Ne({},An,{animationName:0,elapsedTime:0,pseudoElement:0}),Op=mt(Ip),Mp=Ne({},An,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fp=mt(Mp),Bp=Ne({},An,{data:0}),Gc=mt(Bp),$p={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Up={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Wp[e])?!!t[e]:!1}function Wi(){return Hp}var Vp=Ne({},$s,{key:function(e){if(e.key){var t=$p[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ca(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Up[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wi,charCode:function(e){return e.type==="keypress"?Ca(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ca(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),qp=mt(Vp),Qp=Ne({},go,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yc=mt(Qp),Gp=Ne({},$s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wi}),Yp=mt(Gp),Kp=Ne({},An,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jp=mt(Kp),Xp=Ne({},go,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zp=mt(Xp),eg=[9,13,27,32],Hi=Zt&&"CompositionEvent"in window,ns=null;Zt&&"documentMode"in document&&(ns=document.documentMode);var tg=Zt&&"TextEvent"in window&&!ns,df=Zt&&(!Hi||ns&&8<ns&&11>=ns),Kc=" ",Jc=!1;function ff(e,t){switch(e){case"keyup":return eg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sn=!1;function rg(e,t){switch(e){case"compositionend":return mf(t);case"keypress":return t.which!==32?null:(Jc=!0,Kc);case"textInput":return e=t.data,e===Kc&&Jc?null:e;default:return null}}function ng(e,t){if(sn)return e==="compositionend"||!Hi&&ff(e,t)?(e=uf(),Sa=$i=hr=null,sn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return df&&t.locale!=="ko"?null:t.data;default:return null}}var sg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sg[e.type]:t==="textarea"}function hf(e,t,r,n){Hd(n),t=qa(t,"onChange"),0<t.length&&(r=new Ui("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ss=null,ws=null;function ag(e){Sf(e,0)}function xo(e){var t=ln(e);if(Od(t))return e}function og(e,t){if(e==="change")return t}var pf=!1;if(Zt){var Yo;if(Zt){var Ko="oninput"in document;if(!Ko){var Zc=document.createElement("div");Zc.setAttribute("oninput","return;"),Ko=typeof Zc.oninput=="function"}Yo=Ko}else Yo=!1;pf=Yo&&(!document.documentMode||9<document.documentMode)}function eu(){ss&&(ss.detachEvent("onpropertychange",gf),ws=ss=null)}function gf(e){if(e.propertyName==="value"&&xo(ws)){var t=[];hf(t,ws,e,Ii(e)),Gd(ag,t)}}function lg(e,t,r){e==="focusin"?(eu(),ss=t,ws=r,ss.attachEvent("onpropertychange",gf)):e==="focusout"&&eu()}function ig(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xo(ws)}function cg(e,t){if(e==="click")return xo(t)}function ug(e,t){if(e==="input"||e==="change")return xo(t)}function dg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zt=typeof Object.is=="function"?Object.is:dg;function bs(e,t){if(zt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!jl.call(t,a)||!zt(e[a],t[a]))return!1}return!0}function tu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ru(e,t){var r=tu(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=tu(r)}}function xf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?xf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function yf(){for(var e=window,t=Fa();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Fa(e.document)}return t}function Vi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function fg(e){var t=yf(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&xf(r.ownerDocument.documentElement,r)){if(n!==null&&Vi(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,o=Math.min(n.start,a);n=n.end===void 0?o:Math.min(n.end,a),!e.extend&&o>n&&(a=n,n=o,o=a),a=ru(r,o);var l=ru(r,n);a&&l&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mg=Zt&&"documentMode"in document&&11>=document.documentMode,an=null,$l=null,as=null,Ul=!1;function nu(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ul||an==null||an!==Fa(n)||(n=an,"selectionStart"in n&&Vi(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),as&&bs(as,n)||(as=n,n=qa($l,"onSelect"),0<n.length&&(t=new Ui("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=an)))}function na(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var on={animationend:na("Animation","AnimationEnd"),animationiteration:na("Animation","AnimationIteration"),animationstart:na("Animation","AnimationStart"),transitionend:na("Transition","TransitionEnd")},Jo={},vf={};Zt&&(vf=document.createElement("div").style,"AnimationEvent"in window||(delete on.animationend.animation,delete on.animationiteration.animation,delete on.animationstart.animation),"TransitionEvent"in window||delete on.transitionend.transition);function yo(e){if(Jo[e])return Jo[e];if(!on[e])return e;var t=on[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in vf)return Jo[e]=t[r];return e}var wf=yo("animationend"),bf=yo("animationiteration"),jf=yo("animationstart"),Nf=yo("transitionend"),kf=new Map,su="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){kf.set(e,t),Jr(t,[e])}for(var Xo=0;Xo<su.length;Xo++){var Zo=su[Xo],hg=Zo.toLowerCase(),pg=Zo[0].toUpperCase()+Zo.slice(1);Pr(hg,"on"+pg)}Pr(wf,"onAnimationEnd");Pr(bf,"onAnimationIteration");Pr(jf,"onAnimationStart");Pr("dblclick","onDoubleClick");Pr("focusin","onFocus");Pr("focusout","onBlur");Pr(Nf,"onTransitionEnd");jn("onMouseEnter",["mouseout","mouseover"]);jn("onMouseLeave",["mouseout","mouseover"]);jn("onPointerEnter",["pointerout","pointerover"]);jn("onPointerLeave",["pointerout","pointerover"]);Jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Jr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zn));function au(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,hp(n,t,void 0,e),e.currentTarget=null}function Sf(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var l=n.length-1;0<=l;l--){var c=n[l],i=c.instance,u=c.currentTarget;if(c=c.listener,i!==o&&a.isPropagationStopped())break e;au(a,c,u),o=i}else for(l=0;l<n.length;l++){if(c=n[l],i=c.instance,u=c.currentTarget,c=c.listener,i!==o&&a.isPropagationStopped())break e;au(a,c,u),o=i}}}if($a)throw e=Ol,$a=!1,Ol=null,e}function ge(e,t){var r=t[Ql];r===void 0&&(r=t[Ql]=new Set);var n=e+"__bubble";r.has(n)||(Cf(t,e,2,!1),r.add(n))}function el(e,t,r){var n=0;t&&(n|=4),Cf(r,e,n,t)}var sa="_reactListening"+Math.random().toString(36).slice(2);function js(e){if(!e[sa]){e[sa]=!0,Dd.forEach(function(r){r!=="selectionchange"&&(gg.has(r)||el(r,!1,e),el(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[sa]||(t[sa]=!0,el("selectionchange",!1,t))}}function Cf(e,t,r,n){switch(cf(t)){case 1:var a=Pp;break;case 4:a=Lp;break;default:a=Bi}r=a.bind(null,t,r,e),a=void 0,!Il||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function tl(e,t,r,n,a){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var c=n.stateNode.containerInfo;if(c===a||c.nodeType===8&&c.parentNode===a)break;if(l===4)for(l=n.return;l!==null;){var i=l.tag;if((i===3||i===4)&&(i=l.stateNode.containerInfo,i===a||i.nodeType===8&&i.parentNode===a))return;l=l.return}for(;c!==null;){if(l=Fr(c),l===null)return;if(i=l.tag,i===5||i===6){n=o=l;continue e}c=c.parentNode}}n=n.return}Gd(function(){var u=o,h=Ii(r),g=[];e:{var p=kf.get(e);if(p!==void 0){var v=Ui,b=e;switch(e){case"keypress":if(Ca(r)===0)break e;case"keydown":case"keyup":v=qp;break;case"focusin":b="focus",v=Go;break;case"focusout":b="blur",v=Go;break;case"beforeblur":case"afterblur":v=Go;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Qc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=zp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Yp;break;case wf:case bf:case jf:v=Op;break;case Nf:v=Jp;break;case"scroll":v=Dp;break;case"wheel":v=Zp;break;case"copy":case"cut":case"paste":v=Fp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Yc}var j=(t&4)!==0,w=!j&&e==="scroll",y=j?p!==null?p+"Capture":null:p;j=[];for(var m=u,f;m!==null;){f=m;var x=f.stateNode;if(f.tag===5&&x!==null&&(f=x,y!==null&&(x=gs(m,y),x!=null&&j.push(Ns(m,x,f)))),w)break;m=m.return}0<j.length&&(p=new v(p,b,null,r,h),g.push({event:p,listeners:j}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",p&&r!==zl&&(b=r.relatedTarget||r.fromElement)&&(Fr(b)||b[er]))break e;if((v||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,v?(b=r.relatedTarget||r.toElement,v=u,b=b?Fr(b):null,b!==null&&(w=Xr(b),b!==w||b.tag!==5&&b.tag!==6)&&(b=null)):(v=null,b=u),v!==b)){if(j=Qc,x="onMouseLeave",y="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(j=Yc,x="onPointerLeave",y="onPointerEnter",m="pointer"),w=v==null?p:ln(v),f=b==null?p:ln(b),p=new j(x,m+"leave",v,r,h),p.target=w,p.relatedTarget=f,x=null,Fr(h)===u&&(j=new j(y,m+"enter",b,r,h),j.target=f,j.relatedTarget=w,x=j),w=x,v&&b)t:{for(j=v,y=b,m=0,f=j;f;f=tn(f))m++;for(f=0,x=y;x;x=tn(x))f++;for(;0<m-f;)j=tn(j),m--;for(;0<f-m;)y=tn(y),f--;for(;m--;){if(j===y||y!==null&&j===y.alternate)break t;j=tn(j),y=tn(y)}j=null}else j=null;v!==null&&ou(g,p,v,j,!1),b!==null&&w!==null&&ou(g,w,b,j,!0)}}e:{if(p=u?ln(u):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var N=og;else if(Xc(p))if(pf)N=ug;else{N=ig;var C=lg}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=cg);if(N&&(N=N(e,u))){hf(g,N,r,h);break e}C&&C(e,p,u),e==="focusout"&&(C=p._wrapperState)&&C.controlled&&p.type==="number"&&Tl(p,"number",p.value)}switch(C=u?ln(u):window,e){case"focusin":(Xc(C)||C.contentEditable==="true")&&(an=C,$l=u,as=null);break;case"focusout":as=$l=an=null;break;case"mousedown":Ul=!0;break;case"contextmenu":case"mouseup":case"dragend":Ul=!1,nu(g,r,h);break;case"selectionchange":if(mg)break;case"keydown":case"keyup":nu(g,r,h)}var k;if(Hi)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else sn?ff(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(df&&r.locale!=="ko"&&(sn||S!=="onCompositionStart"?S==="onCompositionEnd"&&sn&&(k=uf()):(hr=h,$i="value"in hr?hr.value:hr.textContent,sn=!0)),C=qa(u,S),0<C.length&&(S=new Gc(S,e,null,r,h),g.push({event:S,listeners:C}),k?S.data=k:(k=mf(r),k!==null&&(S.data=k)))),(k=tg?rg(e,r):ng(e,r))&&(u=qa(u,"onBeforeInput"),0<u.length&&(h=new Gc("onBeforeInput","beforeinput",null,r,h),g.push({event:h,listeners:u}),h.data=k))}Sf(g,t)})}function Ns(e,t,r){return{instance:e,listener:t,currentTarget:r}}function qa(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=gs(e,r),o!=null&&n.unshift(Ns(e,o,a)),o=gs(e,t),o!=null&&n.push(Ns(e,o,a))),e=e.return}return n}function tn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ou(e,t,r,n,a){for(var o=t._reactName,l=[];r!==null&&r!==n;){var c=r,i=c.alternate,u=c.stateNode;if(i!==null&&i===n)break;c.tag===5&&u!==null&&(c=u,a?(i=gs(r,o),i!=null&&l.unshift(Ns(r,i,c))):a||(i=gs(r,o),i!=null&&l.push(Ns(r,i,c)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var xg=/\r\n?/g,yg=/\u0000|\uFFFD/g;function lu(e){return(typeof e=="string"?e:""+e).replace(xg,`
`).replace(yg,"")}function aa(e,t,r){if(t=lu(t),lu(e)!==t&&r)throw Error(A(425))}function Qa(){}var Wl=null,Hl=null;function Vl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ql=typeof setTimeout=="function"?setTimeout:void 0,vg=typeof clearTimeout=="function"?clearTimeout:void 0,iu=typeof Promise=="function"?Promise:void 0,wg=typeof queueMicrotask=="function"?queueMicrotask:typeof iu<"u"?function(e){return iu.resolve(null).then(e).catch(bg)}:ql;function bg(e){setTimeout(function(){throw e})}function rl(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),vs(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);vs(t)}function br(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function cu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var zn=Math.random().toString(36).slice(2),Mt="__reactFiber$"+zn,ks="__reactProps$"+zn,er="__reactContainer$"+zn,Ql="__reactEvents$"+zn,jg="__reactListeners$"+zn,Ng="__reactHandles$"+zn;function Fr(e){var t=e[Mt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[er]||r[Mt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=cu(e);e!==null;){if(r=e[Mt])return r;e=cu(e)}return t}e=r,r=e.parentNode}return null}function Us(e){return e=e[Mt]||e[er],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ln(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(A(33))}function vo(e){return e[ks]||null}var Gl=[],cn=-1;function Lr(e){return{current:e}}function xe(e){0>cn||(e.current=Gl[cn],Gl[cn]=null,cn--)}function he(e,t){cn++,Gl[cn]=e.current,e.current=t}var Tr={},Ge=Lr(Tr),rt=Lr(!1),qr=Tr;function Nn(e,t){var r=e.type.contextTypes;if(!r)return Tr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in r)a[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function nt(e){return e=e.childContextTypes,e!=null}function Ga(){xe(rt),xe(Ge)}function uu(e,t,r){if(Ge.current!==Tr)throw Error(A(168));he(Ge,t),he(rt,r)}function Ef(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(A(108,lp(e)||"Unknown",a));return Ne({},r,n)}function Ya(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Tr,qr=Ge.current,he(Ge,e),he(rt,rt.current),!0}function du(e,t,r){var n=e.stateNode;if(!n)throw Error(A(169));r?(e=Ef(e,t,qr),n.__reactInternalMemoizedMergedChildContext=e,xe(rt),xe(Ge),he(Ge,e)):xe(rt),he(rt,r)}var Gt=null,wo=!1,nl=!1;function _f(e){Gt===null?Gt=[e]:Gt.push(e)}function kg(e){wo=!0,_f(e)}function Dr(){if(!nl&&Gt!==null){nl=!0;var e=0,t=fe;try{var r=Gt;for(fe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Gt=null,wo=!1}catch(a){throw Gt!==null&&(Gt=Gt.slice(e+1)),Xd(Oi,Dr),a}finally{fe=t,nl=!1}}return null}var un=[],dn=0,Ka=null,Ja=0,pt=[],gt=0,Qr=null,Yt=1,Kt="";function Or(e,t){un[dn++]=Ja,un[dn++]=Ka,Ka=e,Ja=t}function Tf(e,t,r){pt[gt++]=Yt,pt[gt++]=Kt,pt[gt++]=Qr,Qr=e;var n=Yt;e=Kt;var a=32-Dt(n)-1;n&=~(1<<a),r+=1;var o=32-Dt(t)+a;if(30<o){var l=a-a%5;o=(n&(1<<l)-1).toString(32),n>>=l,a-=l,Yt=1<<32-Dt(t)+a|r<<a|n,Kt=o+e}else Yt=1<<o|r<<a|n,Kt=e}function qi(e){e.return!==null&&(Or(e,1),Tf(e,1,0))}function Qi(e){for(;e===Ka;)Ka=un[--dn],un[dn]=null,Ja=un[--dn],un[dn]=null;for(;e===Qr;)Qr=pt[--gt],pt[gt]=null,Kt=pt[--gt],pt[gt]=null,Yt=pt[--gt],pt[gt]=null}var ut=null,it=null,we=!1,Lt=null;function Pf(e,t){var r=yt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function fu(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ut=e,it=br(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ut=e,it=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Qr!==null?{id:Yt,overflow:Kt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=yt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ut=e,it=null,!0):!1;default:return!1}}function Yl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Kl(e){if(we){var t=it;if(t){var r=t;if(!fu(e,t)){if(Yl(e))throw Error(A(418));t=br(r.nextSibling);var n=ut;t&&fu(e,t)?Pf(n,r):(e.flags=e.flags&-4097|2,we=!1,ut=e)}}else{if(Yl(e))throw Error(A(418));e.flags=e.flags&-4097|2,we=!1,ut=e}}}function mu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ut=e}function oa(e){if(e!==ut)return!1;if(!we)return mu(e),we=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Vl(e.type,e.memoizedProps)),t&&(t=it)){if(Yl(e))throw Lf(),Error(A(418));for(;t;)Pf(e,t),t=br(t.nextSibling)}if(mu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(A(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){it=br(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}it=null}}else it=ut?br(e.stateNode.nextSibling):null;return!0}function Lf(){for(var e=it;e;)e=br(e.nextSibling)}function kn(){it=ut=null,we=!1}function Gi(e){Lt===null?Lt=[e]:Lt.push(e)}var Sg=sr.ReactCurrentBatchConfig;function Wn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(A(309));var n=r.stateNode}if(!n)throw Error(A(147,e));var a=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(l){var c=a.refs;l===null?delete c[o]:c[o]=l},t._stringRef=o,t)}if(typeof e!="string")throw Error(A(284));if(!r._owner)throw Error(A(290,e))}return e}function la(e,t){throw e=Object.prototype.toString.call(t),Error(A(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function hu(e){var t=e._init;return t(e._payload)}function Df(e){function t(y,m){if(e){var f=y.deletions;f===null?(y.deletions=[m],y.flags|=16):f.push(m)}}function r(y,m){if(!e)return null;for(;m!==null;)t(y,m),m=m.sibling;return null}function n(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function a(y,m){return y=Sr(y,m),y.index=0,y.sibling=null,y}function o(y,m,f){return y.index=f,e?(f=y.alternate,f!==null?(f=f.index,f<m?(y.flags|=2,m):f):(y.flags|=2,m)):(y.flags|=1048576,m)}function l(y){return e&&y.alternate===null&&(y.flags|=2),y}function c(y,m,f,x){return m===null||m.tag!==6?(m=ul(f,y.mode,x),m.return=y,m):(m=a(m,f),m.return=y,m)}function i(y,m,f,x){var N=f.type;return N===nn?h(y,m,f.props.children,x,f.key):m!==null&&(m.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ur&&hu(N)===m.type)?(x=a(m,f.props),x.ref=Wn(y,m,f),x.return=y,x):(x=Aa(f.type,f.key,f.props,null,y.mode,x),x.ref=Wn(y,m,f),x.return=y,x)}function u(y,m,f,x){return m===null||m.tag!==4||m.stateNode.containerInfo!==f.containerInfo||m.stateNode.implementation!==f.implementation?(m=dl(f,y.mode,x),m.return=y,m):(m=a(m,f.children||[]),m.return=y,m)}function h(y,m,f,x,N){return m===null||m.tag!==7?(m=Wr(f,y.mode,x,N),m.return=y,m):(m=a(m,f),m.return=y,m)}function g(y,m,f){if(typeof m=="string"&&m!==""||typeof m=="number")return m=ul(""+m,y.mode,f),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ks:return f=Aa(m.type,m.key,m.props,null,y.mode,f),f.ref=Wn(y,null,m),f.return=y,f;case rn:return m=dl(m,y.mode,f),m.return=y,m;case ur:var x=m._init;return g(y,x(m._payload),f)}if(Jn(m)||Mn(m))return m=Wr(m,y.mode,f,null),m.return=y,m;la(y,m)}return null}function p(y,m,f,x){var N=m!==null?m.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return N!==null?null:c(y,m,""+f,x);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Ks:return f.key===N?i(y,m,f,x):null;case rn:return f.key===N?u(y,m,f,x):null;case ur:return N=f._init,p(y,m,N(f._payload),x)}if(Jn(f)||Mn(f))return N!==null?null:h(y,m,f,x,null);la(y,f)}return null}function v(y,m,f,x,N){if(typeof x=="string"&&x!==""||typeof x=="number")return y=y.get(f)||null,c(m,y,""+x,N);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ks:return y=y.get(x.key===null?f:x.key)||null,i(m,y,x,N);case rn:return y=y.get(x.key===null?f:x.key)||null,u(m,y,x,N);case ur:var C=x._init;return v(y,m,f,C(x._payload),N)}if(Jn(x)||Mn(x))return y=y.get(f)||null,h(m,y,x,N,null);la(m,x)}return null}function b(y,m,f,x){for(var N=null,C=null,k=m,S=m=0,P=null;k!==null&&S<f.length;S++){k.index>S?(P=k,k=null):P=k.sibling;var I=p(y,k,f[S],x);if(I===null){k===null&&(k=P);break}e&&k&&I.alternate===null&&t(y,k),m=o(I,m,S),C===null?N=I:C.sibling=I,C=I,k=P}if(S===f.length)return r(y,k),we&&Or(y,S),N;if(k===null){for(;S<f.length;S++)k=g(y,f[S],x),k!==null&&(m=o(k,m,S),C===null?N=k:C.sibling=k,C=k);return we&&Or(y,S),N}for(k=n(y,k);S<f.length;S++)P=v(k,y,S,f[S],x),P!==null&&(e&&P.alternate!==null&&k.delete(P.key===null?S:P.key),m=o(P,m,S),C===null?N=P:C.sibling=P,C=P);return e&&k.forEach(function(q){return t(y,q)}),we&&Or(y,S),N}function j(y,m,f,x){var N=Mn(f);if(typeof N!="function")throw Error(A(150));if(f=N.call(f),f==null)throw Error(A(151));for(var C=N=null,k=m,S=m=0,P=null,I=f.next();k!==null&&!I.done;S++,I=f.next()){k.index>S?(P=k,k=null):P=k.sibling;var q=p(y,k,I.value,x);if(q===null){k===null&&(k=P);break}e&&k&&q.alternate===null&&t(y,k),m=o(q,m,S),C===null?N=q:C.sibling=q,C=q,k=P}if(I.done)return r(y,k),we&&Or(y,S),N;if(k===null){for(;!I.done;S++,I=f.next())I=g(y,I.value,x),I!==null&&(m=o(I,m,S),C===null?N=I:C.sibling=I,C=I);return we&&Or(y,S),N}for(k=n(y,k);!I.done;S++,I=f.next())I=v(k,y,S,I.value,x),I!==null&&(e&&I.alternate!==null&&k.delete(I.key===null?S:I.key),m=o(I,m,S),C===null?N=I:C.sibling=I,C=I);return e&&k.forEach(function(V){return t(y,V)}),we&&Or(y,S),N}function w(y,m,f,x){if(typeof f=="object"&&f!==null&&f.type===nn&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case Ks:e:{for(var N=f.key,C=m;C!==null;){if(C.key===N){if(N=f.type,N===nn){if(C.tag===7){r(y,C.sibling),m=a(C,f.props.children),m.return=y,y=m;break e}}else if(C.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ur&&hu(N)===C.type){r(y,C.sibling),m=a(C,f.props),m.ref=Wn(y,C,f),m.return=y,y=m;break e}r(y,C);break}else t(y,C);C=C.sibling}f.type===nn?(m=Wr(f.props.children,y.mode,x,f.key),m.return=y,y=m):(x=Aa(f.type,f.key,f.props,null,y.mode,x),x.ref=Wn(y,m,f),x.return=y,y=x)}return l(y);case rn:e:{for(C=f.key;m!==null;){if(m.key===C)if(m.tag===4&&m.stateNode.containerInfo===f.containerInfo&&m.stateNode.implementation===f.implementation){r(y,m.sibling),m=a(m,f.children||[]),m.return=y,y=m;break e}else{r(y,m);break}else t(y,m);m=m.sibling}m=dl(f,y.mode,x),m.return=y,y=m}return l(y);case ur:return C=f._init,w(y,m,C(f._payload),x)}if(Jn(f))return b(y,m,f,x);if(Mn(f))return j(y,m,f,x);la(y,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,m!==null&&m.tag===6?(r(y,m.sibling),m=a(m,f),m.return=y,y=m):(r(y,m),m=ul(f,y.mode,x),m.return=y,y=m),l(y)):r(y,m)}return w}var Sn=Df(!0),Af=Df(!1),Xa=Lr(null),Za=null,fn=null,Yi=null;function Ki(){Yi=fn=Za=null}function Ji(e){var t=Xa.current;xe(Xa),e._currentValue=t}function Jl(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function vn(e,t){Za=e,Yi=fn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(tt=!0),e.firstContext=null)}function jt(e){var t=e._currentValue;if(Yi!==e)if(e={context:e,memoizedValue:t,next:null},fn===null){if(Za===null)throw Error(A(308));fn=e,Za.dependencies={lanes:0,firstContext:e}}else fn=fn.next=e;return t}var Br=null;function Xi(e){Br===null?Br=[e]:Br.push(e)}function zf(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Xi(t)):(r.next=a.next,a.next=r),t.interleaved=r,tr(e,n)}function tr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var dr=!1;function Zi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Jt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function jr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,le&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,tr(e,r)}return a=n.interleaved,a===null?(t.next=t,Xi(n)):(t.next=a.next,a.next=t),n.interleaved=t,tr(e,r)}function Ea(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Mi(e,r)}}function pu(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?a=o=l:o=o.next=l,r=r.next}while(r!==null);o===null?a=o=t:o=o.next=t}else a=o=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function eo(e,t,r,n){var a=e.updateQueue;dr=!1;var o=a.firstBaseUpdate,l=a.lastBaseUpdate,c=a.shared.pending;if(c!==null){a.shared.pending=null;var i=c,u=i.next;i.next=null,l===null?o=u:l.next=u,l=i;var h=e.alternate;h!==null&&(h=h.updateQueue,c=h.lastBaseUpdate,c!==l&&(c===null?h.firstBaseUpdate=u:c.next=u,h.lastBaseUpdate=i))}if(o!==null){var g=a.baseState;l=0,h=u=i=null,c=o;do{var p=c.lane,v=c.eventTime;if((n&p)===p){h!==null&&(h=h.next={eventTime:v,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var b=e,j=c;switch(p=t,v=r,j.tag){case 1:if(b=j.payload,typeof b=="function"){g=b.call(v,g,p);break e}g=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=j.payload,p=typeof b=="function"?b.call(v,g,p):b,p==null)break e;g=Ne({},g,p);break e;case 2:dr=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,p=a.effects,p===null?a.effects=[c]:p.push(c))}else v={eventTime:v,lane:p,tag:c.tag,payload:c.payload,callback:c.callback,next:null},h===null?(u=h=v,i=g):h=h.next=v,l|=p;if(c=c.next,c===null){if(c=a.shared.pending,c===null)break;p=c,c=p.next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}while(!0);if(h===null&&(i=g),a.baseState=i,a.firstBaseUpdate=u,a.lastBaseUpdate=h,t=a.shared.interleaved,t!==null){a=t;do l|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);Yr|=l,e.lanes=l,e.memoizedState=g}}function gu(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(A(191,a));a.call(n)}}}var Ws={},Bt=Lr(Ws),Ss=Lr(Ws),Cs=Lr(Ws);function $r(e){if(e===Ws)throw Error(A(174));return e}function ec(e,t){switch(he(Cs,t),he(Ss,e),he(Bt,Ws),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ll(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ll(t,e)}xe(Bt),he(Bt,t)}function Cn(){xe(Bt),xe(Ss),xe(Cs)}function If(e){$r(Cs.current);var t=$r(Bt.current),r=Ll(t,e.type);t!==r&&(he(Ss,e),he(Bt,r))}function tc(e){Ss.current===e&&(xe(Bt),xe(Ss))}var be=Lr(0);function to(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var sl=[];function rc(){for(var e=0;e<sl.length;e++)sl[e]._workInProgressVersionPrimary=null;sl.length=0}var _a=sr.ReactCurrentDispatcher,al=sr.ReactCurrentBatchConfig,Gr=0,je=null,Le=null,Oe=null,ro=!1,os=!1,Es=0,Cg=0;function He(){throw Error(A(321))}function nc(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!zt(e[r],t[r]))return!1;return!0}function sc(e,t,r,n,a,o){if(Gr=o,je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,_a.current=e===null||e.memoizedState===null?Pg:Lg,e=r(n,a),os){o=0;do{if(os=!1,Es=0,25<=o)throw Error(A(301));o+=1,Oe=Le=null,t.updateQueue=null,_a.current=Dg,e=r(n,a)}while(os)}if(_a.current=no,t=Le!==null&&Le.next!==null,Gr=0,Oe=Le=je=null,ro=!1,t)throw Error(A(300));return e}function ac(){var e=Es!==0;return Es=0,e}function Ot(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?je.memoizedState=Oe=e:Oe=Oe.next=e,Oe}function Nt(){if(Le===null){var e=je.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var t=Oe===null?je.memoizedState:Oe.next;if(t!==null)Oe=t,Le=e;else{if(e===null)throw Error(A(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},Oe===null?je.memoizedState=Oe=e:Oe=Oe.next=e}return Oe}function _s(e,t){return typeof t=="function"?t(e):t}function ol(e){var t=Nt(),r=t.queue;if(r===null)throw Error(A(311));r.lastRenderedReducer=e;var n=Le,a=n.baseQueue,o=r.pending;if(o!==null){if(a!==null){var l=a.next;a.next=o.next,o.next=l}n.baseQueue=a=o,r.pending=null}if(a!==null){o=a.next,n=n.baseState;var c=l=null,i=null,u=o;do{var h=u.lane;if((Gr&h)===h)i!==null&&(i=i.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var g={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};i===null?(c=i=g,l=n):i=i.next=g,je.lanes|=h,Yr|=h}u=u.next}while(u!==null&&u!==o);i===null?l=n:i.next=c,zt(n,t.memoizedState)||(tt=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=i,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do o=a.lane,je.lanes|=o,Yr|=o,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ll(e){var t=Nt(),r=t.queue;if(r===null)throw Error(A(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,o=t.memoizedState;if(a!==null){r.pending=null;var l=a=a.next;do o=e(o,l.action),l=l.next;while(l!==a);zt(o,t.memoizedState)||(tt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function Of(){}function Mf(e,t){var r=je,n=Nt(),a=t(),o=!zt(n.memoizedState,a);if(o&&(n.memoizedState=a,tt=!0),n=n.queue,oc($f.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||Oe!==null&&Oe.memoizedState.tag&1){if(r.flags|=2048,Ts(9,Bf.bind(null,r,n,a,t),void 0,null),Me===null)throw Error(A(349));Gr&30||Ff(r,t,a)}return a}function Ff(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=je.updateQueue,t===null?(t={lastEffect:null,stores:null},je.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Bf(e,t,r,n){t.value=r,t.getSnapshot=n,Uf(t)&&Wf(e)}function $f(e,t,r){return r(function(){Uf(t)&&Wf(e)})}function Uf(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!zt(e,r)}catch{return!0}}function Wf(e){var t=tr(e,1);t!==null&&At(t,e,1,-1)}function xu(e){var t=Ot();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:e},t.queue=e,e=e.dispatch=Tg.bind(null,je,e),[t.memoizedState,e]}function Ts(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=je.updateQueue,t===null?(t={lastEffect:null,stores:null},je.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Hf(){return Nt().memoizedState}function Ta(e,t,r,n){var a=Ot();je.flags|=e,a.memoizedState=Ts(1|t,r,void 0,n===void 0?null:n)}function bo(e,t,r,n){var a=Nt();n=n===void 0?null:n;var o=void 0;if(Le!==null){var l=Le.memoizedState;if(o=l.destroy,n!==null&&nc(n,l.deps)){a.memoizedState=Ts(t,r,o,n);return}}je.flags|=e,a.memoizedState=Ts(1|t,r,o,n)}function yu(e,t){return Ta(8390656,8,e,t)}function oc(e,t){return bo(2048,8,e,t)}function Vf(e,t){return bo(4,2,e,t)}function qf(e,t){return bo(4,4,e,t)}function Qf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Gf(e,t,r){return r=r!=null?r.concat([e]):null,bo(4,4,Qf.bind(null,t,e),r)}function lc(){}function Yf(e,t){var r=Nt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&nc(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Kf(e,t){var r=Nt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&nc(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Jf(e,t,r){return Gr&21?(zt(r,t)||(r=tf(),je.lanes|=r,Yr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,tt=!0),e.memoizedState=r)}function Eg(e,t){var r=fe;fe=r!==0&&4>r?r:4,e(!0);var n=al.transition;al.transition={};try{e(!1),t()}finally{fe=r,al.transition=n}}function Xf(){return Nt().memoizedState}function _g(e,t,r){var n=kr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Zf(e))em(t,r);else if(r=zf(e,t,r,n),r!==null){var a=Je();At(r,e,n,a),tm(r,t,n)}}function Tg(e,t,r){var n=kr(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Zf(e))em(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var l=t.lastRenderedState,c=o(l,r);if(a.hasEagerState=!0,a.eagerState=c,zt(c,l)){var i=t.interleaved;i===null?(a.next=a,Xi(t)):(a.next=i.next,i.next=a),t.interleaved=a;return}}catch{}finally{}r=zf(e,t,a,n),r!==null&&(a=Je(),At(r,e,n,a),tm(r,t,n))}}function Zf(e){var t=e.alternate;return e===je||t!==null&&t===je}function em(e,t){os=ro=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function tm(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Mi(e,r)}}var no={readContext:jt,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useInsertionEffect:He,useLayoutEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useMutableSource:He,useSyncExternalStore:He,useId:He,unstable_isNewReconciler:!1},Pg={readContext:jt,useCallback:function(e,t){return Ot().memoizedState=[e,t===void 0?null:t],e},useContext:jt,useEffect:yu,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ta(4194308,4,Qf.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ta(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ta(4,2,e,t)},useMemo:function(e,t){var r=Ot();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ot();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=_g.bind(null,je,e),[n.memoizedState,e]},useRef:function(e){var t=Ot();return e={current:e},t.memoizedState=e},useState:xu,useDebugValue:lc,useDeferredValue:function(e){return Ot().memoizedState=e},useTransition:function(){var e=xu(!1),t=e[0];return e=Eg.bind(null,e[1]),Ot().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=je,a=Ot();if(we){if(r===void 0)throw Error(A(407));r=r()}else{if(r=t(),Me===null)throw Error(A(349));Gr&30||Ff(n,t,r)}a.memoizedState=r;var o={value:r,getSnapshot:t};return a.queue=o,yu($f.bind(null,n,o,e),[e]),n.flags|=2048,Ts(9,Bf.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Ot(),t=Me.identifierPrefix;if(we){var r=Kt,n=Yt;r=(n&~(1<<32-Dt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Es++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Cg++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Lg={readContext:jt,useCallback:Yf,useContext:jt,useEffect:oc,useImperativeHandle:Gf,useInsertionEffect:Vf,useLayoutEffect:qf,useMemo:Kf,useReducer:ol,useRef:Hf,useState:function(){return ol(_s)},useDebugValue:lc,useDeferredValue:function(e){var t=Nt();return Jf(t,Le.memoizedState,e)},useTransition:function(){var e=ol(_s)[0],t=Nt().memoizedState;return[e,t]},useMutableSource:Of,useSyncExternalStore:Mf,useId:Xf,unstable_isNewReconciler:!1},Dg={readContext:jt,useCallback:Yf,useContext:jt,useEffect:oc,useImperativeHandle:Gf,useInsertionEffect:Vf,useLayoutEffect:qf,useMemo:Kf,useReducer:ll,useRef:Hf,useState:function(){return ll(_s)},useDebugValue:lc,useDeferredValue:function(e){var t=Nt();return Le===null?t.memoizedState=e:Jf(t,Le.memoizedState,e)},useTransition:function(){var e=ll(_s)[0],t=Nt().memoizedState;return[e,t]},useMutableSource:Of,useSyncExternalStore:Mf,useId:Xf,unstable_isNewReconciler:!1};function _t(e,t){if(e&&e.defaultProps){t=Ne({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Xl(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ne({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var jo={isMounted:function(e){return(e=e._reactInternals)?Xr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Je(),a=kr(e),o=Jt(n,a);o.payload=t,r!=null&&(o.callback=r),t=jr(e,o,a),t!==null&&(At(t,e,a,n),Ea(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Je(),a=kr(e),o=Jt(n,a);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=jr(e,o,a),t!==null&&(At(t,e,a,n),Ea(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Je(),n=kr(e),a=Jt(r,n);a.tag=2,t!=null&&(a.callback=t),t=jr(e,a,n),t!==null&&(At(t,e,n,r),Ea(t,e,n))}};function vu(e,t,r,n,a,o,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,l):t.prototype&&t.prototype.isPureReactComponent?!bs(r,n)||!bs(a,o):!0}function rm(e,t,r){var n=!1,a=Tr,o=t.contextType;return typeof o=="object"&&o!==null?o=jt(o):(a=nt(t)?qr:Ge.current,n=t.contextTypes,o=(n=n!=null)?Nn(e,a):Tr),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=jo,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function wu(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&jo.enqueueReplaceState(t,t.state,null)}function Zl(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Zi(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=jt(o):(o=nt(t)?qr:Ge.current,a.context=Nn(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Xl(e,t,o,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&jo.enqueueReplaceState(a,a.state,null),eo(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function En(e,t){try{var r="",n=t;do r+=op(n),n=n.return;while(n);var a=r}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function il(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ei(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Ag=typeof WeakMap=="function"?WeakMap:Map;function nm(e,t,r){r=Jt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ao||(ao=!0,ui=n),ei(e,t)},r}function sm(e,t,r){r=Jt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){ei(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){ei(e,t),typeof n!="function"&&(Nr===null?Nr=new Set([this]):Nr.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function bu(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Ag;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=Qg.bind(null,e,t,r),t.then(e,e))}function ju(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Nu(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Jt(-1,1),t.tag=2,jr(r,t,1))),r.lanes|=1),e)}var zg=sr.ReactCurrentOwner,tt=!1;function Ye(e,t,r,n){t.child=e===null?Af(t,null,r,n):Sn(t,e.child,r,n)}function ku(e,t,r,n,a){r=r.render;var o=t.ref;return vn(t,a),n=sc(e,t,r,n,o,a),r=ac(),e!==null&&!tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,rr(e,t,a)):(we&&r&&qi(t),t.flags|=1,Ye(e,t,n,a),t.child)}function Su(e,t,r,n,a){if(e===null){var o=r.type;return typeof o=="function"&&!pc(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,am(e,t,o,n,a)):(e=Aa(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var l=o.memoizedProps;if(r=r.compare,r=r!==null?r:bs,r(l,n)&&e.ref===t.ref)return rr(e,t,a)}return t.flags|=1,e=Sr(o,n),e.ref=t.ref,e.return=t,t.child=e}function am(e,t,r,n,a){if(e!==null){var o=e.memoizedProps;if(bs(o,n)&&e.ref===t.ref)if(tt=!1,t.pendingProps=n=o,(e.lanes&a)!==0)e.flags&131072&&(tt=!0);else return t.lanes=e.lanes,rr(e,t,a)}return ti(e,t,r,n,a)}function om(e,t,r){var n=t.pendingProps,a=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},he(hn,ot),ot|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,he(hn,ot),ot|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,he(hn,ot),ot|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,he(hn,ot),ot|=n;return Ye(e,t,a,r),t.child}function lm(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ti(e,t,r,n,a){var o=nt(r)?qr:Ge.current;return o=Nn(t,o),vn(t,a),r=sc(e,t,r,n,o,a),n=ac(),e!==null&&!tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,rr(e,t,a)):(we&&n&&qi(t),t.flags|=1,Ye(e,t,r,a),t.child)}function Cu(e,t,r,n,a){if(nt(r)){var o=!0;Ya(t)}else o=!1;if(vn(t,a),t.stateNode===null)Pa(e,t),rm(t,r,n),Zl(t,r,n,a),n=!0;else if(e===null){var l=t.stateNode,c=t.memoizedProps;l.props=c;var i=l.context,u=r.contextType;typeof u=="object"&&u!==null?u=jt(u):(u=nt(r)?qr:Ge.current,u=Nn(t,u));var h=r.getDerivedStateFromProps,g=typeof h=="function"||typeof l.getSnapshotBeforeUpdate=="function";g||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==n||i!==u)&&wu(t,l,n,u),dr=!1;var p=t.memoizedState;l.state=p,eo(t,n,l,a),i=t.memoizedState,c!==n||p!==i||rt.current||dr?(typeof h=="function"&&(Xl(t,r,h,n),i=t.memoizedState),(c=dr||vu(t,r,c,n,p,i,u))?(g||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=i),l.props=n,l.state=i,l.context=u,n=c):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,Rf(e,t),c=t.memoizedProps,u=t.type===t.elementType?c:_t(t.type,c),l.props=u,g=t.pendingProps,p=l.context,i=r.contextType,typeof i=="object"&&i!==null?i=jt(i):(i=nt(r)?qr:Ge.current,i=Nn(t,i));var v=r.getDerivedStateFromProps;(h=typeof v=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==g||p!==i)&&wu(t,l,n,i),dr=!1,p=t.memoizedState,l.state=p,eo(t,n,l,a);var b=t.memoizedState;c!==g||p!==b||rt.current||dr?(typeof v=="function"&&(Xl(t,r,v,n),b=t.memoizedState),(u=dr||vu(t,r,u,n,p,b,i)||!1)?(h||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,b,i),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,b,i)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),l.props=n,l.state=b,l.context=i,n=u):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return ri(e,t,r,n,o,a)}function ri(e,t,r,n,a,o){lm(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return a&&du(t,r,!1),rr(e,t,o);n=t.stateNode,zg.current=t;var c=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=Sn(t,e.child,null,o),t.child=Sn(t,null,c,o)):Ye(e,t,c,o),t.memoizedState=n.state,a&&du(t,r,!0),t.child}function im(e){var t=e.stateNode;t.pendingContext?uu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&uu(e,t.context,!1),ec(e,t.containerInfo)}function Eu(e,t,r,n,a){return kn(),Gi(a),t.flags|=256,Ye(e,t,r,n),t.child}var ni={dehydrated:null,treeContext:null,retryLane:0};function si(e){return{baseLanes:e,cachePool:null,transitions:null}}function cm(e,t,r){var n=t.pendingProps,a=be.current,o=!1,l=(t.flags&128)!==0,c;if((c=l)||(c=e!==null&&e.memoizedState===null?!1:(a&2)!==0),c?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),he(be,a&1),e===null)return Kl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,o?(n=t.mode,o=t.child,l={mode:"hidden",children:l},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=So(l,n,0,null),e=Wr(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=si(r),t.memoizedState=ni,e):ic(t,l));if(a=e.memoizedState,a!==null&&(c=a.dehydrated,c!==null))return Rg(e,t,l,n,c,a,r);if(o){o=n.fallback,l=t.mode,a=e.child,c=a.sibling;var i={mode:"hidden",children:n.children};return!(l&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=i,t.deletions=null):(n=Sr(a,i),n.subtreeFlags=a.subtreeFlags&14680064),c!==null?o=Sr(c,o):(o=Wr(o,l,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,l=e.child.memoizedState,l=l===null?si(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~r,t.memoizedState=ni,n}return o=e.child,e=o.sibling,n=Sr(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function ic(e,t){return t=So({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ia(e,t,r,n){return n!==null&&Gi(n),Sn(t,e.child,null,r),e=ic(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Rg(e,t,r,n,a,o,l){if(r)return t.flags&256?(t.flags&=-257,n=il(Error(A(422))),ia(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,a=t.mode,n=So({mode:"visible",children:n.children},a,0,null),o=Wr(o,a,l,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&Sn(t,e.child,null,l),t.child.memoizedState=si(l),t.memoizedState=ni,o);if(!(t.mode&1))return ia(e,t,l,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var c=n.dgst;return n=c,o=Error(A(419)),n=il(o,n,void 0),ia(e,t,l,n)}if(c=(l&e.childLanes)!==0,tt||c){if(n=Me,n!==null){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|l)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,tr(e,a),At(n,e,a,-1))}return hc(),n=il(Error(A(421))),ia(e,t,l,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Gg.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,it=br(a.nextSibling),ut=t,we=!0,Lt=null,e!==null&&(pt[gt++]=Yt,pt[gt++]=Kt,pt[gt++]=Qr,Yt=e.id,Kt=e.overflow,Qr=t),t=ic(t,n.children),t.flags|=4096,t)}function _u(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Jl(e.return,t,r)}function cl(e,t,r,n,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=a)}function um(e,t,r){var n=t.pendingProps,a=n.revealOrder,o=n.tail;if(Ye(e,t,n.children,r),n=be.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_u(e,r,t);else if(e.tag===19)_u(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(he(be,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&to(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),cl(t,!1,a,r,o);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&to(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}cl(t,!0,r,null,o);break;case"together":cl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Pa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function rr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Yr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(A(153));if(t.child!==null){for(e=t.child,r=Sr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Sr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Ig(e,t,r){switch(t.tag){case 3:im(t),kn();break;case 5:If(t);break;case 1:nt(t.type)&&Ya(t);break;case 4:ec(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;he(Xa,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(he(be,be.current&1),t.flags|=128,null):r&t.child.childLanes?cm(e,t,r):(he(be,be.current&1),e=rr(e,t,r),e!==null?e.sibling:null);he(be,be.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return um(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),he(be,be.current),n)break;return null;case 22:case 23:return t.lanes=0,om(e,t,r)}return rr(e,t,r)}var dm,ai,fm,mm;dm=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ai=function(){};fm=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,$r(Bt.current);var o=null;switch(r){case"input":a=El(e,a),n=El(e,n),o=[];break;case"select":a=Ne({},a,{value:void 0}),n=Ne({},n,{value:void 0}),o=[];break;case"textarea":a=Pl(e,a),n=Pl(e,n),o=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Qa)}Dl(r,n);var l;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var c=a[u];for(l in c)c.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(hs.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var i=n[u];if(c=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&i!==c&&(i!=null||c!=null))if(u==="style")if(c){for(l in c)!c.hasOwnProperty(l)||i&&i.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in i)i.hasOwnProperty(l)&&c[l]!==i[l]&&(r||(r={}),r[l]=i[l])}else r||(o||(o=[]),o.push(u,r)),r=i;else u==="dangerouslySetInnerHTML"?(i=i?i.__html:void 0,c=c?c.__html:void 0,i!=null&&c!==i&&(o=o||[]).push(u,i)):u==="children"?typeof i!="string"&&typeof i!="number"||(o=o||[]).push(u,""+i):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(hs.hasOwnProperty(u)?(i!=null&&u==="onScroll"&&ge("scroll",e),o||c===i||(o=[])):(o=o||[]).push(u,i))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};mm=function(e,t,r,n){r!==n&&(t.flags|=4)};function Hn(e,t){if(!we)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ve(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Og(e,t,r){var n=t.pendingProps;switch(Qi(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(t),null;case 1:return nt(t.type)&&Ga(),Ve(t),null;case 3:return n=t.stateNode,Cn(),xe(rt),xe(Ge),rc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(oa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Lt!==null&&(mi(Lt),Lt=null))),ai(e,t),Ve(t),null;case 5:tc(t);var a=$r(Cs.current);if(r=t.type,e!==null&&t.stateNode!=null)fm(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(A(166));return Ve(t),null}if(e=$r(Bt.current),oa(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Mt]=t,n[ks]=o,e=(t.mode&1)!==0,r){case"dialog":ge("cancel",n),ge("close",n);break;case"iframe":case"object":case"embed":ge("load",n);break;case"video":case"audio":for(a=0;a<Zn.length;a++)ge(Zn[a],n);break;case"source":ge("error",n);break;case"img":case"image":case"link":ge("error",n),ge("load",n);break;case"details":ge("toggle",n);break;case"input":Oc(n,o),ge("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},ge("invalid",n);break;case"textarea":Fc(n,o),ge("invalid",n)}Dl(r,o),a=null;for(var l in o)if(o.hasOwnProperty(l)){var c=o[l];l==="children"?typeof c=="string"?n.textContent!==c&&(o.suppressHydrationWarning!==!0&&aa(n.textContent,c,e),a=["children",c]):typeof c=="number"&&n.textContent!==""+c&&(o.suppressHydrationWarning!==!0&&aa(n.textContent,c,e),a=["children",""+c]):hs.hasOwnProperty(l)&&c!=null&&l==="onScroll"&&ge("scroll",n)}switch(r){case"input":Js(n),Mc(n,o,!0);break;case"textarea":Js(n),Bc(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Qa)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Bd(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),r==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[Mt]=t,e[ks]=n,dm(e,t,!1,!1),t.stateNode=e;e:{switch(l=Al(r,n),r){case"dialog":ge("cancel",e),ge("close",e),a=n;break;case"iframe":case"object":case"embed":ge("load",e),a=n;break;case"video":case"audio":for(a=0;a<Zn.length;a++)ge(Zn[a],e);a=n;break;case"source":ge("error",e),a=n;break;case"img":case"image":case"link":ge("error",e),ge("load",e),a=n;break;case"details":ge("toggle",e),a=n;break;case"input":Oc(e,n),a=El(e,n),ge("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Ne({},n,{value:void 0}),ge("invalid",e);break;case"textarea":Fc(e,n),a=Pl(e,n),ge("invalid",e);break;default:a=n}Dl(r,a),c=a;for(o in c)if(c.hasOwnProperty(o)){var i=c[o];o==="style"?Wd(e,i):o==="dangerouslySetInnerHTML"?(i=i?i.__html:void 0,i!=null&&$d(e,i)):o==="children"?typeof i=="string"?(r!=="textarea"||i!=="")&&ps(e,i):typeof i=="number"&&ps(e,""+i):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(hs.hasOwnProperty(o)?i!=null&&o==="onScroll"&&ge("scroll",e):i!=null&&Di(e,o,i,l))}switch(r){case"input":Js(e),Mc(e,n,!1);break;case"textarea":Js(e),Bc(e);break;case"option":n.value!=null&&e.setAttribute("value",""+_r(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?pn(e,!!n.multiple,o,!1):n.defaultValue!=null&&pn(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Qa)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ve(t),null;case 6:if(e&&t.stateNode!=null)mm(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(A(166));if(r=$r(Cs.current),$r(Bt.current),oa(t)){if(n=t.stateNode,r=t.memoizedProps,n[Mt]=t,(o=n.nodeValue!==r)&&(e=ut,e!==null))switch(e.tag){case 3:aa(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&aa(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Mt]=t,t.stateNode=n}return Ve(t),null;case 13:if(xe(be),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(we&&it!==null&&t.mode&1&&!(t.flags&128))Lf(),kn(),t.flags|=98560,o=!1;else if(o=oa(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(A(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(A(317));o[Mt]=t}else kn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ve(t),o=!1}else Lt!==null&&(mi(Lt),Lt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||be.current&1?De===0&&(De=3):hc())),t.updateQueue!==null&&(t.flags|=4),Ve(t),null);case 4:return Cn(),ai(e,t),e===null&&js(t.stateNode.containerInfo),Ve(t),null;case 10:return Ji(t.type._context),Ve(t),null;case 17:return nt(t.type)&&Ga(),Ve(t),null;case 19:if(xe(be),o=t.memoizedState,o===null)return Ve(t),null;if(n=(t.flags&128)!==0,l=o.rendering,l===null)if(n)Hn(o,!1);else{if(De!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=to(e),l!==null){for(t.flags|=128,Hn(o,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return he(be,be.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ce()>_n&&(t.flags|=128,n=!0,Hn(o,!1),t.lanes=4194304)}else{if(!n)if(e=to(l),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Hn(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!we)return Ve(t),null}else 2*Ce()-o.renderingStartTime>_n&&r!==1073741824&&(t.flags|=128,n=!0,Hn(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(r=o.last,r!==null?r.sibling=l:t.child=l,o.last=l)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ce(),t.sibling=null,r=be.current,he(be,n?r&1|2:r&1),t):(Ve(t),null);case 22:case 23:return mc(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ot&1073741824&&(Ve(t),t.subtreeFlags&6&&(t.flags|=8192)):Ve(t),null;case 24:return null;case 25:return null}throw Error(A(156,t.tag))}function Mg(e,t){switch(Qi(t),t.tag){case 1:return nt(t.type)&&Ga(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Cn(),xe(rt),xe(Ge),rc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return tc(t),null;case 13:if(xe(be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(A(340));kn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xe(be),null;case 4:return Cn(),null;case 10:return Ji(t.type._context),null;case 22:case 23:return mc(),null;case 24:return null;default:return null}}var ca=!1,Qe=!1,Fg=typeof WeakSet=="function"?WeakSet:Set,H=null;function mn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Se(e,t,n)}else r.current=null}function oi(e,t,r){try{r()}catch(n){Se(e,t,n)}}var Tu=!1;function Bg(e,t){if(Wl=Ha,e=yf(),Vi(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var l=0,c=-1,i=-1,u=0,h=0,g=e,p=null;t:for(;;){for(var v;g!==r||a!==0&&g.nodeType!==3||(c=l+a),g!==o||n!==0&&g.nodeType!==3||(i=l+n),g.nodeType===3&&(l+=g.nodeValue.length),(v=g.firstChild)!==null;)p=g,g=v;for(;;){if(g===e)break t;if(p===r&&++u===a&&(c=l),p===o&&++h===n&&(i=l),(v=g.nextSibling)!==null)break;g=p,p=g.parentNode}g=v}r=c===-1||i===-1?null:{start:c,end:i}}else r=null}r=r||{start:0,end:0}}else r=null;for(Hl={focusedElem:e,selectionRange:r},Ha=!1,H=t;H!==null;)if(t=H,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,H=e;else for(;H!==null;){t=H;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var j=b.memoizedProps,w=b.memoizedState,y=t.stateNode,m=y.getSnapshotBeforeUpdate(t.elementType===t.type?j:_t(t.type,j),w);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var f=t.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(x){Se(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,H=e;break}H=t.return}return b=Tu,Tu=!1,b}function ls(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&oi(t,r,o)}a=a.next}while(a!==n)}}function No(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function li(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function hm(e){var t=e.alternate;t!==null&&(e.alternate=null,hm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Mt],delete t[ks],delete t[Ql],delete t[jg],delete t[Ng])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function pm(e){return e.tag===5||e.tag===3||e.tag===4}function Pu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||pm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ii(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Qa));else if(n!==4&&(e=e.child,e!==null))for(ii(e,t,r),e=e.sibling;e!==null;)ii(e,t,r),e=e.sibling}function ci(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(ci(e,t,r),e=e.sibling;e!==null;)ci(e,t,r),e=e.sibling}var Fe=null,Tt=!1;function lr(e,t,r){for(r=r.child;r!==null;)gm(e,t,r),r=r.sibling}function gm(e,t,r){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(po,r)}catch{}switch(r.tag){case 5:Qe||mn(r,t);case 6:var n=Fe,a=Tt;Fe=null,lr(e,t,r),Fe=n,Tt=a,Fe!==null&&(Tt?(e=Fe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Fe.removeChild(r.stateNode));break;case 18:Fe!==null&&(Tt?(e=Fe,r=r.stateNode,e.nodeType===8?rl(e.parentNode,r):e.nodeType===1&&rl(e,r),vs(e)):rl(Fe,r.stateNode));break;case 4:n=Fe,a=Tt,Fe=r.stateNode.containerInfo,Tt=!0,lr(e,t,r),Fe=n,Tt=a;break;case 0:case 11:case 14:case 15:if(!Qe&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var o=a,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&oi(r,t,l),a=a.next}while(a!==n)}lr(e,t,r);break;case 1:if(!Qe&&(mn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(c){Se(r,t,c)}lr(e,t,r);break;case 21:lr(e,t,r);break;case 22:r.mode&1?(Qe=(n=Qe)||r.memoizedState!==null,lr(e,t,r),Qe=n):lr(e,t,r);break;default:lr(e,t,r)}}function Lu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Fg),t.forEach(function(n){var a=Yg.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Et(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var o=e,l=t,c=l;e:for(;c!==null;){switch(c.tag){case 5:Fe=c.stateNode,Tt=!1;break e;case 3:Fe=c.stateNode.containerInfo,Tt=!0;break e;case 4:Fe=c.stateNode.containerInfo,Tt=!0;break e}c=c.return}if(Fe===null)throw Error(A(160));gm(o,l,a),Fe=null,Tt=!1;var i=a.alternate;i!==null&&(i.return=null),a.return=null}catch(u){Se(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)xm(t,e),t=t.sibling}function xm(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Et(t,e),It(e),n&4){try{ls(3,e,e.return),No(3,e)}catch(j){Se(e,e.return,j)}try{ls(5,e,e.return)}catch(j){Se(e,e.return,j)}}break;case 1:Et(t,e),It(e),n&512&&r!==null&&mn(r,r.return);break;case 5:if(Et(t,e),It(e),n&512&&r!==null&&mn(r,r.return),e.flags&32){var a=e.stateNode;try{ps(a,"")}catch(j){Se(e,e.return,j)}}if(n&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,l=r!==null?r.memoizedProps:o,c=e.type,i=e.updateQueue;if(e.updateQueue=null,i!==null)try{c==="input"&&o.type==="radio"&&o.name!=null&&Md(a,o),Al(c,l);var u=Al(c,o);for(l=0;l<i.length;l+=2){var h=i[l],g=i[l+1];h==="style"?Wd(a,g):h==="dangerouslySetInnerHTML"?$d(a,g):h==="children"?ps(a,g):Di(a,h,g,u)}switch(c){case"input":_l(a,o);break;case"textarea":Fd(a,o);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var v=o.value;v!=null?pn(a,!!o.multiple,v,!1):p!==!!o.multiple&&(o.defaultValue!=null?pn(a,!!o.multiple,o.defaultValue,!0):pn(a,!!o.multiple,o.multiple?[]:"",!1))}a[ks]=o}catch(j){Se(e,e.return,j)}}break;case 6:if(Et(t,e),It(e),n&4){if(e.stateNode===null)throw Error(A(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(j){Se(e,e.return,j)}}break;case 3:if(Et(t,e),It(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{vs(t.containerInfo)}catch(j){Se(e,e.return,j)}break;case 4:Et(t,e),It(e);break;case 13:Et(t,e),It(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(dc=Ce())),n&4&&Lu(e);break;case 22:if(h=r!==null&&r.memoizedState!==null,e.mode&1?(Qe=(u=Qe)||h,Et(t,e),Qe=u):Et(t,e),It(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(H=e,h=e.child;h!==null;){for(g=H=h;H!==null;){switch(p=H,v=p.child,p.tag){case 0:case 11:case 14:case 15:ls(4,p,p.return);break;case 1:mn(p,p.return);var b=p.stateNode;if(typeof b.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(j){Se(n,r,j)}}break;case 5:mn(p,p.return);break;case 22:if(p.memoizedState!==null){Au(g);continue}}v!==null?(v.return=p,H=v):Au(g)}h=h.sibling}e:for(h=null,g=e;;){if(g.tag===5){if(h===null){h=g;try{a=g.stateNode,u?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(c=g.stateNode,i=g.memoizedProps.style,l=i!=null&&i.hasOwnProperty("display")?i.display:null,c.style.display=Ud("display",l))}catch(j){Se(e,e.return,j)}}}else if(g.tag===6){if(h===null)try{g.stateNode.nodeValue=u?"":g.memoizedProps}catch(j){Se(e,e.return,j)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;h===g&&(h=null),g=g.return}h===g&&(h=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Et(t,e),It(e),n&4&&Lu(e);break;case 21:break;default:Et(t,e),It(e)}}function It(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(pm(r)){var n=r;break e}r=r.return}throw Error(A(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(ps(a,""),n.flags&=-33);var o=Pu(e);ci(e,o,a);break;case 3:case 4:var l=n.stateNode.containerInfo,c=Pu(e);ii(e,c,l);break;default:throw Error(A(161))}}catch(i){Se(e,e.return,i)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $g(e,t,r){H=e,ym(e)}function ym(e,t,r){for(var n=(e.mode&1)!==0;H!==null;){var a=H,o=a.child;if(a.tag===22&&n){var l=a.memoizedState!==null||ca;if(!l){var c=a.alternate,i=c!==null&&c.memoizedState!==null||Qe;c=ca;var u=Qe;if(ca=l,(Qe=i)&&!u)for(H=a;H!==null;)l=H,i=l.child,l.tag===22&&l.memoizedState!==null?zu(a):i!==null?(i.return=l,H=i):zu(a);for(;o!==null;)H=o,ym(o),o=o.sibling;H=a,ca=c,Qe=u}Du(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,H=o):Du(e)}}function Du(e){for(;H!==null;){var t=H;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Qe||No(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Qe)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:_t(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&gu(t,o,n);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}gu(t,l,r)}break;case 5:var c=t.stateNode;if(r===null&&t.flags&4){r=c;var i=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":i.autoFocus&&r.focus();break;case"img":i.src&&(r.src=i.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var g=h.dehydrated;g!==null&&vs(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}Qe||t.flags&512&&li(t)}catch(p){Se(t,t.return,p)}}if(t===e){H=null;break}if(r=t.sibling,r!==null){r.return=t.return,H=r;break}H=t.return}}function Au(e){for(;H!==null;){var t=H;if(t===e){H=null;break}var r=t.sibling;if(r!==null){r.return=t.return,H=r;break}H=t.return}}function zu(e){for(;H!==null;){var t=H;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{No(4,t)}catch(i){Se(t,r,i)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(i){Se(t,a,i)}}var o=t.return;try{li(t)}catch(i){Se(t,o,i)}break;case 5:var l=t.return;try{li(t)}catch(i){Se(t,l,i)}}}catch(i){Se(t,t.return,i)}if(t===e){H=null;break}var c=t.sibling;if(c!==null){c.return=t.return,H=c;break}H=t.return}}var Ug=Math.ceil,so=sr.ReactCurrentDispatcher,cc=sr.ReactCurrentOwner,wt=sr.ReactCurrentBatchConfig,le=0,Me=null,Ee=null,Be=0,ot=0,hn=Lr(0),De=0,Ps=null,Yr=0,ko=0,uc=0,is=null,et=null,dc=0,_n=1/0,Qt=null,ao=!1,ui=null,Nr=null,ua=!1,pr=null,oo=0,cs=0,di=null,La=-1,Da=0;function Je(){return le&6?Ce():La!==-1?La:La=Ce()}function kr(e){return e.mode&1?le&2&&Be!==0?Be&-Be:Sg.transition!==null?(Da===0&&(Da=tf()),Da):(e=fe,e!==0||(e=window.event,e=e===void 0?16:cf(e.type)),e):1}function At(e,t,r,n){if(50<cs)throw cs=0,di=null,Error(A(185));Bs(e,r,n),(!(le&2)||e!==Me)&&(e===Me&&(!(le&2)&&(ko|=r),De===4&&mr(e,Be)),st(e,n),r===1&&le===0&&!(t.mode&1)&&(_n=Ce()+500,wo&&Dr()))}function st(e,t){var r=e.callbackNode;Sp(e,t);var n=Wa(e,e===Me?Be:0);if(n===0)r!==null&&Wc(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Wc(r),t===1)e.tag===0?kg(Ru.bind(null,e)):_f(Ru.bind(null,e)),wg(function(){!(le&6)&&Dr()}),r=null;else{switch(rf(n)){case 1:r=Oi;break;case 4:r=Zd;break;case 16:r=Ua;break;case 536870912:r=ef;break;default:r=Ua}r=Cm(r,vm.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function vm(e,t){if(La=-1,Da=0,le&6)throw Error(A(327));var r=e.callbackNode;if(wn()&&e.callbackNode!==r)return null;var n=Wa(e,e===Me?Be:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=lo(e,n);else{t=n;var a=le;le|=2;var o=bm();(Me!==e||Be!==t)&&(Qt=null,_n=Ce()+500,Ur(e,t));do try{Vg();break}catch(c){wm(e,c)}while(!0);Ki(),so.current=o,le=a,Ee!==null?t=0:(Me=null,Be=0,t=De)}if(t!==0){if(t===2&&(a=Ml(e),a!==0&&(n=a,t=fi(e,a))),t===1)throw r=Ps,Ur(e,0),mr(e,n),st(e,Ce()),r;if(t===6)mr(e,n);else{if(a=e.current.alternate,!(n&30)&&!Wg(a)&&(t=lo(e,n),t===2&&(o=Ml(e),o!==0&&(n=o,t=fi(e,o))),t===1))throw r=Ps,Ur(e,0),mr(e,n),st(e,Ce()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(A(345));case 2:Mr(e,et,Qt);break;case 3:if(mr(e,n),(n&130023424)===n&&(t=dc+500-Ce(),10<t)){if(Wa(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Je(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ql(Mr.bind(null,e,et,Qt),t);break}Mr(e,et,Qt);break;case 4:if(mr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var l=31-Dt(n);o=1<<l,l=t[l],l>a&&(a=l),n&=~o}if(n=a,n=Ce()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ug(n/1960))-n,10<n){e.timeoutHandle=ql(Mr.bind(null,e,et,Qt),n);break}Mr(e,et,Qt);break;case 5:Mr(e,et,Qt);break;default:throw Error(A(329))}}}return st(e,Ce()),e.callbackNode===r?vm.bind(null,e):null}function fi(e,t){var r=is;return e.current.memoizedState.isDehydrated&&(Ur(e,t).flags|=256),e=lo(e,t),e!==2&&(t=et,et=r,t!==null&&mi(t)),e}function mi(e){et===null?et=e:et.push.apply(et,e)}function Wg(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],o=a.getSnapshot;a=a.value;try{if(!zt(o(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function mr(e,t){for(t&=~uc,t&=~ko,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Dt(t),n=1<<r;e[r]=-1,t&=~n}}function Ru(e){if(le&6)throw Error(A(327));wn();var t=Wa(e,0);if(!(t&1))return st(e,Ce()),null;var r=lo(e,t);if(e.tag!==0&&r===2){var n=Ml(e);n!==0&&(t=n,r=fi(e,n))}if(r===1)throw r=Ps,Ur(e,0),mr(e,t),st(e,Ce()),r;if(r===6)throw Error(A(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Mr(e,et,Qt),st(e,Ce()),null}function fc(e,t){var r=le;le|=1;try{return e(t)}finally{le=r,le===0&&(_n=Ce()+500,wo&&Dr())}}function Kr(e){pr!==null&&pr.tag===0&&!(le&6)&&wn();var t=le;le|=1;var r=wt.transition,n=fe;try{if(wt.transition=null,fe=1,e)return e()}finally{fe=n,wt.transition=r,le=t,!(le&6)&&Dr()}}function mc(){ot=hn.current,xe(hn)}function Ur(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,vg(r)),Ee!==null)for(r=Ee.return;r!==null;){var n=r;switch(Qi(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ga();break;case 3:Cn(),xe(rt),xe(Ge),rc();break;case 5:tc(n);break;case 4:Cn();break;case 13:xe(be);break;case 19:xe(be);break;case 10:Ji(n.type._context);break;case 22:case 23:mc()}r=r.return}if(Me=e,Ee=e=Sr(e.current,null),Be=ot=t,De=0,Ps=null,uc=ko=Yr=0,et=is=null,Br!==null){for(t=0;t<Br.length;t++)if(r=Br[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,o=r.pending;if(o!==null){var l=o.next;o.next=a,n.next=l}r.pending=n}Br=null}return e}function wm(e,t){do{var r=Ee;try{if(Ki(),_a.current=no,ro){for(var n=je.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}ro=!1}if(Gr=0,Oe=Le=je=null,os=!1,Es=0,cc.current=null,r===null||r.return===null){De=1,Ps=t,Ee=null;break}e:{var o=e,l=r.return,c=r,i=t;if(t=Be,c.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){var u=i,h=c,g=h.tag;if(!(h.mode&1)&&(g===0||g===11||g===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=ju(l);if(v!==null){v.flags&=-257,Nu(v,l,c,o,t),v.mode&1&&bu(o,u,t),t=v,i=u;var b=t.updateQueue;if(b===null){var j=new Set;j.add(i),t.updateQueue=j}else b.add(i);break e}else{if(!(t&1)){bu(o,u,t),hc();break e}i=Error(A(426))}}else if(we&&c.mode&1){var w=ju(l);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Nu(w,l,c,o,t),Gi(En(i,c));break e}}o=i=En(i,c),De!==4&&(De=2),is===null?is=[o]:is.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=nm(o,i,t);pu(o,y);break e;case 1:c=i;var m=o.type,f=o.stateNode;if(!(o.flags&128)&&(typeof m.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Nr===null||!Nr.has(f)))){o.flags|=65536,t&=-t,o.lanes|=t;var x=sm(o,c,t);pu(o,x);break e}}o=o.return}while(o!==null)}Nm(r)}catch(N){t=N,Ee===r&&r!==null&&(Ee=r=r.return);continue}break}while(!0)}function bm(){var e=so.current;return so.current=no,e===null?no:e}function hc(){(De===0||De===3||De===2)&&(De=4),Me===null||!(Yr&268435455)&&!(ko&268435455)||mr(Me,Be)}function lo(e,t){var r=le;le|=2;var n=bm();(Me!==e||Be!==t)&&(Qt=null,Ur(e,t));do try{Hg();break}catch(a){wm(e,a)}while(!0);if(Ki(),le=r,so.current=n,Ee!==null)throw Error(A(261));return Me=null,Be=0,De}function Hg(){for(;Ee!==null;)jm(Ee)}function Vg(){for(;Ee!==null&&!gp();)jm(Ee)}function jm(e){var t=Sm(e.alternate,e,ot);e.memoizedProps=e.pendingProps,t===null?Nm(e):Ee=t,cc.current=null}function Nm(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Mg(r,t),r!==null){r.flags&=32767,Ee=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{De=6,Ee=null;return}}else if(r=Og(r,t,ot),r!==null){Ee=r;return}if(t=t.sibling,t!==null){Ee=t;return}Ee=t=e}while(t!==null);De===0&&(De=5)}function Mr(e,t,r){var n=fe,a=wt.transition;try{wt.transition=null,fe=1,qg(e,t,r,n)}finally{wt.transition=a,fe=n}return null}function qg(e,t,r,n){do wn();while(pr!==null);if(le&6)throw Error(A(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(A(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(Cp(e,o),e===Me&&(Ee=Me=null,Be=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ua||(ua=!0,Cm(Ua,function(){return wn(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=wt.transition,wt.transition=null;var l=fe;fe=1;var c=le;le|=4,cc.current=null,Bg(e,r),xm(r,e),fg(Hl),Ha=!!Wl,Hl=Wl=null,e.current=r,$g(r),xp(),le=c,fe=l,wt.transition=o}else e.current=r;if(ua&&(ua=!1,pr=e,oo=a),o=e.pendingLanes,o===0&&(Nr=null),wp(r.stateNode),st(e,Ce()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(ao)throw ao=!1,e=ui,ui=null,e;return oo&1&&e.tag!==0&&wn(),o=e.pendingLanes,o&1?e===di?cs++:(cs=0,di=e):cs=0,Dr(),null}function wn(){if(pr!==null){var e=rf(oo),t=wt.transition,r=fe;try{if(wt.transition=null,fe=16>e?16:e,pr===null)var n=!1;else{if(e=pr,pr=null,oo=0,le&6)throw Error(A(331));var a=le;for(le|=4,H=e.current;H!==null;){var o=H,l=o.child;if(H.flags&16){var c=o.deletions;if(c!==null){for(var i=0;i<c.length;i++){var u=c[i];for(H=u;H!==null;){var h=H;switch(h.tag){case 0:case 11:case 15:ls(8,h,o)}var g=h.child;if(g!==null)g.return=h,H=g;else for(;H!==null;){h=H;var p=h.sibling,v=h.return;if(hm(h),h===u){H=null;break}if(p!==null){p.return=v,H=p;break}H=v}}}var b=o.alternate;if(b!==null){var j=b.child;if(j!==null){b.child=null;do{var w=j.sibling;j.sibling=null,j=w}while(j!==null)}}H=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,H=l;else e:for(;H!==null;){if(o=H,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ls(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,H=y;break e}H=o.return}}var m=e.current;for(H=m;H!==null;){l=H;var f=l.child;if(l.subtreeFlags&2064&&f!==null)f.return=l,H=f;else e:for(l=m;H!==null;){if(c=H,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:No(9,c)}}catch(N){Se(c,c.return,N)}if(c===l){H=null;break e}var x=c.sibling;if(x!==null){x.return=c.return,H=x;break e}H=c.return}}if(le=a,Dr(),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(po,e)}catch{}n=!0}return n}finally{fe=r,wt.transition=t}}return!1}function Iu(e,t,r){t=En(r,t),t=nm(e,t,1),e=jr(e,t,1),t=Je(),e!==null&&(Bs(e,1,t),st(e,t))}function Se(e,t,r){if(e.tag===3)Iu(e,e,r);else for(;t!==null;){if(t.tag===3){Iu(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Nr===null||!Nr.has(n))){e=En(r,e),e=sm(t,e,1),t=jr(t,e,1),e=Je(),t!==null&&(Bs(t,1,e),st(t,e));break}}t=t.return}}function Qg(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Je(),e.pingedLanes|=e.suspendedLanes&r,Me===e&&(Be&r)===r&&(De===4||De===3&&(Be&130023424)===Be&&500>Ce()-dc?Ur(e,0):uc|=r),st(e,t)}function km(e,t){t===0&&(e.mode&1?(t=ea,ea<<=1,!(ea&130023424)&&(ea=4194304)):t=1);var r=Je();e=tr(e,t),e!==null&&(Bs(e,t,r),st(e,r))}function Gg(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),km(e,r)}function Yg(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(A(314))}n!==null&&n.delete(t),km(e,r)}var Sm;Sm=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||rt.current)tt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return tt=!1,Ig(e,t,r);tt=!!(e.flags&131072)}else tt=!1,we&&t.flags&1048576&&Tf(t,Ja,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Pa(e,t),e=t.pendingProps;var a=Nn(t,Ge.current);vn(t,r),a=sc(null,t,n,e,a,r);var o=ac();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,nt(n)?(o=!0,Ya(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Zi(t),a.updater=jo,t.stateNode=a,a._reactInternals=t,Zl(t,n,e,r),t=ri(null,t,n,!0,o,r)):(t.tag=0,we&&o&&qi(t),Ye(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Pa(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=Jg(n),e=_t(n,e),a){case 0:t=ti(null,t,n,e,r);break e;case 1:t=Cu(null,t,n,e,r);break e;case 11:t=ku(null,t,n,e,r);break e;case 14:t=Su(null,t,n,_t(n.type,e),r);break e}throw Error(A(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:_t(n,a),ti(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:_t(n,a),Cu(e,t,n,a,r);case 3:e:{if(im(t),e===null)throw Error(A(387));n=t.pendingProps,o=t.memoizedState,a=o.element,Rf(e,t),eo(t,n,null,r);var l=t.memoizedState;if(n=l.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=En(Error(A(423)),t),t=Eu(e,t,n,r,a);break e}else if(n!==a){a=En(Error(A(424)),t),t=Eu(e,t,n,r,a);break e}else for(it=br(t.stateNode.containerInfo.firstChild),ut=t,we=!0,Lt=null,r=Af(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(kn(),n===a){t=rr(e,t,r);break e}Ye(e,t,n,r)}t=t.child}return t;case 5:return If(t),e===null&&Kl(t),n=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,l=a.children,Vl(n,a)?l=null:o!==null&&Vl(n,o)&&(t.flags|=32),lm(e,t),Ye(e,t,l,r),t.child;case 6:return e===null&&Kl(t),null;case 13:return cm(e,t,r);case 4:return ec(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Sn(t,null,n,r):Ye(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:_t(n,a),ku(e,t,n,a,r);case 7:return Ye(e,t,t.pendingProps,r),t.child;case 8:return Ye(e,t,t.pendingProps.children,r),t.child;case 12:return Ye(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,o=t.memoizedProps,l=a.value,he(Xa,n._currentValue),n._currentValue=l,o!==null)if(zt(o.value,l)){if(o.children===a.children&&!rt.current){t=rr(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var c=o.dependencies;if(c!==null){l=o.child;for(var i=c.firstContext;i!==null;){if(i.context===n){if(o.tag===1){i=Jt(-1,r&-r),i.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?i.next=i:(i.next=h.next,h.next=i),u.pending=i}}o.lanes|=r,i=o.alternate,i!==null&&(i.lanes|=r),Jl(o.return,r,t),c.lanes|=r;break}i=i.next}}else if(o.tag===10)l=o.type===t.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(A(341));l.lanes|=r,c=l.alternate,c!==null&&(c.lanes|=r),Jl(l,r,t),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===t){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}Ye(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,vn(t,r),a=jt(a),n=n(a),t.flags|=1,Ye(e,t,n,r),t.child;case 14:return n=t.type,a=_t(n,t.pendingProps),a=_t(n.type,a),Su(e,t,n,a,r);case 15:return am(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:_t(n,a),Pa(e,t),t.tag=1,nt(n)?(e=!0,Ya(t)):e=!1,vn(t,r),rm(t,n,a),Zl(t,n,a,r),ri(null,t,n,!0,e,r);case 19:return um(e,t,r);case 22:return om(e,t,r)}throw Error(A(156,t.tag))};function Cm(e,t){return Xd(e,t)}function Kg(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yt(e,t,r,n){return new Kg(e,t,r,n)}function pc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Jg(e){if(typeof e=="function")return pc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===zi)return 11;if(e===Ri)return 14}return 2}function Sr(e,t){var r=e.alternate;return r===null?(r=yt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Aa(e,t,r,n,a,o){var l=2;if(n=e,typeof e=="function")pc(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case nn:return Wr(r.children,a,o,t);case Ai:l=8,a|=8;break;case Nl:return e=yt(12,r,t,a|2),e.elementType=Nl,e.lanes=o,e;case kl:return e=yt(13,r,t,a),e.elementType=kl,e.lanes=o,e;case Sl:return e=yt(19,r,t,a),e.elementType=Sl,e.lanes=o,e;case Rd:return So(r,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ad:l=10;break e;case zd:l=9;break e;case zi:l=11;break e;case Ri:l=14;break e;case ur:l=16,n=null;break e}throw Error(A(130,e==null?e:typeof e,""))}return t=yt(l,r,t,a),t.elementType=e,t.type=n,t.lanes=o,t}function Wr(e,t,r,n){return e=yt(7,e,n,t),e.lanes=r,e}function So(e,t,r,n){return e=yt(22,e,n,t),e.elementType=Rd,e.lanes=r,e.stateNode={isHidden:!1},e}function ul(e,t,r){return e=yt(6,e,null,t),e.lanes=r,e}function dl(e,t,r){return t=yt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xg(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vo(0),this.expirationTimes=Vo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vo(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function gc(e,t,r,n,a,o,l,c,i){return e=new Xg(e,t,r,c,i),t===1?(t=1,o===!0&&(t|=8)):t=0,o=yt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zi(o),e}function Zg(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Em(e){if(!e)return Tr;e=e._reactInternals;e:{if(Xr(e)!==e||e.tag!==1)throw Error(A(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(nt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(A(171))}if(e.tag===1){var r=e.type;if(nt(r))return Ef(e,r,t)}return t}function _m(e,t,r,n,a,o,l,c,i){return e=gc(r,n,!0,e,a,o,l,c,i),e.context=Em(null),r=e.current,n=Je(),a=kr(r),o=Jt(n,a),o.callback=t??null,jr(r,o,a),e.current.lanes=a,Bs(e,a,n),st(e,n),e}function Co(e,t,r,n){var a=t.current,o=Je(),l=kr(a);return r=Em(r),t.context===null?t.context=r:t.pendingContext=r,t=Jt(o,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=jr(a,t,l),e!==null&&(At(e,a,l,o),Ea(e,a,l)),l}function io(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ou(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function xc(e,t){Ou(e,t),(e=e.alternate)&&Ou(e,t)}function e0(){return null}var Tm=typeof reportError=="function"?reportError:function(e){console.error(e)};function yc(e){this._internalRoot=e}Eo.prototype.render=yc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(A(409));Co(e,t,null,null)};Eo.prototype.unmount=yc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Kr(function(){Co(null,e,null,null)}),t[er]=null}};function Eo(e){this._internalRoot=e}Eo.prototype.unstable_scheduleHydration=function(e){if(e){var t=af();e={blockedOn:null,target:e,priority:t};for(var r=0;r<fr.length&&t!==0&&t<fr[r].priority;r++);fr.splice(r,0,e),r===0&&lf(e)}};function vc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Mu(){}function t0(e,t,r,n,a){if(a){if(typeof n=="function"){var o=n;n=function(){var u=io(l);o.call(u)}}var l=_m(t,n,e,0,null,!1,!1,"",Mu);return e._reactRootContainer=l,e[er]=l.current,js(e.nodeType===8?e.parentNode:e),Kr(),l}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var c=n;n=function(){var u=io(i);c.call(u)}}var i=gc(e,0,!1,null,null,!1,!1,"",Mu);return e._reactRootContainer=i,e[er]=i.current,js(e.nodeType===8?e.parentNode:e),Kr(function(){Co(t,i,r,n)}),i}function To(e,t,r,n,a){var o=r._reactRootContainer;if(o){var l=o;if(typeof a=="function"){var c=a;a=function(){var i=io(l);c.call(i)}}Co(t,l,e,a)}else l=t0(r,t,e,a,n);return io(l)}nf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Xn(t.pendingLanes);r!==0&&(Mi(t,r|1),st(t,Ce()),!(le&6)&&(_n=Ce()+500,Dr()))}break;case 13:Kr(function(){var n=tr(e,1);if(n!==null){var a=Je();At(n,e,1,a)}}),xc(e,1)}};Fi=function(e){if(e.tag===13){var t=tr(e,134217728);if(t!==null){var r=Je();At(t,e,134217728,r)}xc(e,134217728)}};sf=function(e){if(e.tag===13){var t=kr(e),r=tr(e,t);if(r!==null){var n=Je();At(r,e,t,n)}xc(e,t)}};af=function(){return fe};of=function(e,t){var r=fe;try{return fe=e,t()}finally{fe=r}};Rl=function(e,t,r){switch(t){case"input":if(_l(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=vo(n);if(!a)throw Error(A(90));Od(n),_l(n,a)}}}break;case"textarea":Fd(e,r);break;case"select":t=r.value,t!=null&&pn(e,!!r.multiple,t,!1)}};qd=fc;Qd=Kr;var r0={usingClientEntryPoint:!1,Events:[Us,ln,vo,Hd,Vd,fc]},Vn={findFiberByHostInstance:Fr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},n0={bundleType:Vn.bundleType,version:Vn.version,rendererPackageName:Vn.rendererPackageName,rendererConfig:Vn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:sr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Kd(e),e===null?null:e.stateNode},findFiberByHostInstance:Vn.findFiberByHostInstance||e0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var da=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!da.isDisabled&&da.supportsFiber)try{po=da.inject(n0),Ft=da}catch{}}ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r0;ft.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vc(t))throw Error(A(200));return Zg(e,t,null,r)};ft.createRoot=function(e,t){if(!vc(e))throw Error(A(299));var r=!1,n="",a=Tm;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=gc(e,1,!1,null,null,r,!1,n,a),e[er]=t.current,js(e.nodeType===8?e.parentNode:e),new yc(t)};ft.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(A(188)):(e=Object.keys(e).join(","),Error(A(268,e)));return e=Kd(t),e=e===null?null:e.stateNode,e};ft.flushSync=function(e){return Kr(e)};ft.hydrate=function(e,t,r){if(!_o(t))throw Error(A(200));return To(null,e,t,!0,r)};ft.hydrateRoot=function(e,t,r){if(!vc(e))throw Error(A(405));var n=r!=null&&r.hydratedSources||null,a=!1,o="",l=Tm;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=_m(t,null,e,1,r??null,a,!1,o,l),e[er]=t.current,js(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Eo(t)};ft.render=function(e,t,r){if(!_o(t))throw Error(A(200));return To(null,e,t,!1,r)};ft.unmountComponentAtNode=function(e){if(!_o(e))throw Error(A(40));return e._reactRootContainer?(Kr(function(){To(null,null,e,!1,function(){e._reactRootContainer=null,e[er]=null})}),!0):!1};ft.unstable_batchedUpdates=fc;ft.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!_o(r))throw Error(A(200));if(e==null||e._reactInternals===void 0)throw Error(A(38));return To(e,t,r,!1,n)};ft.version="18.3.1-next-f1338f8080-20240426";function Pm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Pm)}catch(e){console.error(e)}}Pm(),Td.exports=ft;var Lm=Td.exports;const s0=xd(Lm);var Fu=Lm;bl.createRoot=Fu.createRoot,bl.hydrateRoot=Fu.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ls(){return Ls=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ls.apply(this,arguments)}var gr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(gr||(gr={}));const Bu="popstate";function a0(e){e===void 0&&(e={});function t(a,o){let{pathname:l="/",search:c="",hash:i=""}=Zr(a.location.hash.substr(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),hi("",{pathname:l,search:c,hash:i},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(a,o){let l=a.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let i=a.location.href,u=i.indexOf("#");c=u===-1?i:i.slice(0,u)}return c+"#"+(typeof o=="string"?o:Dm(o))}function n(a,o){Po(a.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return l0(t,r,n,e)}function Te(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Po(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function o0(){return Math.random().toString(36).substr(2,8)}function $u(e,t){return{usr:e.state,key:e.key,idx:t}}function hi(e,t,r,n){return r===void 0&&(r=null),Ls({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Zr(t):t,{state:r,key:t&&t.key||n||o0()})}function Dm(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Zr(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function l0(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:o=!1}=n,l=a.history,c=gr.Pop,i=null,u=h();u==null&&(u=0,l.replaceState(Ls({},l.state,{idx:u}),""));function h(){return(l.state||{idx:null}).idx}function g(){c=gr.Pop;let w=h(),y=w==null?null:w-u;u=w,i&&i({action:c,location:j.location,delta:y})}function p(w,y){c=gr.Push;let m=hi(j.location,w,y);r&&r(m,w),u=h()+1;let f=$u(m,u),x=j.createHref(m);try{l.pushState(f,"",x)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(x)}o&&i&&i({action:c,location:j.location,delta:1})}function v(w,y){c=gr.Replace;let m=hi(j.location,w,y);r&&r(m,w),u=h();let f=$u(m,u),x=j.createHref(m);l.replaceState(f,"",x),o&&i&&i({action:c,location:j.location,delta:0})}function b(w){let y=a.location.origin!=="null"?a.location.origin:a.location.href,m=typeof w=="string"?w:Dm(w);return m=m.replace(/ $/,"%20"),Te(y,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,y)}let j={get action(){return c},get location(){return e(a,l)},listen(w){if(i)throw new Error("A history only accepts one active listener");return a.addEventListener(Bu,g),i=w,()=>{a.removeEventListener(Bu,g),i=null}},createHref(w){return t(a,w)},createURL:b,encodeLocation(w){let y=b(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:v,go(w){return l.go(w)}};return j}var Uu;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Uu||(Uu={}));function i0(e,t,r){return r===void 0&&(r="/"),c0(e,t,r)}function c0(e,t,r,n){let a=typeof t=="string"?Zr(t):t,o=Rm(a.pathname||"/",r);if(o==null)return null;let l=Am(e);u0(l);let c=null;for(let i=0;c==null&&i<l.length;++i){let u=j0(o);c=v0(l[i],u)}return c}function Am(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(o,l,c)=>{let i={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};i.relativePath.startsWith("/")&&(Te(i.relativePath.startsWith(n),'Absolute route path "'+i.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),i.relativePath=i.relativePath.slice(n.length));let u=Hr([n,i.relativePath]),h=r.concat(i);o.children&&o.children.length>0&&(Te(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Am(o.children,t,h,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:x0(u,o.index),routesMeta:h})};return e.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))a(o,l);else for(let i of zm(o.path))a(o,l,i)}),t}function zm(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return a?[o,""]:[o];let l=zm(n.join("/")),c=[];return c.push(...l.map(i=>i===""?o:[o,i].join("/"))),a&&c.push(...l),c.map(i=>e.startsWith("/")&&i===""?"/":i)}function u0(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:y0(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const d0=/^:[\w-]+$/,f0=3,m0=2,h0=1,p0=10,g0=-2,Wu=e=>e==="*";function x0(e,t){let r=e.split("/"),n=r.length;return r.some(Wu)&&(n+=g0),t&&(n+=m0),r.filter(a=>!Wu(a)).reduce((a,o)=>a+(d0.test(o)?f0:o===""?h0:p0),n)}function y0(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function v0(e,t,r){let{routesMeta:n}=e,a={},o="/",l=[];for(let c=0;c<n.length;++c){let i=n[c],u=c===n.length-1,h=o==="/"?t:t.slice(o.length)||"/",g=w0({path:i.relativePath,caseSensitive:i.caseSensitive,end:u},h),p=i.route;if(!g)return null;Object.assign(a,g.params),l.push({params:a,pathname:Hr([o,g.pathname]),pathnameBase:E0(Hr([o,g.pathnameBase])),route:p}),g.pathnameBase!=="/"&&(o=Hr([o,g.pathnameBase]))}return l}function w0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=b0(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let o=a[0],l=o.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:n.reduce((u,h,g)=>{let{paramName:p,isOptional:v}=h;if(p==="*"){let j=c[g]||"";l=o.slice(0,o.length-j.length).replace(/(.)\/+$/,"$1")}const b=c[g];return v&&!b?u[p]=void 0:u[p]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:l,pattern:e}}function b0(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Po(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,i)=>(n.push({paramName:c,isOptional:i!=null}),i?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function j0(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Po(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Rm(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const N0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,k0=e=>N0.test(e);function S0(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Zr(e):e,o;if(r)if(k0(r))o=r;else{if(r.includes("//")){let l=r;r=r.replace(/\/\/+/g,"/"),Po(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+r))}r.startsWith("/")?o=Hu(r.substring(1),"/"):o=Hu(r,t)}else o=t;return{pathname:o,search:_0(n),hash:T0(a)}}function Hu(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function fl(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function C0(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Im(e,t){let r=C0(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Om(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Zr(e):(a=Ls({},e),Te(!a.pathname||!a.pathname.includes("?"),fl("?","pathname","search",a)),Te(!a.pathname||!a.pathname.includes("#"),fl("#","pathname","hash",a)),Te(!a.search||!a.search.includes("#"),fl("#","search","hash",a)));let o=e===""||a.pathname==="",l=o?"/":a.pathname,c;if(l==null)c=r;else{let g=t.length-1;if(!n&&l.startsWith("..")){let p=l.split("/");for(;p[0]==="..";)p.shift(),g-=1;a.pathname=p.join("/")}c=g>=0?t[g]:"/"}let i=S0(a,c),u=l&&l!=="/"&&l.endsWith("/"),h=(o||l===".")&&r.endsWith("/");return!i.pathname.endsWith("/")&&(u||h)&&(i.pathname+="/"),i}const Hr=e=>e.join("/").replace(/\/\/+/g,"/"),E0=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),_0=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,T0=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function P0(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Mm=["post","put","patch","delete"];new Set(Mm);const L0=["get",...Mm];new Set(L0);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ds(){return Ds=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ds.apply(this,arguments)}const wc=d.createContext(null),D0=d.createContext(null),Hs=d.createContext(null),Lo=d.createContext(null),Ar=d.createContext({outlet:null,matches:[],isDataRoute:!1}),Fm=d.createContext(null);function Vs(){return d.useContext(Lo)!=null}function Rn(){return Vs()||Te(!1),d.useContext(Lo).location}function Bm(e){d.useContext(Hs).static||d.useLayoutEffect(e)}function In(){let{isDataRoute:e}=d.useContext(Ar);return e?V0():A0()}function A0(){Vs()||Te(!1);let e=d.useContext(wc),{basename:t,future:r,navigator:n}=d.useContext(Hs),{matches:a}=d.useContext(Ar),{pathname:o}=Rn(),l=JSON.stringify(Im(a,r.v7_relativeSplatPath)),c=d.useRef(!1);return Bm(()=>{c.current=!0}),d.useCallback(function(u,h){if(h===void 0&&(h={}),!c.current)return;if(typeof u=="number"){n.go(u);return}let g=Om(u,JSON.parse(l),o,h.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Hr([t,g.pathname])),(h.replace?n.replace:n.push)(g,h.state,h)},[t,n,l,o,e])}function $m(){let{matches:e}=d.useContext(Ar),t=e[e.length-1];return t?t.params:{}}function z0(e,t){return R0(e,t)}function R0(e,t,r,n){Vs()||Te(!1);let{navigator:a}=d.useContext(Hs),{matches:o}=d.useContext(Ar),l=o[o.length-1],c=l?l.params:{};l&&l.pathname;let i=l?l.pathnameBase:"/";l&&l.route;let u=Rn(),h;if(t){var g;let w=typeof t=="string"?Zr(t):t;i==="/"||(g=w.pathname)!=null&&g.startsWith(i)||Te(!1),h=w}else h=u;let p=h.pathname||"/",v=p;if(i!=="/"){let w=i.replace(/^\//,"").split("/");v="/"+p.replace(/^\//,"").split("/").slice(w.length).join("/")}let b=i0(e,{pathname:v}),j=B0(b&&b.map(w=>Object.assign({},w,{params:Object.assign({},c,w.params),pathname:Hr([i,a.encodeLocation?a.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?i:Hr([i,a.encodeLocation?a.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,r,n);return t&&j?d.createElement(Lo.Provider,{value:{location:Ds({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:gr.Pop}},j):j}function I0(){let e=H0(),t=P0(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},t),r?d.createElement("pre",{style:a},r):null,null)}const O0=d.createElement(I0,null);class M0 extends d.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?d.createElement(Ar.Provider,{value:this.props.routeContext},d.createElement(Fm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function F0(e){let{routeContext:t,match:r,children:n}=e,a=d.useContext(wc);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),d.createElement(Ar.Provider,{value:t},n)}function B0(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,c=(a=r)==null?void 0:a.errors;if(c!=null){let h=l.findIndex(g=>g.route.id&&(c==null?void 0:c[g.route.id])!==void 0);h>=0||Te(!1),l=l.slice(0,Math.min(l.length,h+1))}let i=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let h=0;h<l.length;h++){let g=l[h];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(u=h),g.route.id){let{loaderData:p,errors:v}=r,b=g.route.loader&&p[g.route.id]===void 0&&(!v||v[g.route.id]===void 0);if(g.route.lazy||b){i=!0,u>=0?l=l.slice(0,u+1):l=[l[0]];break}}}return l.reduceRight((h,g,p)=>{let v,b=!1,j=null,w=null;r&&(v=c&&g.route.id?c[g.route.id]:void 0,j=g.route.errorElement||O0,i&&(u<0&&p===0?(q0("route-fallback"),b=!0,w=null):u===p&&(b=!0,w=g.route.hydrateFallbackElement||null)));let y=t.concat(l.slice(0,p+1)),m=()=>{let f;return v?f=j:b?f=w:g.route.Component?f=d.createElement(g.route.Component,null):g.route.element?f=g.route.element:f=h,d.createElement(F0,{match:g,routeContext:{outlet:h,matches:y,isDataRoute:r!=null},children:f})};return r&&(g.route.ErrorBoundary||g.route.errorElement||p===0)?d.createElement(M0,{location:r.location,revalidation:r.revalidation,component:j,error:v,children:m(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):m()},null)}var Um=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Um||{}),Wm=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Wm||{});function $0(e){let t=d.useContext(wc);return t||Te(!1),t}function U0(e){let t=d.useContext(D0);return t||Te(!1),t}function W0(e){let t=d.useContext(Ar);return t||Te(!1),t}function Hm(e){let t=W0(),r=t.matches[t.matches.length-1];return r.route.id||Te(!1),r.route.id}function H0(){var e;let t=d.useContext(Fm),r=U0(),n=Hm();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function V0(){let{router:e}=$0(Um.UseNavigateStable),t=Hm(Wm.UseNavigateStable),r=d.useRef(!1);return Bm(()=>{r.current=!0}),d.useCallback(function(a,o){o===void 0&&(o={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Ds({fromRouteId:t},o)))},[e,t])}const Vu={};function q0(e,t,r){Vu[e]||(Vu[e]=!0)}function Q0(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function G0(e){let{to:t,replace:r,state:n,relative:a}=e;Vs()||Te(!1);let{future:o,static:l}=d.useContext(Hs),{matches:c}=d.useContext(Ar),{pathname:i}=Rn(),u=In(),h=Om(t,Im(c,o.v7_relativeSplatPath),i,a==="path"),g=JSON.stringify(h);return d.useEffect(()=>u(JSON.parse(g),{replace:r,state:n,relative:a}),[u,g,a,r,n]),null}function Ie(e){Te(!1)}function Y0(e){let{basename:t="/",children:r=null,location:n,navigationType:a=gr.Pop,navigator:o,static:l=!1,future:c}=e;Vs()&&Te(!1);let i=t.replace(/^\/*/,"/"),u=d.useMemo(()=>({basename:i,navigator:o,static:l,future:Ds({v7_relativeSplatPath:!1},c)}),[i,c,o,l]);typeof n=="string"&&(n=Zr(n));let{pathname:h="/",search:g="",hash:p="",state:v=null,key:b="default"}=n,j=d.useMemo(()=>{let w=Rm(h,i);return w==null?null:{location:{pathname:w,search:g,hash:p,state:v,key:b},navigationType:a}},[i,h,g,p,v,b,a]);return j==null?null:d.createElement(Hs.Provider,{value:u},d.createElement(Lo.Provider,{children:r,value:j}))}function K0(e){let{children:t,location:r}=e;return z0(pi(t),r)}new Promise(()=>{});function pi(e,t){t===void 0&&(t=[]);let r=[];return d.Children.forEach(e,(n,a)=>{if(!d.isValidElement(n))return;let o=[...t,a];if(n.type===d.Fragment){r.push.apply(r,pi(n.props.children,o));return}n.type!==Ie&&Te(!1),!n.props.index||!n.props.children||Te(!1);let l={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=pi(n.props.children,o)),r.push(l)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const J0="6";try{window.__reactRouterVersion=J0}catch{}const X0="startTransition",qu=Qh[X0];function Z0(e){let{basename:t,children:r,future:n,window:a}=e,o=d.useRef();o.current==null&&(o.current=a0({window:a,v5Compat:!0}));let l=o.current,[c,i]=d.useState({action:l.action,location:l.location}),{v7_startTransition:u}=n||{},h=d.useCallback(g=>{u&&qu?qu(()=>i(g)):i(g)},[i,u]);return d.useLayoutEffect(()=>l.listen(h),[l,h]),d.useEffect(()=>Q0(n),[n]),d.createElement(Y0,{basename:t,children:r,location:c.location,navigationType:c.action,navigator:l,future:n})}var Qu;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Qu||(Qu={}));var Gu;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Gu||(Gu={}));var Vm={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Yu=J.createContext&&J.createContext(Vm),ex=["attr","size","title"];function tx(e,t){if(e==null)return{};var r=rx(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rx(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function co(){return co=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},co.apply(this,arguments)}function Ku(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ku(Object(r),!0).forEach(function(n){nx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ku(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nx(e,t,r){return t=sx(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sx(e){var t=ax(e,"string");return typeof t=="symbol"?t:t+""}function ax(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qm(e){return e&&e.map((t,r)=>J.createElement(t.tag,uo({key:r},t.attr),qm(t.child)))}function Y(e){return t=>J.createElement(ox,co({attr:uo({},e.attr)},t),qm(e.child))}function ox(e){var t=r=>{var{attr:n,size:a,title:o}=e,l=tx(e,ex),c=a||r.size||"1em",i;return r.className&&(i=r.className),e.className&&(i=(i?i+" ":"")+e.className),J.createElement("svg",co({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,l,{className:i,style:uo(uo({color:e.color||r.color},r.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),o&&J.createElement("title",null,o),e.children)};return Yu!==void 0?J.createElement(Yu.Consumer,null,r=>t(r)):t(Vm)}function lx(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(e)}function Qm(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(e)}function bc(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(e)}function ix(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(e)}function us(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(e)}function $t(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(e)}function cx(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"13",r:"4"},child:[]}]})(e)}function As(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(e)}function ux(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 11 12 14 22 4"},child:[]},{tag:"path",attr:{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"},child:[]}]})(e)}function lt(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(e)}function Ju(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(e)}function Gm(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"},child:[]},{tag:"rect",attr:{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"},child:[]}]})(e)}function Ym(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(e)}function fo(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(e)}function Km(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"},child:[]},{tag:"polyline",attr:{points:"15 3 21 3 21 9"},child:[]},{tag:"line",attr:{x1:"10",y1:"14",x2:"21",y2:"3"},child:[]}]})(e)}function zs(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(e)}function Rs(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(e)}function Jm(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(e)}function Tn(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(e)}function dx(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(e)}function Xm(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(e)}function Xu(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"},child:[]}]})(e)}function fx(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(e)}function Xt(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(e)}function Zu(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"},child:[]},{tag:"polyline",attr:{points:"10 17 15 12 10 7"},child:[]},{tag:"line",attr:{x1:"15",y1:"12",x2:"3",y2:"12"},child:[]}]})(e)}function gi(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(e)}function en(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(e)}function Zm(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(e)}function qs(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(e)}function Pn(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function mx(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(e)}function hx(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"},child:[]},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"},child:[]}]})(e)}function px(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(e)}function Do(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(e)}function gx(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"},child:[]}]})(e)}function ed(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function ml(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(e)}function jc(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"polyline",attr:{points:"17 11 19 13 23 9"},child:[]}]})(e)}function Ao(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(e)}function bt(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(e)}function xx(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(e)}function nr(e){return Y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(e)}const ds={ENGLISH:"en",HINDI:"hi"},yx={Dashboard:"","Lead Management":" ","Clients Management":" ","Projects Management":" ","Employee Management":" ","Site Expenses":" ","Site Received":" ",Reports:"",Settings:"","Help & Support":"  ","Manage Everything from a single place":"       ","Track and manage your potential clients":"       ","Manage your client relationships":"     ","Oversee all your projects":"     ","Manage your team effectively":"       ","Track construction expenses":"   ","Monitor received payments":"    ","View detailed analytics and reports":"    ","Configure your preferences":"   ","Get assistance and support":"    ","Total Projects":" ","Total Clients":" ","Total Employees":" ","Pending Task":" ","Project Summary":" ","Material Request":" ","Recent Transaction":" ","Overall Progress":" ","Performance Analytics":" ",Done:"",Delay:"",Ongoing:"  ",Completed:"",Delayed:"","At risk":" ","On going":"  ","Project Name":" ","Task Name":" ","Due Date":" ",Status:"",Name:"",Progress:"",Material:"",Action:"",Approve:" ",Reject:" ",Date:"",Transaction:"",Amount:"","Invoice Paid":" ","Advance Received":" ","Contract Signed":" ","Final Payment":" ","Milestone Payment":" ",MANAGEMENT:"",ACCOUNTING:"","BUSINESS REVIEW":" ",SETTINGS:"","LOG OUT":" ",Search:"",New:"",Contacted:"  ",Qualified:"",Proposal:"",Negotiation:"",Lead:"",Contact:"",Value:"",Actions:"","Recent Leads":" ","This Month":" ","Conversion Rate":" "},vx=e=>{switch(e){case ds.ENGLISH:return"English";case ds.HINDI:return"";default:return e}},eh=d.createContext(),wx=({children:e})=>{const[t,r]=d.useState(ds.ENGLISH),[n,a]=d.useState(!1),c={currentLanguage:t,changeLanguage:async i=>{if(i!==t){a(!0);try{r(i)}catch(u){console.error("Language change error:",u)}finally{a(!1)}}},t:i=>t===ds.ENGLISH?i:yx[i]||i,isTranslating:n,languages:ds,getLanguageName:vx};return s.jsx(eh.Provider,{value:c,children:e})},Nc=()=>{const e=d.useContext(eh);if(!e)throw new Error("useTranslation must be used within a TranslationProvider");return e},Cr={api:{baseUrl:"http://nirmaantracker.ddcdeveloper.com/api",timeout:1e4},socket:{url:"http://nirmaantracker.ddcdeveloper.com/api"},app:{name:"Nirmaan Trackerl",version:"1.0.0",environment:"production",port:"5173"}};class bx{constructor(){this.timeout=Cr.api.timeout}getBaseUrl(){const t=Cr.api.baseUrl;return console.log("API URL:",t),t}getAuthHeaders(){const t=localStorage.getItem("token");return{"Content-Type":"application/json",...t&&{Authorization:`Bearer ${t}`}}}async request(t,r={}){const n=`${this.getBaseUrl()}${t}`;console.log("API Request URL:",n);const a={headers:this.getAuthHeaders(),...r};try{const o=await fetch(n,a);if(!o.ok){let l=`HTTP error! status: ${o.status}`,c=null;try{c=await o.json(),c.error&&(l=c.error)}catch{switch(o.status){case 400:l="Invalid request. Please check your input.";break;case 401:l="Invalid credentials. Please check your username and password.";break;case 403:l="Access denied. You do not have permission to perform this action.";break;case 404:l="The requested resource was not found.";break;case 409:l="This action conflicts with existing data.";break;case 422:l="Validation failed. Please check your input.";break;case 429:l="Too many requests. Please try again later.";break;case 500:l="Server error. Please try again later.";break;default:l="An unexpected error occurred. Please try again."}}const i=new Error(l);throw i.response={data:c,status:o.status},i}return await o.json()}catch(o){throw console.error(`API request failed: ${t}`,o),o}}async login(t){return this.request("/api/auth/login",{method:"POST",body:JSON.stringify(t)})}async register(t){return this.request("/api/auth/register",{method:"POST",body:JSON.stringify(t)})}async forgotPassword(t){return this.request("/api/auth/forgot-password",{method:"POST",body:JSON.stringify(t)})}async resetPassword(t,r){return this.request("/api/auth/reset-password",{method:"POST",body:JSON.stringify({token:t,newPassword:r})})}async changePassword(t){return this.request("/api/auth/change-password",{method:"POST",body:JSON.stringify(t)})}async getProfile(){return this.request("/api/auth/profile")}async getTasks(t={}){const r=new URLSearchParams(t).toString(),n=r?`/api/tasks?${r}`:"/api/tasks";return this.request(n)}async getTaskById(t){return this.request(`/api/tasks/${t}`)}async createTask(t){return this.request("/api/tasks",{method:"POST",body:JSON.stringify(t)})}async updateTask(t,r){return this.request(`/api/tasks/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteTask(t){return this.request(`/api/tasks/${t}`,{method:"DELETE"})}async getNextTaskNumber(){return this.request("/api/tasks/next-number")}async getCommentsByTask(t){return this.request(`/api/comments/task/${t}`)}async createComment(t){return this.request("/api/comments",{method:"POST",body:JSON.stringify(t)})}async updateComment(t,r){return this.request(`/api/comments/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteComment(t){return this.request(`/api/comments/${t}`,{method:"DELETE"})}async getUsers(){return this.request("/api/users")}async checkUserDeletion(t){return this.request(`/api/users/${t}/check-deletion`)}async createUser(t){return this.request("/api/users",{method:"POST",body:JSON.stringify(t)})}async updateUser(t,r){return this.request(`/api/users/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteUser(t){return this.request(`/api/users/${t}`,{method:"DELETE"})}async getLeads(){return this.request("/api/leads")}async createLead(t){return this.request("/api/leads",{method:"POST",body:JSON.stringify(t)})}async updateLead(t,r){return this.request(`/api/leads/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteLead(t){return this.request(`/api/leads/${t}`,{method:"DELETE"})}async getNotifications(){return this.request("/api/notifications")}async getUnreadNotificationCount(){return this.request("/api/notifications/unread-count")}async markNotificationAsRead(t){return this.request(`/api/notifications/${t}/read`,{method:"PUT"})}async markAllNotificationsAsRead(){return this.request("/api/notifications/mark-all-read",{method:"PUT"})}async deleteNotification(t){return this.request(`/api/notifications/${t}`,{method:"DELETE"})}async deleteNotificationsByRelatedId(t,r){return this.request(`/api/notifications/by-related/${t}/${r}`,{method:"DELETE"})}async healthCheck(){return this.request("/api/health")}}const se=new bx;class jx{constructor(){this.registration=null,this.subscription=null,this.vapidPublicKey=null}async init(){try{return"serviceWorker"in navigator?"PushManager"in window?(this.registration=await navigator.serviceWorker.register("/service-worker.js"),console.log("Service Worker registered successfully"),await this.fetchVapidPublicKey(),!0):(console.warn("Push messaging not supported"),!1):(console.warn("Service workers not supported"),!1)}catch(t){return console.error("Error initializing push notifications:",t),!1}}async fetchVapidPublicKey(){try{const t=await fetch(`${Cr.api.baseUrl}/api/push/vapid-public-key`);if(t.ok){const r=await t.json();this.vapidPublicKey=r.publicKey}else console.error("Failed to fetch VAPID public key")}catch(t){console.error("Error fetching VAPID public key:",t)}}async requestPermission(){try{return await Notification.requestPermission()==="granted"?(console.log("Notification permission granted"),!0):(console.log("Notification permission denied"),!1)}catch(t){return console.error("Error requesting notification permission:",t),!1}}async subscribe(){try{if(!this.registration)throw new Error("Service worker not registered");if(!this.vapidPublicKey)throw new Error("VAPID public key not available");const t=this.urlB64ToUint8Array(this.vapidPublicKey);return this.subscription=await this.registration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:t}),console.log("Push subscription created:",this.subscription),await this.sendSubscriptionToBackend(this.subscription),this.subscription}catch(t){throw console.error("Error subscribing to push notifications:",t),t}}async unsubscribe(){try{if(this.subscription){const t=await this.subscription.unsubscribe();return console.log("Successfully unsubscribed from push notifications"),await this.removeSubscriptionFromBackend(),this.subscription=null,t}return!1}catch(t){return console.error("Error unsubscribing from push notifications:",t),!1}}async getSubscription(){try{return this.registration?(this.subscription=await this.registration.pushManager.getSubscription(),this.subscription):null}catch(t){return console.error("Error getting subscription:",t),null}}async sendSubscriptionToBackend(t){try{(await fetch(`${Cr.api.baseUrl}/api/push/subscribe`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({subscription:t.toJSON()})})).ok?console.log("Subscription sent to backend successfully"):console.error("Failed to send subscription to backend")}catch(r){console.error("Error sending subscription to backend:",r)}}async removeSubscriptionFromBackend(){try{(await fetch(`${Cr.api.baseUrl}/api/push/unsubscribe`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok?console.log("Subscription removed from backend successfully"):console.error("Failed to remove subscription from backend")}catch(t){console.error("Error removing subscription from backend:",t)}}isSupported(){return"serviceWorker"in navigator&&"PushManager"in window}getPermissionStatus(){return"Notification"in window?Notification.permission:"not-supported"}urlB64ToUint8Array(t){const r="=".repeat((4-t.length%4)%4),n=(t+r).replace(/-/g,"+").replace(/_/g,"/"),a=window.atob(n),o=new Uint8Array(a.length);for(let l=0;l<a.length;++l)o[l]=a.charCodeAt(l);return o}async testNotification(){try{if(Notification.permission==="granted"){const t=new Notification("Test Notification",{body:"This is a test push notification",icon:"/logo-small.png"});setTimeout(()=>{t.close()},3e3)}else console.warn("Notification permission not granted")}catch(t){console.error("Error showing test notification:",t)}}}const qn=new jx,th=d.createContext(),Ae=()=>{const e=d.useContext(th);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Nx=({children:e})=>{const[t,r]=d.useState(null),[n,a]=d.useState(null),[o,l]=d.useState(!0),[c,i]=d.useState(!1),u=async()=>{try{if(console.log("Initializing push notifications..."),!await qn.init()){console.warn("Push notifications not supported or failed to initialize");return}const f=qn.getPermissionStatus();if(console.log("Notification permission status:",f),f==="default"){if(!await qn.requestPermission()){console.log("User denied notification permission");return}}else if(f==="denied"){console.log("Notification permission denied by user");return}await qn.getSubscription()?console.log("Already subscribed to push notifications"):(await qn.subscribe(),console.log("Successfully subscribed to push notifications"))}catch(m){console.error("Error initializing push notifications:",m)}};d.useEffect(()=>{const m=localStorage.getItem("token"),f=localStorage.getItem("user");if(m&&f)try{const x=JSON.parse(f);a(m),r(x),h(m,!0).then(()=>{x.isTempPassword||u()})}catch{localStorage.removeItem("token"),localStorage.removeItem("user")}l(!1)},[]);const h=async(m,f=!1)=>{try{localStorage.getItem("token")||localStorage.setItem("token",m);const N=await se.getProfile(),C={id:N.user.id,firstName:N.user.first_name,lastName:N.user.last_name,email:N.user.email,username:N.user.username,role:N.user.role,status:N.user.status,phone:N.user.phone,profile_image:N.user.profile_image,isTempPassword:N.user.is_temp_password};r(C),localStorage.setItem("user",JSON.stringify(C)),C.isTempPassword&&!f?i(!0):C.isTempPassword||(i(!1),f||u())}catch(x){console.error("Error fetching full profile:",x)}},y={user:t,token:n,loading:o,showPasswordChange:c,login:async(m,f)=>{a(m),localStorage.setItem("token",m);const x={id:f.id,firstName:f.firstName,lastName:f.lastName,email:f.email,username:f.username,isTempPassword:f.isTempPassword||!1};r(x),localStorage.setItem("user",JSON.stringify(x)),await h(m)},logout:()=>{a(null),r(null),localStorage.removeItem("token"),localStorage.removeItem("user"),sessionStorage.removeItem("redirectAfterLogin")},updateUser:m=>{r(m),localStorage.setItem("user",JSON.stringify(m))},hidePasswordChange:()=>{i(!1)},isAuthenticated:()=>!!n&&!!t,requiresPasswordChange:()=>!!n&&!!t&&!!t.isTempPassword};return s.jsx(th.Provider,{value:y,children:e})},Wt=Object.create(null);Wt.open="0";Wt.close="1";Wt.ping="2";Wt.pong="3";Wt.message="4";Wt.upgrade="5";Wt.noop="6";const za=Object.create(null);Object.keys(Wt).forEach(e=>{za[Wt[e]]=e});const xi={type:"error",data:"parser error"},rh=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",nh=typeof ArrayBuffer=="function",sh=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,kc=({type:e,data:t},r,n)=>rh&&t instanceof Blob?r?n(t):td(t,n):nh&&(t instanceof ArrayBuffer||sh(t))?r?n(t):td(new Blob([t]),n):n(Wt[e]+(t||"")),td=(e,t)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];t("b"+(n||""))},r.readAsDataURL(e)};function rd(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let hl;function kx(e,t){if(rh&&e.data instanceof Blob)return e.data.arrayBuffer().then(rd).then(t);if(nh&&(e.data instanceof ArrayBuffer||sh(e.data)))return t(rd(e.data));kc(e,!1,r=>{hl||(hl=new TextEncoder),t(hl.encode(r))})}const nd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",es=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<nd.length;e++)es[nd.charCodeAt(e)]=e;const Sx=e=>{let t=e.length*.75,r=e.length,n,a=0,o,l,c,i;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const u=new ArrayBuffer(t),h=new Uint8Array(u);for(n=0;n<r;n+=4)o=es[e.charCodeAt(n)],l=es[e.charCodeAt(n+1)],c=es[e.charCodeAt(n+2)],i=es[e.charCodeAt(n+3)],h[a++]=o<<2|l>>4,h[a++]=(l&15)<<4|c>>2,h[a++]=(c&3)<<6|i&63;return u},Cx=typeof ArrayBuffer=="function",Sc=(e,t)=>{if(typeof e!="string")return{type:"message",data:ah(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:Ex(e.substring(1),t)}:za[r]?e.length>1?{type:za[r],data:e.substring(1)}:{type:za[r]}:xi},Ex=(e,t)=>{if(Cx){const r=Sx(e);return ah(r,t)}else return{base64:!0,data:e}},ah=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},oh="",_x=(e,t)=>{const r=e.length,n=new Array(r);let a=0;e.forEach((o,l)=>{kc(o,!1,c=>{n[l]=c,++a===r&&t(n.join(oh))})})},Tx=(e,t)=>{const r=e.split(oh),n=[];for(let a=0;a<r.length;a++){const o=Sc(r[a],t);if(n.push(o),o.type==="error")break}return n};function Px(){return new TransformStream({transform(e,t){kx(e,r=>{const n=r.length;let a;if(n<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,n);else if(n<65536){a=new Uint8Array(3);const o=new DataView(a.buffer);o.setUint8(0,126),o.setUint16(1,n)}else{a=new Uint8Array(9);const o=new DataView(a.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(a[0]|=128),t.enqueue(a),t.enqueue(r)})}})}let pl;function fa(e){return e.reduce((t,r)=>t+r.length,0)}function ma(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let a=0;a<t;a++)r[a]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function Lx(e,t){pl||(pl=new TextDecoder);const r=[];let n=0,a=-1,o=!1;return new TransformStream({transform(l,c){for(r.push(l);;){if(n===0){if(fa(r)<1)break;const i=ma(r,1);o=(i[0]&128)===128,a=i[0]&127,a<126?n=3:a===126?n=1:n=2}else if(n===1){if(fa(r)<2)break;const i=ma(r,2);a=new DataView(i.buffer,i.byteOffset,i.length).getUint16(0),n=3}else if(n===2){if(fa(r)<8)break;const i=ma(r,8),u=new DataView(i.buffer,i.byteOffset,i.length),h=u.getUint32(0);if(h>Math.pow(2,21)-1){c.enqueue(xi);break}a=h*Math.pow(2,32)+u.getUint32(4),n=3}else{if(fa(r)<a)break;const i=ma(r,a);c.enqueue(Sc(o?i:pl.decode(i),t)),n=0}if(a===0||a>e){c.enqueue(xi);break}}}})}const lh=4;function _e(e){if(e)return Dx(e)}function Dx(e){for(var t in _e.prototype)e[t]=_e.prototype[t];return e}_e.prototype.on=_e.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};_e.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};_e.prototype.off=_e.prototype.removeListener=_e.prototype.removeAllListeners=_e.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,a=0;a<r.length;a++)if(n=r[a],n===t||n.fn===t){r.splice(a,1);break}return r.length===0&&delete this._callbacks["$"+e],this};_e.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,a=r.length;n<a;++n)r[n].apply(this,t)}return this};_e.prototype.emitReserved=_e.prototype.emit;_e.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};_e.prototype.hasListeners=function(e){return!!this.listeners(e).length};const zo=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),xt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Ax="arraybuffer";function ih(e,...t){return t.reduce((r,n)=>(e.hasOwnProperty(n)&&(r[n]=e[n]),r),{})}const zx=xt.setTimeout,Rx=xt.clearTimeout;function Ro(e,t){t.useNativeTimers?(e.setTimeoutFn=zx.bind(xt),e.clearTimeoutFn=Rx.bind(xt)):(e.setTimeoutFn=xt.setTimeout.bind(xt),e.clearTimeoutFn=xt.clearTimeout.bind(xt))}const Ix=1.33;function Ox(e){return typeof e=="string"?Mx(e):Math.ceil((e.byteLength||e.size)*Ix)}function Mx(e){let t=0,r=0;for(let n=0,a=e.length;n<a;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}function ch(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Fx(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function Bx(e){let t={},r=e.split("&");for(let n=0,a=r.length;n<a;n++){let o=r[n].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}class $x extends Error{constructor(t,r,n){super(t),this.description=r,this.context=n,this.type="TransportError"}}class Cc extends _e{constructor(t){super(),this.writable=!1,Ro(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,n){return super.emitReserved("error",new $x(t,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=Sc(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=Fx(t);return r.length?"?"+r:""}}class Ux extends Cc{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};Tx(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,_x(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=ch()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let uh=!1;try{uh=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Wx=uh;function Hx(){}class Vx extends Ux{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,r){const n=this.request({method:"POST",data:t});n.on("success",r),n.on("error",(a,o)=>{this.onError("xhr post error",a,o)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=t}}class Ut extends _e{constructor(t,r,n){super(),this.createRequest=t,Ro(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const r=ih(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let a in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(a)&&n.setRequestHeader(a,this._opts.extraHeaders[a])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var a;n.readyState===3&&((a=this._opts.cookieJar)===null||a===void 0||a.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(a){this.setTimeoutFn(()=>{this._onError(a)},0);return}typeof document<"u"&&(this._index=Ut.requestsCount++,Ut.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Hx,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Ut.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Ut.requestsCount=0;Ut.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",sd);else if(typeof addEventListener=="function"){const e="onpagehide"in xt?"pagehide":"unload";addEventListener(e,sd,!1)}}function sd(){for(let e in Ut.requests)Ut.requests.hasOwnProperty(e)&&Ut.requests[e].abort()}const qx=function(){const e=dh({xdomain:!1});return e&&e.responseType!==null}();class Qx extends Vx{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=qx&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Ut(dh,this.uri(),t)}}function dh(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Wx))return new XMLHttpRequest}catch{}if(!t)try{return new xt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const fh=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Gx extends Cc{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,n=fh?{}:ih(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,n)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],a=r===t.length-1;kc(n,this.supportsBinary,o=>{try{this.doWrite(n,o)}catch{}a&&zo(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=ch()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const gl=xt.WebSocket||xt.MozWebSocket;class Yx extends Gx{createSocket(t,r,n){return fh?new gl(t,r,n):r?new gl(t,r):new gl(t)}doWrite(t,r){this.ws.send(r)}}class Kx extends Cc{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=Lx(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(r).getReader(),a=Px();a.readable.pipeTo(t.writable),this._writer=a.writable.getWriter();const o=()=>{n.read().then(({done:c,value:i})=>{c||(this.onPacket(i),o())}).catch(c=>{})};o();const l={type:"open"};this.query.sid&&(l.data=`{"sid":"${this.query.sid}"}`),this._writer.write(l).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],a=r===t.length-1;this._writer.write(n).then(()=>{a&&zo(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const Jx={websocket:Yx,webtransport:Kx,polling:Qx},Xx=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Zx=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function yi(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");r!=-1&&n!=-1&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let a=Xx.exec(e||""),o={},l=14;for(;l--;)o[Zx[l]]=a[l]||"";return r!=-1&&n!=-1&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=ey(o,o.path),o.queryKey=ty(o,o.query),o}function ey(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function ty(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,a,o){a&&(r[a]=o)}),r}const vi=typeof addEventListener=="function"&&typeof removeEventListener=="function",Ra=[];vi&&addEventListener("offline",()=>{Ra.forEach(e=>e())},!1);class Er extends _e{constructor(t,r){if(super(),this.binaryType=Ax,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const n=yi(t);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=yi(r.host).host);Ro(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const a=n.prototype.name;this.transports.push(a),this._transportsByName[a]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Bx(this.opts.query)),vi&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Ra.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=lh,r.transport=t,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Er.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",Er.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const a=this.writeBuffer[n].data;if(a&&(r+=Ox(a)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,zo(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,n){return this._sendPacket("message",t,r,n),this}send(t,r,n){return this._sendPacket("message",t,r,n),this}_sendPacket(t,r,n,a){if(typeof r=="function"&&(a=r,r=void 0),typeof n=="function"&&(a=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const o={type:t,data:r,options:n};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),a&&this.once("flush",a),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(Er.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),vi&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=Ra.indexOf(this._offlineEventListener);n!==-1&&Ra.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}Er.protocol=lh;class ry extends Er{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),n=!1;Er.priorWebsocketSuccess=!1;const a=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",g=>{if(!n)if(g.type==="pong"&&g.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Er.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(h(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const p=new Error("probe error");p.transport=r.name,this.emitReserved("upgradeError",p)}}))};function o(){n||(n=!0,h(),r.close(),r=null)}const l=g=>{const p=new Error("probe error: "+g);p.transport=r.name,o(),this.emitReserved("upgradeError",p)};function c(){l("transport closed")}function i(){l("socket closed")}function u(g){r&&g.name!==r.name&&o()}const h=()=>{r.removeListener("open",a),r.removeListener("error",l),r.removeListener("close",c),this.off("close",i),this.off("upgrading",u)};r.once("open",a),r.once("error",l),r.once("close",c),this.once("close",i),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&r.push(t[n]);return r}}let ny=class extends ry{constructor(t,r={}){const n=typeof t=="object"?t:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(a=>Jx[a]).filter(a=>!!a)),super(t,n)}};function sy(e,t="",r){let n=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),n=yi(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const o=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port+t,n.href=n.protocol+"://"+o+(r&&r.port===n.port?"":":"+n.port),n}const ay=typeof ArrayBuffer=="function",oy=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,mh=Object.prototype.toString,ly=typeof Blob=="function"||typeof Blob<"u"&&mh.call(Blob)==="[object BlobConstructor]",iy=typeof File=="function"||typeof File<"u"&&mh.call(File)==="[object FileConstructor]";function Ec(e){return ay&&(e instanceof ArrayBuffer||oy(e))||ly&&e instanceof Blob||iy&&e instanceof File}function Ia(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if(Ia(e[r]))return!0;return!1}if(Ec(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Ia(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&Ia(e[r]))return!0;return!1}function cy(e){const t=[],r=e.data,n=e;return n.data=wi(r,t),n.attachments=t.length,{packet:n,buffers:t}}function wi(e,t){if(!e)return e;if(Ec(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=wi(e[n],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=wi(e[n],t));return r}return e}function uy(e,t){return e.data=bi(e.data,t),delete e.attachments,e}function bi(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=bi(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=bi(e[r],t));return e}const dy=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],fy=5;var ae;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(ae||(ae={}));class my{constructor(t){this.replacer=t}encode(t){return(t.type===ae.EVENT||t.type===ae.ACK)&&Ia(t)?this.encodeAsBinary({type:t.type===ae.EVENT?ae.BINARY_EVENT:ae.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===ae.BINARY_EVENT||t.type===ae.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=cy(t),n=this.encodeAsString(r.packet),a=r.buffers;return a.unshift(n),a}}function ad(e){return Object.prototype.toString.call(e)==="[object Object]"}class _c extends _e{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const n=r.type===ae.BINARY_EVENT;n||r.type===ae.BINARY_ACK?(r.type=n?ae.EVENT:ae.ACK,this.reconstructor=new hy(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(Ec(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const n={type:Number(t.charAt(0))};if(ae[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===ae.BINARY_EVENT||n.type===ae.BINARY_ACK){const o=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const l=t.substring(o,r);if(l!=Number(l)||t.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(l)}if(t.charAt(r+1)==="/"){const o=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););n.nsp=t.substring(o,r)}else n.nsp="/";const a=t.charAt(r+1);if(a!==""&&Number(a)==a){const o=r+1;for(;++r;){const l=t.charAt(r);if(l==null||Number(l)!=l){--r;break}if(r===t.length)break}n.id=Number(t.substring(o,r+1))}if(t.charAt(++r)){const o=this.tryParse(t.substr(r));if(_c.isPayloadValid(n.type,o))n.data=o;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case ae.CONNECT:return ad(r);case ae.DISCONNECT:return r===void 0;case ae.CONNECT_ERROR:return typeof r=="string"||ad(r);case ae.EVENT:case ae.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&dy.indexOf(r[0])===-1);case ae.ACK:case ae.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class hy{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=uy(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const py=Object.freeze(Object.defineProperty({__proto__:null,Decoder:_c,Encoder:my,get PacketType(){return ae},protocol:fy},Symbol.toStringTag,{value:"Module"}));function Pt(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const gy=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class hh extends _e{constructor(t,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Pt(t,"open",this.onopen.bind(this)),Pt(t,"packet",this.onpacket.bind(this)),Pt(t,"error",this.onerror.bind(this)),Pt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var n,a,o;if(gy.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const l={type:ae.EVENT,data:r};if(l.options={},l.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const h=this.ids++,g=r.pop();this._registerAckCallback(h,g),l.id=h}const c=(a=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||a===void 0?void 0:a.writable,i=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!c||(i?(this.notifyOutgoingListeners(l),this.packet(l)):this.sendBuffer.push(l)),this.flags={},this}_registerAckCallback(t,r){var n;const a=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(a===void 0){this.acks[t]=r;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===t&&this.sendBuffer.splice(c,1);r.call(this,new Error("operation has timed out"))},a),l=(...c)=>{this.io.clearTimeoutFn(o),r.apply(this,c)};l.withError=!0,this.acks[t]=l}emitWithAck(t,...r){return new Promise((n,a)=>{const o=(l,c)=>l?a(l):n(c);o.withError=!0,r.push(o),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((a,...o)=>n!==this._queue[0]?void 0:(a!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(a)):(this._queue.shift(),r&&r(null,...o)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:ae.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case ae.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ae.EVENT:case ae.BINARY_EVENT:this.onevent(t);break;case ae.ACK:case ae.BINARY_ACK:this.onack(t);break;case ae.DISCONNECT:this.ondisconnect();break;case ae.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let n=!1;return function(...a){n||(n=!0,r.packet({type:ae.ACK,id:t,data:a}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ae.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,t.data)}}}function On(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}On.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+r:e-r}return Math.min(e,this.max)|0};On.prototype.reset=function(){this.attempts=0};On.prototype.setMin=function(e){this.ms=e};On.prototype.setMax=function(e){this.max=e};On.prototype.setJitter=function(e){this.jitter=e};class ji extends _e{constructor(t,r){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Ro(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new On({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const a=r.parser||py;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new ny(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const a=Pt(r,"open",function(){n.onopen(),t&&t()}),o=c=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",c),t?t(c):this.maybeReconnectOnOpen()},l=Pt(r,"error",o);if(this._timeout!==!1){const c=this._timeout,i=this.setTimeoutFn(()=>{a(),o(new Error("timeout")),r.close()},c);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}return this.subs.push(a),this.subs.push(l),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Pt(t,"ping",this.onping.bind(this)),Pt(t,"data",this.ondata.bind(this)),Pt(t,"error",this.onerror.bind(this)),Pt(t,"close",this.onclose.bind(this)),Pt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){zo(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new hh(this,t,r),this.nsps[t]=n),n}_destroy(t){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let n=0;n<r.length;n++)this.engine.write(r[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(a=>{a?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",a)):t.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Qn={};function bn(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=sy(e,t.path||"/socket.io"),n=r.source,a=r.id,o=r.path,l=Qn[a]&&o in Qn[a].nsps,c=t.forceNew||t["force new connection"]||t.multiplex===!1||l;let i;return c?i=new ji(n,t):(Qn[a]||(Qn[a]=new ji(n,t)),i=Qn[a]),r.query&&!t.query&&(t.query=r.queryKey),i.socket(r.path,t)}Object.assign(bn,{Manager:ji,Socket:hh,io:bn,connect:bn});const xl=()=>{try{const e=new(window.AudioContext||window.webkitAudioContext),t=e.createOscillator(),r=e.createGain();t.connect(r),r.connect(e.destination),t.frequency.setValueAtTime(800,e.currentTime),t.frequency.setValueAtTime(600,e.currentTime+.1),r.gain.setValueAtTime(1,e.currentTime),r.gain.exponentialRampToValueAtTime(.01,e.currentTime+.3),t.start(e.currentTime),t.stop(e.currentTime+.3)}catch{console.log("Web Audio not supported, trying HTML5 Audio..."),xy()}},xy=()=>{try{const e=new Audio;e.src="/sounds/Sound-1.mp3",e.volume=.5,e.play().catch(t=>console.log("Audio play failed:",t))}catch{console.log("HTML5 Audio not supported")}};let yl=null,od=!1;const ph=()=>{if(!od)try{yl=new(window.AudioContext||window.webkitAudioContext),yl.state==="suspended"&&yl.resume(),od=!0,console.log("Audio initialized successfully")}catch(e){console.log("Audio initialization failed:",e)}},yy=()=>{ph();try{const e=new Audio;e.src="/sounds/Sound-1.mp3",e.volume=1,e.preload="auto",e.oncanplaythrough=()=>{console.log("Audio loaded successfully")},e.onerror=r=>{console.log("Audio load error:",r),xl()};const t=e.play();t!==void 0&&t.then(()=>{console.log("Audio played successfully")}).catch(r=>{console.log("Audio play failed, trying Web Audio API:",r),xl()})}catch(e){console.log("HTML5 Audio not supported, trying Web Audio API:",e),xl()}},ld=({size:e=20})=>{const{user:t}=Ae(),r=In(),[n,a]=d.useState([]),[o,l]=d.useState(0),[c,i]=d.useState(!1),[u,h]=d.useState(!1),[g,p]=d.useState(null),v=d.useRef(null),b=async()=>{try{const x=await se.getNotifications();a(x.notifications||[])}catch(x){console.error("Error fetching notifications:",x)}},j=async()=>{try{const x=await se.getUnreadNotificationCount();l(x.count||0)}catch(x){console.error("Error fetching unread count:",x)}},w=async x=>{try{await se.markNotificationAsRead(x),a(N=>N.map(C=>C.id===x?{...C,is_read:!0}:C)),l(N=>Math.max(0,N-1))}catch(N){console.error("Error marking notification as read:",N)}},y=async()=>{try{await se.markAllNotificationsAsRead(),a(x=>x.map(N=>({...N,is_read:!0}))),l(0)}catch(x){console.error("Error marking all as read:",x)}},m=async x=>{console.log("Notification clicked:",x),console.log("Notification type:",x.type);try{x.is_read||await w(x.id),(x.type==="task_assigned"||x.type==="task_completed"||x.type==="task_overdue"||x.type==="comment")&&x.related_id?(console.log("Navigating to task:",x.related_id),x.type==="comment"?(console.log("Opening comments tab for comment notification"),r(`/task/${x.related_id}`,{state:{activeTab:"comments"}})):(console.log("Opening overview tab for task notification"),r(`/task/${x.related_id}`,{state:{activeTab:"overview"}}))):x.related_id?(console.log("Fallback navigation to task:",x.related_id),r(`/task/${x.related_id}`)):console.warn("No related_id found, cannot navigate"),i(!1)}catch(N){console.error("Error handling notification click:",N),i(!1)}};d.useEffect(()=>{const x=N=>{v.current&&!v.current.contains(N.target)&&i(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]),d.useEffect(()=>{if(t&&t.id){console.log(" Initializing Socket.IO connection for user:",t.id);const x=bn(Cr.socket.url,{transports:["websocket","polling"],timeout:2e4,forceNew:!0});return p(x),x.on("connect",()=>{console.log(" Socket.IO connected successfully:",x.id),x.emit("join-user-room",t.id)}),x.on("connect_error",N=>{console.error(" Socket.IO connection error:",N)}),x.on("disconnect",N=>{console.log(" Socket.IO disconnected:",N)}),x.on("joined-room",N=>{console.log(" Joined user room:",N)}),x.on("new-notification",N=>{console.log(" New notification received via Socket.IO:",N),a(C=>[N.notification,...C]),l(C=>C+1),yy()}),x.on("update-notification",N=>{console.log(" Notification updated via Socket.IO:",N),a(C=>C.map(k=>k.id===N.notification.id?N.notification:k)),N.notification.is_read||l(C=>C+1)}),()=>{console.log(" Cleaning up Socket.IO connection"),x.emit("leave-user-room",t.id),x.disconnect()}}},[t]),d.useEffect(()=>{const x=()=>{ph(),document.removeEventListener("click",x),document.removeEventListener("keydown",x),document.removeEventListener("touchstart",x)};return document.addEventListener("click",x),document.addEventListener("keydown",x),document.addEventListener("touchstart",x),()=>{document.removeEventListener("click",x),document.removeEventListener("keydown",x),document.removeEventListener("touchstart",x)}},[]),d.useEffect(()=>{t&&(b(),j())},[t]),d.useEffect(()=>{c&&o>0&&y()},[c]);const f=x=>{const N=new Date,C=new Date(x),k=Math.floor((N-C)/1e3);return k<60?"Just now":k<3600?`${Math.floor(k/60)}m ago`:k<86400?`${Math.floor(k/3600)}h ago`:`${Math.floor(k/86400)}d ago`};return s.jsxs("div",{className:"relative",ref:v,children:[s.jsxs("button",{onClick:()=>i(!c),className:"relative p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",title:"Notifications",children:[s.jsx(us,{size:e}),o>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center animate-pulse",children:o>9?"9+":o})]}),c&&s.jsxs("div",{className:"absolute left-1/2 top-full mt-4 w-56 sm:w-72 max-w-[calc(100vw-1rem)] -translate-x-1/2 sm:mt-4 bg-gradient-to-b from-blue-50 to-white rounded-xl shadow-xl border border-blue-200 z-50 max-h-72 overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b border-blue-200 bg-gradient-to-r from-blue-500 to-blue-600 rounded-t-xl",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(us,{size:14,className:"text-white"}),s.jsx("h3",{className:"text-xs font-bold text-white",style:{fontFamily:"var(--font-family)"},children:"Notifications"})]}),o>0&&s.jsxs("button",{onClick:y,className:"text-xs text-white hover:text-blue-100 flex items-center gap-1 bg-white/20 px-1.5 py-0.5 rounded-full",style:{fontFamily:"var(--font-family)"},children:[s.jsx(lt,{size:8}),s.jsx("span",{className:"hidden sm:inline text-xs",children:"Mark"})]})]}),s.jsx("div",{className:"max-h-48 overflow-y-auto",children:n.length===0?s.jsxs("div",{className:"p-3 sm:p-6 text-center text-gray-500",children:[s.jsx(us,{size:16,className:"sm:w-6 sm:h-6 mx-auto mb-1 opacity-50"}),s.jsx("p",{className:"text-xs sm:text-base",children:"No notifications"})]}):n.slice(0,3).map(x=>{const N=P=>{switch(P){case"task_assigned":return{icon:jc,color:"text-blue-500",bgColor:"bg-blue-100"};case"task_completed":return{icon:Gm,color:"text-green-500",bgColor:"bg-green-100"};case"task_overdue":return{icon:Qm,color:"text-red-500",bgColor:"bg-red-100"};case"comment":return{icon:Zm,color:"text-purple-500",bgColor:"bg-purple-100"};default:return{icon:Xm,color:"text-purple-500",bgColor:"bg-purple-100"}}},{icon:C,color:k,bgColor:S}=N(x.type);return s.jsx("div",{className:`px-3 py-3 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-all duration-200 ${x.is_read?"":"bg-gradient-to-r from-blue-50 to-transparent border-l-4 border-l-blue-400"}`,onClick:()=>m(x),style:{fontFamily:"var(--font-family)"},children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`w-6 h-6 rounded-full ${S} flex items-center justify-center flex-shrink-0 mt-0.5`,children:s.jsx(C,{size:12,className:k})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between mb-1",children:[s.jsx("div",{className:"flex-1",children:s.jsx("h4",{className:"text-xs font-semibold text-gray-900 break-words",style:{fontFamily:"var(--font-family)"},children:x.type==="task_assigned"&&x.assignByName?`New Task Assigned By ${x.assignByName} To You`:x.title})}),!x.is_read&&s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0 animate-pulse ml-2"})]}),s.jsx("p",{className:"text-xs text-gray-600 leading-relaxed mb-1 truncate",style:{fontFamily:"var(--font-family)"},children:x.message}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-gray-500",style:{fontFamily:"var(--font-family)"},children:f(x.created_at)}),x.type==="task_assigned"&&s.jsx(Km,{size:10,className:"text-blue-400"})]})]})]})},x.id)})}),n.length>0&&s.jsx("div",{className:"px-3 py-1 border-t border-gray-200 bg-gray-50",children:s.jsx("button",{onClick:()=>{r("/notifications"),i(!1)},className:"w-full text-xs text-blue-600 hover:text-blue-800 text-center",style:{fontFamily:"var(--font-family)"},children:"View all notifications"})})]})]})};function vy({title:e,subtitle:t,onMobileMenuToggle:r,onSearch:n}){const[a,o]=d.useState(""),[l,c]=d.useState(!1),{user:i,logout:u}=Ae(),h=d.useRef(null),g=()=>{u(),c(!1),window.location.href="/#/login"},p=(v,b)=>{const j=v?v.charAt(0).toUpperCase():"",w=b?b.charAt(0).toUpperCase():"";return j+w||"U"};return d.useEffect(()=>{const v=b=>{b.target.closest(".user-dropdown-menu")||h.current&&!h.current.contains(b.target)&&c(!1)};return l&&document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[l]),s.jsxs("div",{className:"top-navbar-container",children:[s.jsxs("header",{className:"top-navbar-desktop",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("h1",{className:"top-navbar-title",children:e}),s.jsx("h6",{className:"top-navbar-subtitle",children:t})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ld,{}),s.jsxs("div",{className:"relative",ref:h,children:[s.jsxs("button",{onClick:v=>{v.stopPropagation(),c(!l)},className:"flex items-center gap-2 p-1 rounded-lg hover:bg-gray-100 transition-colors",children:[s.jsx("div",{className:"top-navbar-avatar",children:i!=null&&i.profile_image?s.jsx("img",{src:i.profile_image,alt:"Profile",className:"w-full h-full rounded-full object-cover"}):p(i==null?void 0:i.firstName,i==null?void 0:i.lastName)}),s.jsxs("div",{className:"hidden md:flex flex-col items-start",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[i==null?void 0:i.firstName," ",i==null?void 0:i.lastName]}),s.jsx("span",{className:"text-xs text-gray-500",children:i==null?void 0:i.role})]}),s.jsx(Ju,{size:16,className:`text-gray-500 transition-transform ${l?"rotate-180":""}`})]}),l&&s.jsxs("div",{className:"user-dropdown-menu absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",children:[s.jsxs("div",{className:"user-info px-4 py-3 border-b border-gray-200",children:[s.jsxs("p",{className:"user-name",children:[i==null?void 0:i.firstName," ",i==null?void 0:i.lastName]}),s.jsx("p",{className:"user-email",children:i==null?void 0:i.email}),s.jsx("p",{className:"user-phone",children:i==null?void 0:i.phone})]}),s.jsxs("button",{onClick:v=>{v.stopPropagation(),window.location.href="/#/profile",c(!1)},className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[s.jsx(bt,{size:16}),"Profile"]}),s.jsxs("button",{onClick:v=>{v.stopPropagation(),g()},className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[s.jsx(gi,{size:16}),"Logout"]})]})]})]})]}),s.jsxs("header",{className:"top-navbar-mobile",children:[s.jsx("div",{className:"flex flex-col",children:s.jsx("h1",{className:"top-navbar-title text-sm",children:e})}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ld,{size:16}),s.jsxs("div",{className:"relative",ref:h,children:[s.jsxs("button",{onClick:v=>{v.stopPropagation(),c(!l)},className:"flex items-center gap-1 p-1 rounded-lg hover:bg-gray-100 transition-colors",children:[s.jsx("div",{className:"top-navbar-avatar",children:i!=null&&i.profile_image?s.jsx("img",{src:i.profile_image,alt:"Profile",className:"w-full h-full rounded-full object-cover"}):p(i==null?void 0:i.firstName,i==null?void 0:i.lastName)}),s.jsxs("div",{className:"flex flex-col items-start",children:[s.jsxs("span",{className:"text-xs font-medium text-gray-900 leading-tight truncate max-w-[120px]",children:[i==null?void 0:i.firstName," ",i==null?void 0:i.lastName]}),s.jsx("span",{className:"text-[10px] text-gray-500 leading-tight truncate max-w-[120px]",children:i==null?void 0:i.role})]}),s.jsx(Ju,{size:14,className:`text-gray-500 transition-transform ${l?"rotate-180":""}`})]}),l&&s.jsxs("div",{className:"user-dropdown-menu absolute right-0 top-full mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",children:[s.jsxs("div",{className:"user-info px-4 py-3 border-b border-gray-200",children:[s.jsxs("p",{className:"user-name",children:[i==null?void 0:i.firstName," ",i==null?void 0:i.lastName]}),s.jsx("p",{className:"user-email",children:i==null?void 0:i.username})]}),s.jsxs("button",{onClick:v=>{v.stopPropagation(),window.location.href="/#/profile",c(!1)},className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[s.jsx(bt,{size:16}),"Profile"]}),s.jsxs("button",{onClick:v=>{v.stopPropagation(),g()},className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[s.jsx(gi,{size:16}),"Logout"]})]})]})]})]})]})}const wy="/assets/logo-big-DepOQynw.png";function vl({icon:e,label:t,active:r,onClick:n}){return s.jsxs("button",{onClick:n,className:`group w-full flex items-center gap-2 px-4 py-2 text-left transition-all duration-200
         hover:bg-light-primary-bg
         ${r?"bg-light-primary-bg text-primary font-medium":"text-gray-600 hover:text-primary"}`,children:[s.jsx("span",{className:r?"text-primary":"text-gray-500 group-hover:text-primary transition",children:e}),s.jsx("span",{className:r?"text-primary":"group-hover:text-primary transition",children:t})]})}function by({activeItem:e,onNavigate:t}){var l;const{t:r}=Nc(),{user:n}=Ae(),a=c=>{t&&t(c)},o=()=>{localStorage.clear(),sessionStorage.clear(),window.location.href="/"};return s.jsxs("aside",{className:"hidden md:flex w-56 bg-white border-r border-gray-300 flex-col",children:[s.jsxs("div",{className:"h-14 flex items-center gap-2 px-4 border-b border-gray-300",children:[s.jsx("div",{className:"w-9 h-9 rounded-lg overflow-hidden shadow-sm",children:s.jsx("img",{src:wy,alt:"Logo",className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"leading-tight",children:[s.jsx("div",{className:"text-sm font-semibold",children:"Nirmaan Tracker"}),s.jsx("div",{className:"text-[11px] text-gray-400 uppercase tracking-wide",children:"Manage all Projects"})]})]}),s.jsxs("div",{className:"flex-1 overflow-auto text-[13px] pb-4 hover:text-primary",children:[s.jsx(vl,{icon:s.jsx(dx,{size:15}),label:r("Dashboard"),active:e==="dashboard",onClick:()=>a("dashboard")}),((l=n==null?void 0:n.role)==null?void 0:l.toLowerCase())==="admin"&&s.jsx(vl,{icon:s.jsx(bt,{size:15}),label:"Users",active:e==="users-management",onClick:()=>a("users-management")}),s.jsx(vl,{icon:s.jsx(ux,{size:15}),label:r("Tasks"),active:e==="my-tasks",onClick:()=>a("my-tasks")})]}),s.jsx("div",{className:"h-10 border-t border-gray-200 flex items-center justify-between px-4 text-[11px] text-gray-500",children:s.jsxs("button",{onClick:o,className:"flex items-center gap-2 hover:text-red-600 transition-colors cursor-pointer",children:[s.jsx(gi,{size:14,className:"text-gray-500 hover:text-red-600"}),r("LOG OUT")]})})]})}/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ny=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),id=e=>{const t=Ny(e);return t.charAt(0).toUpperCase()+t.slice(1)},gh=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),ky=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Sy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=d.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:o,iconNode:l,...c},i)=>d.createElement("svg",{ref:i,...Sy,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:gh("lucide",a),...!o&&!ky(c)&&{"aria-hidden":"true"},...c},[...l.map(([u,h])=>d.createElement(u,h)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=(e,t)=>{const r=d.forwardRef(({className:n,...a},o)=>d.createElement(Cy,{ref:o,iconNode:t,className:gh(`lucide-${jy(id(e))}`,`lucide-${e}`,n),...a}));return r.displayName=id(e),r};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],_y=ye("boxes",Ey);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Py=ye("chart-column",Ty);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]],Dy=ye("chart-no-axes-column-increasing",Ly);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],xh=ye("clipboard-list",Ay);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],Ry=ye("cloud-upload",zy);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 18v-1",key:"zg0ygc"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"M16 18v-3",key:"j5jt4h"}]],Oy=ye("file-chart-column",Iy);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M9 15h6",key:"cctwl0"}]],Fy=ye("file-minus",My);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=[["path",{d:"m18.226 5.226-2.52-2.52A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-.351",key:"1k2beg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]],$y=ye("file-pen-line",By);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],Wy=ye("file-plus",Uy);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Vy=ye("file-text",Hy);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Qy=ye("folder",qy);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],Yy=ye("indian-rupee",Gy);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],yh=ye("layout-dashboard",Ky);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Xy=ye("log-out",Jy);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],vh=ye("plus",Zy);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],tv=ye("quote",ev);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],nv=ye("rotate-cw",rv);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],av=ye("settings",sv);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],lv=ye("shopping-cart",ov);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],cv=ye("truck",iv);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],dv=ye("undo-2",uv);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],wh=ye("user-check",fv);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],bh=ye("users",mv);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],pv=ye("wallet",hv);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],jh=ye("x",gv),xv=[{key:"dashboard",label:"Dashboard",icon:"LayoutDashboard",path:"dashboard"},{key:"users",label:"Users",icon:"Users",path:"users-management"},{key:"clients",label:"Clients",icon:"UserCheck",path:"clients-management"},{key:"tasks",label:"My Tasks",icon:"ClipboardList",path:"my-tasks"},{key:"projects",label:"Projects",icon:"Folder",path:"projects-management"},{key:"reports",label:"Reports",icon:"BarChart3",path:"reports"},{key:"settings",label:"Settings",icon:"Settings",path:"settings"}],yv=[{key:"inventory",label:"Inventory",icon:"Boxes",path:"inventory"},{key:"reports",label:"Reports",icon:"BarChart3",path:"reports"},{key:"settings",label:"Settings",icon:"Settings",path:"settings"}],cd={items:xv,footerItems:yv},vv={LayoutDashboard:yh,FileText:Vy,Quote:tv,BarChart3:Py,Settings:av,LogOut:Xy,Users:bh,Boxes:_y,ShoppingCart:lv,ClipboardList:xh,FileSignature:$y,CloudUpload:Ry,IndianRupee:Yy,Undo2:dv,FileBarChart2:Oy,Truck:cv,RotateCw:nv,FileMinus:Fy,FilePlus:Wy,Wallet:pv,BarChart:Dy,Plus:vh,X:jh,UserCheck:wh,Folder:Qy},ha=({label:e,icon:t,onClick:r,active:n=!1})=>s.jsxs("button",{type:"button",onClick:r,className:`flex flex-col items-center justify-center px-2 py-3 rounded-lg transition-all duration-200 flex-1 max-w-[90px] ${n?"text-primary":"text-gray-500"} active:scale-95`,children:[s.jsx("div",{className:`p-1.5 rounded-lg ${n?"bg-primary/10":""}`,children:t}),s.jsx("span",{className:`text-[10px] mt-1 font-medium leading-tight text-center ${n?"text-primary":"text-gray-500"}`,children:e})]});function wv({activePage:e,onNavigate:t,onMenuToggle:r}){const[n,a]=d.useState(!1),{user:o}=Ae(),l=(v,b)=>{const j=vv[v];return j?s.jsx(j,{className:`h-6 w-6 ${b||"text-current"}`}):s.jsx("div",{className:"h-6 w-6 bg-gray-200 rounded"})},c=v=>v,i=d.useMemo(()=>(cd.items||[]).filter(v=>!(v.key==="users"&&(o==null?void 0:o.role)!=="Admin")).map(v=>({...v,label:c(v.label),_iconEl:l(v.icon,v.color)})),[o==null?void 0:o.role]),u=d.useMemo(()=>(cd.footerItems||[]).filter(v=>v.key!=="logout").map(v=>({...v,label:c(v.label),_iconEl:l(v.icon,v.color)})),[]),g=[i[0],{key:"leads",label:"Leads",path:"lead-management",_iconEl:l("Users")},i[1],i[3],i[2],i[5],...u.filter(v=>v.key!=="reports"&&v.key!=="settings")],p=v=>{const b=typeof v=="string"?v:(v==null?void 0:v.path)||(v==null?void 0:v.key)||"";a(!1),typeof t=="function"&&t(b)};return s.jsxs(s.Fragment,{children:[n&&s.jsxs("div",{className:"fixed inset-0 z-[1200] bg-white lg:hidden flex flex-col",children:[s.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 border-b",children:[s.jsx("button",{type:"button",onClick:()=>a(!1),className:"p-1 -ml-1 rounded-full hover:bg-gray-100","aria-label":"Close",children:s.jsx(jh,{className:"h-6 w-6"})}),s.jsx("h2",{className:"text-base font-semibold",children:"What are you offering?"})]}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:s.jsx("div",{className:"grid grid-cols-2 divide-x divide-y",children:g.map(v=>s.jsxs("button",{type:"button",onClick:()=>p(v),className:"flex flex-col items-center justify-center gap-2 py-6 px-4 active:bg-gray-50 hover:bg-gray-100",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-gray-50 flex items-center justify-center",children:v._iconEl}),s.jsx("span",{className:"text-[13px] leading-tight text-gray-700 text-center",children:v.label})]},v.key))})})]}),s.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 lg:hidden",children:s.jsx("div",{className:"pb-safe-area-inset-bottom",children:s.jsx("div",{className:"relative bg-white/95 backdrop-blur-lg border-t border-gray-200/50 shadow-[0_-4px_16px_rgba(0,0,0,0.08)] rounded-t-[50px]",children:s.jsxs("div",{className:"flex items-center justify-around px-2 py-1 relative",children:[s.jsx("div",{className:"flex items-center justify-center flex-1",children:s.jsx(ha,{label:"Dashboard",icon:s.jsx(yh,{className:"h-6 w-6"}),onClick:()=>p("dashboard"),active:e==="dashboard"})}),s.jsx("div",{className:"flex items-center justify-center flex-1",children:s.jsx(ha,{label:"Leads",icon:s.jsx(bh,{className:"h-6 w-6"}),onClick:()=>p("lead-management"),active:e==="lead-management"})}),s.jsx("div",{className:"flex items-center justify-center flex-1 relative",children:s.jsx("div",{className:"absolute -top-6 left-1/2 transform -translate-x-1/2",children:s.jsx("button",{type:"button",onClick:()=>a(!0),className:"w-14 h-14 rounded-full bg-gradient-to-br from-primary to-blue-600 flex items-center justify-center text-white shadow-[0_4px_20px_rgba(34,137,255,0.4)] hover:shadow-[0_6px_24px_rgba(34,137,255,0.5)] transition-all duration-200 active:scale-95 border-4 border-white","aria-label":"Open quick menu",children:s.jsx(vh,{className:"h-7 w-7"})})})}),s.jsx("div",{className:"flex items-center justify-center flex-1",children:s.jsx(ha,{label:"Clients",icon:s.jsx(wh,{className:"h-6 w-6"}),onClick:()=>p("clients-management"),active:e==="clients-management"})}),s.jsx("div",{className:"flex items-center justify-center flex-1",children:s.jsx(ha,{label:(o==null?void 0:o.role)==="Admin"?"All Tasks":"My Tasks",icon:s.jsx(xh,{className:"h-6 w-6"}),onClick:()=>p("my-tasks"),active:e==="my-tasks"})})]})})})})]})}const Tc=e=>{if(!e)return null;if(e instanceof Date)return e;let t;if(e.includes("T"))t=new Date(e);else if(/^\d{4}-\d{2}-\d{2}$/.test(e)){const[r,n,a]=e.split("-").map(Number);t=new Date(r,n-1,a)}else if(/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(e)){const[r,n,a]=e.split("/").map(Number);t=new Date(a,n-1,r)}else if(e.includes(" ")){const[r,n]=e.split(" "),[a,o,l]=r.split("-").map(Number);t=new Date(a,o-1,l)}else t=new Date(e);return isNaN(t.getTime())?(console.warn("Invalid date string:",e),null):t},Qs=e=>{if(!e)return"";const t=Tc(e);if(!t)return"";const r=String(t.getDate()).padStart(2,"0"),a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()],o=String(t.getFullYear()).slice(-2);return`${r}-${a}-${o}`},Ni=e=>{if(!e)return"";const t=Tc(e);if(!t)return"";const r=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0");return`${r}-${n}-${a}`},pa=()=>{const e=new Date,t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`},bv=e=>{const t=Tc(e);if(!t)return!1;const r=new Date;r.setHours(0,0,0,0);const n=new Date(t);return n.setHours(0,0,0,0),n<r},Nh=e=>{if(!e||typeof e!="string")return"";const t=e.split("-");if(t.length!==3)return"";const[r,n,a]=t,l=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].indexOf(n);if(l===-1)return"";const c=parseInt(r),i=2e3+parseInt(a);if(isNaN(c)||isNaN(i))return"";const u=new Date(i,l,c);return Ni(u)};function ud(){var u;const{t:e}=Nc(),{user:t}=Ae(),[r,n]=d.useState([]),[a,o]=d.useState(!0),[l,c]=d.useState(null),i=h=>({New:"bg-orange-100 text-orange-700 border border-orange-200",Working:"bg-blue-100 text-blue-700 border border-blue-200",Completed:"bg-green-100 text-green-700 border border-green-200","On Hold":"bg-yellow-100 text-yellow-700 border border-yellow-200",Cancelled:"bg-red-100 text-red-700 border border-red-200"})[h]||"bg-gray-100 text-gray-700 border border-gray-200";return d.useEffect(()=>{(async()=>{var g;if(!(t!=null&&t.id)||!(t!=null&&t.role)){console.log("DASHBOARD DEBUG: Waiting for user data - id:",t==null?void 0:t.id,"role:",t==null?void 0:t.role),o(!1);return}try{o(!0),c(null);const p=((g=t==null?void 0:t.role)==null?void 0:g.toLowerCase())==="admin",v=p?{}:{user_id:t.id};console.log("DASHBOARD DEBUG: User role:",t==null?void 0:t.role,"isAdmin:",p,"params:",v);const b=await se.getTasks(v);console.log("DASHBOARD DEBUG: Fetched tasks:",b),n(b)}catch(p){console.error("Error fetching tasks:",p),c("Failed to load tasks")}finally{o(!1)}})()},[t==null?void 0:t.id,t==null?void 0:t.role]),s.jsx("div",{className:"flex-1 flex flex-col min-w-0",children:s.jsx("div",{className:"flex-1 flex overflow-hidden",children:s.jsx("main",{className:"flex-1 overflow-auto px-4 sm:px-6 py-4 space-y-4 md:pb-4 pb-24",children:s.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-3 sm:gap-4",children:s.jsxs("div",{className:"bg-white rounded-xl border border-gray-400 p-2 sm:p-3 shadow-sm hover:shadow-lg transition-shadow duration-300 h-96 flex flex-col overflow-hidden",children:[l&&s.jsx("div",{className:"mb-2 p-2 bg-red-50 border border-red-200 rounded-lg",children:s.jsx("p",{className:"text-red-700 text-sm",children:l})}),s.jsx("div",{className:"flex items-center justify-between mb-2 flex-shrink-0",children:s.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:((u=t==null?void 0:t.role)==null?void 0:u.toLowerCase())==="admin"?"All Tasks":"My Task"})}),s.jsx("div",{className:"flex-1 overflow-hidden",children:s.jsx("div",{className:"overflow-y-auto max-h-80",children:a?s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"}),s.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"Loading tasks..."})]}):s.jsxs("table",{className:"w-full text-left text-xs sm:text-[13px] table-fixed",children:[s.jsx("thead",{className:"bg-white sticky top-0",children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"py-1.5 px-0.5 font-medium text-gray-700 w-1/3 text-center text-xs sm:text-sm",children:"Task Name"}),s.jsx("th",{className:"py-1.5 px-0.5 font-medium text-gray-700 w-1/3 text-center text-xs sm:text-sm",children:"Due Date"}),s.jsx("th",{className:"py-1.5 px-0.5 font-medium text-gray-700 w-1/3 text-center text-xs sm:text-sm",children:"Status"})]})}),s.jsx("tbody",{className:"text-gray-700",children:r.length>0?r.map((h,g)=>s.jsxs("tr",{className:g<r.length-1?"border-b border-gray-100":"",children:[s.jsx("td",{className:"py-1.5 px-0.5 text-center break-words whitespace-normal leading-tight text-xs",title:h.name,children:h.name}),s.jsx("td",{className:"py-1.5 px-0.5 text-center break-words whitespace-normal leading-tight text-xs",children:Qs(h.dueDate||h.due_date)}),s.jsx("td",{className:"py-1.5 px-0.5 text-center",children:s.jsx("span",{className:`px-0.5 py-0.5 rounded text-xs font-medium inline-block text-center min-w-full ${i(h.status)}`,children:h.status})})]},h.id)):s.jsx("tr",{children:s.jsxs("td",{colSpan:"3",className:"py-8 px-1 text-center text-gray-500",children:[s.jsx("div",{className:"text-sm",children:"No tasks found"}),s.jsx("div",{className:"text-xs mt-1",children:"Tasks from the database will appear here"})]})})})]})})})]})})})})})}function Is(e){return Y({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"},child:[]}]})(e)}function Ln(e){return Y({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}const vt=({icon:e,type:t,title:r,onClick:n,disabled:a=!1})=>s.jsx("button",{onClick:a?void 0:n,title:a?`${r} (Disabled)`:r,className:`table-action-btn ${t} ${a?"disabled":""}`,disabled:a,children:s.jsx(e,{className:"icon"})});function kh(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=kh(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function xr(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=kh(e))&&(n&&(n+=" "),n+=t);return n}const Os=e=>typeof e=="number"&&!isNaN(e),Vr=e=>typeof e=="string",ct=e=>typeof e=="function",Oa=e=>Vr(e)||ct(e)?e:null,ki=e=>d.isValidElement(e)||Vr(e)||ct(e)||Os(e);function jv(e,t,r){r===void 0&&(r=300);const{scrollHeight:n,style:a}=e;requestAnimationFrame(()=>{a.minHeight="initial",a.height=n+"px",a.transition=`all ${r}ms`,requestAnimationFrame(()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(t,r)})})}function Io(e){let{enter:t,exit:r,appendPosition:n=!1,collapse:a=!0,collapseDuration:o=300}=e;return function(l){let{children:c,position:i,preventExitTransition:u,done:h,nodeRef:g,isIn:p,playToast:v}=l;const b=n?`${t}--${i}`:t,j=n?`${r}--${i}`:r,w=d.useRef(0);return d.useLayoutEffect(()=>{const y=g.current,m=b.split(" "),f=x=>{x.target===g.current&&(v(),y.removeEventListener("animationend",f),y.removeEventListener("animationcancel",f),w.current===0&&x.type!=="animationcancel"&&y.classList.remove(...m))};y.classList.add(...m),y.addEventListener("animationend",f),y.addEventListener("animationcancel",f)},[]),d.useEffect(()=>{const y=g.current,m=()=>{y.removeEventListener("animationend",m),a?jv(y,h,o):h()};p||(u?m():(w.current=1,y.className+=` ${j}`,y.addEventListener("animationend",m)))},[p]),J.createElement(J.Fragment,null,c)}}function dd(e,t){return e!=null?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const Ke=new Map;let Ms=[];const Si=new Set,Nv=e=>Si.forEach(t=>t(e)),Sh=()=>Ke.size>0;function Ch(e,t){var r;if(t)return!((r=Ke.get(t))==null||!r.isToastActive(e));let n=!1;return Ke.forEach(a=>{a.isToastActive(e)&&(n=!0)}),n}function Eh(e,t){ki(e)&&(Sh()||Ms.push({content:e,options:t}),Ke.forEach(r=>{r.buildToast(e,t)}))}function fd(e,t){Ke.forEach(r=>{t!=null&&t!=null&&t.containerId?(t==null?void 0:t.containerId)===r.id&&r.toggle(e,t==null?void 0:t.id):r.toggle(e,t==null?void 0:t.id)})}function kv(e){const{subscribe:t,getSnapshot:r,setProps:n}=d.useRef(function(o){const l=o.containerId||1;return{subscribe(c){const i=function(h,g,p){let v=1,b=0,j=[],w=[],y=[],m=g;const f=new Map,x=new Set,N=()=>{y=Array.from(f.values()),x.forEach(S=>S())},C=S=>{w=S==null?[]:w.filter(P=>P!==S),N()},k=S=>{const{toastId:P,onOpen:I,updateId:q,children:V}=S.props,ee=q==null;S.staleId&&f.delete(S.staleId),f.set(P,S),w=[...w,S.props.toastId].filter(Q=>Q!==S.staleId),N(),p(dd(S,ee?"added":"updated")),ee&&ct(I)&&I(d.isValidElement(V)&&V.props)};return{id:h,props:m,observe:S=>(x.add(S),()=>x.delete(S)),toggle:(S,P)=>{f.forEach(I=>{P!=null&&P!==I.props.toastId||ct(I.toggle)&&I.toggle(S)})},removeToast:C,toasts:f,clearQueue:()=>{b-=j.length,j=[]},buildToast:(S,P)=>{if(($=>{let{containerId:Z,toastId:B,updateId:U}=$;const L=Z?Z!==h:h!==1,R=f.has(B)&&U==null;return L||R})(P))return;const{toastId:I,updateId:q,data:V,staleId:ee,delay:Q}=P,oe=()=>{C(I)},X=q==null;X&&b++;const K={...m,style:m.toastStyle,key:v++,...Object.fromEntries(Object.entries(P).filter($=>{let[Z,B]=$;return B!=null})),toastId:I,updateId:q,data:V,closeToast:oe,isIn:!1,className:Oa(P.className||m.toastClassName),bodyClassName:Oa(P.bodyClassName||m.bodyClassName),progressClassName:Oa(P.progressClassName||m.progressClassName),autoClose:!P.isLoading&&(D=P.autoClose,O=m.autoClose,D===!1||Os(D)&&D>0?D:O),deleteToast(){const $=f.get(I),{onClose:Z,children:B}=$.props;ct(Z)&&Z(d.isValidElement(B)&&B.props),p(dd($,"removed")),f.delete(I),b--,b<0&&(b=0),j.length>0?k(j.shift()):N()}};var D,O;K.closeButton=m.closeButton,P.closeButton===!1||ki(P.closeButton)?K.closeButton=P.closeButton:P.closeButton===!0&&(K.closeButton=!ki(m.closeButton)||m.closeButton);let T=S;d.isValidElement(S)&&!Vr(S.type)?T=d.cloneElement(S,{closeToast:oe,toastProps:K,data:V}):ct(S)&&(T=S({closeToast:oe,toastProps:K,data:V}));const W={content:T,props:K,staleId:ee};m.limit&&m.limit>0&&b>m.limit&&X?j.push(W):Os(Q)?setTimeout(()=>{k(W)},Q):k(W)},setProps(S){m=S},setToggle:(S,P)=>{f.get(S).toggle=P},isToastActive:S=>w.some(P=>P===S),getSnapshot:()=>y}}(l,o,Nv);Ke.set(l,i);const u=i.observe(c);return Ms.forEach(h=>Eh(h.content,h.options)),Ms=[],()=>{u(),Ke.delete(l)}},setProps(c){var i;(i=Ke.get(l))==null||i.setProps(c)},getSnapshot(){var c;return(c=Ke.get(l))==null?void 0:c.getSnapshot()}}}(e)).current;n(e);const a=d.useSyncExternalStore(t,r,r);return{getToastToRender:function(o){if(!a)return[];const l=new Map;return e.newestOnTop&&a.reverse(),a.forEach(c=>{const{position:i}=c.props;l.has(i)||l.set(i,[]),l.get(i).push(c)}),Array.from(l,c=>o(c[0],c[1]))},isToastActive:Ch,count:a==null?void 0:a.length}}function Sv(e){const[t,r]=d.useState(!1),[n,a]=d.useState(!1),o=d.useRef(null),l=d.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:c,pauseOnHover:i,closeToast:u,onClick:h,closeOnClick:g}=e;var p,v;function b(){r(!0)}function j(){r(!1)}function w(f){const x=o.current;l.canDrag&&x&&(l.didMove=!0,t&&j(),l.delta=e.draggableDirection==="x"?f.clientX-l.start:f.clientY-l.start,l.start!==f.clientX&&(l.canCloseOnClick=!1),x.style.transform=`translate3d(${e.draggableDirection==="x"?`${l.delta}px, var(--y)`:`0, calc(${l.delta}px + var(--y))`},0)`,x.style.opacity=""+(1-Math.abs(l.delta/l.removalDistance)))}function y(){document.removeEventListener("pointermove",w),document.removeEventListener("pointerup",y);const f=o.current;if(l.canDrag&&l.didMove&&f){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance)return a(!0),e.closeToast(),void e.collapseAll();f.style.transition="transform 0.2s, opacity 0.2s",f.style.removeProperty("transform"),f.style.removeProperty("opacity")}}(v=Ke.get((p={id:e.toastId,containerId:e.containerId,fn:r}).containerId||1))==null||v.setToggle(p.id,p.fn),d.useEffect(()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||j(),window.addEventListener("focus",b),window.addEventListener("blur",j),()=>{window.removeEventListener("focus",b),window.removeEventListener("blur",j)}},[e.pauseOnFocusLoss]);const m={onPointerDown:function(f){if(e.draggable===!0||e.draggable===f.pointerType){l.didMove=!1,document.addEventListener("pointermove",w),document.addEventListener("pointerup",y);const x=o.current;l.canCloseOnClick=!0,l.canDrag=!0,x.style.transition="none",e.draggableDirection==="x"?(l.start=f.clientX,l.removalDistance=x.offsetWidth*(e.draggablePercent/100)):(l.start=f.clientY,l.removalDistance=x.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(f){const{top:x,bottom:N,left:C,right:k}=o.current.getBoundingClientRect();f.nativeEvent.type!=="touchend"&&e.pauseOnHover&&f.clientX>=C&&f.clientX<=k&&f.clientY>=x&&f.clientY<=N?j():b()}};return c&&i&&(m.onMouseEnter=j,e.stacked||(m.onMouseLeave=b)),g&&(m.onClick=f=>{h&&h(f),l.canCloseOnClick&&u()}),{playToast:b,pauseToast:j,isRunning:t,preventExitTransition:n,toastRef:o,eventHandlers:m}}function Cv(e){let{delay:t,isRunning:r,closeToast:n,type:a="default",hide:o,className:l,style:c,controlledProgress:i,progress:u,rtl:h,isIn:g,theme:p}=e;const v=o||i&&u===0,b={...c,animationDuration:`${t}ms`,animationPlayState:r?"running":"paused"};i&&(b.transform=`scaleX(${u})`);const j=xr("Toastify__progress-bar",i?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${p}`,`Toastify__progress-bar--${a}`,{"Toastify__progress-bar--rtl":h}),w=ct(l)?l({rtl:h,type:a,defaultClassName:j}):xr(j,l),y={[i&&u>=1?"onTransitionEnd":"onAnimationEnd"]:i&&u<1?null:()=>{g&&n()}};return J.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":v},J.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${p} Toastify__progress-bar--${a}`}),J.createElement("div",{role:"progressbar","aria-hidden":v?"true":"false","aria-label":"notification timer",className:w,style:b,...y}))}let Ev=1;const _h=()=>""+Ev++;function _v(e){return e&&(Vr(e.toastId)||Os(e.toastId))?e.toastId:_h()}function fs(e,t){return Eh(e,t),t.toastId}function mo(e,t){return{...t,type:t&&t.type||e,toastId:_v(t)}}function ga(e){return(t,r)=>fs(t,mo(e,r))}function ue(e,t){return fs(e,mo("default",t))}ue.loading=(e,t)=>fs(e,mo("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),ue.promise=function(e,t,r){let n,{pending:a,error:o,success:l}=t;a&&(n=Vr(a)?ue.loading(a,r):ue.loading(a.render,{...r,...a}));const c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},i=(h,g,p)=>{if(g==null)return void ue.dismiss(n);const v={type:h,...c,...r,data:p},b=Vr(g)?{render:g}:g;return n?ue.update(n,{...v,...b}):ue(b.render,{...v,...b}),p},u=ct(e)?e():e;return u.then(h=>i("success",l,h)).catch(h=>i("error",o,h)),u},ue.success=ga("success"),ue.info=ga("info"),ue.error=ga("error"),ue.warning=ga("warning"),ue.warn=ue.warning,ue.dark=(e,t)=>fs(e,mo("default",{theme:"dark",...t})),ue.dismiss=function(e){(function(t){var r;if(Sh()){if(t==null||Vr(r=t)||Os(r))Ke.forEach(n=>{n.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){const n=Ke.get(t.containerId);n?n.removeToast(t.id):Ke.forEach(a=>{a.removeToast(t.id)})}}else Ms=Ms.filter(n=>t!=null&&n.options.toastId!==t)})(e)},ue.clearWaitingQueue=function(e){e===void 0&&(e={}),Ke.forEach(t=>{!t.props.limit||e.containerId&&t.id!==e.containerId||t.clearQueue()})},ue.isActive=Ch,ue.update=function(e,t){t===void 0&&(t={});const r=((n,a)=>{var o;let{containerId:l}=a;return(o=Ke.get(l||1))==null?void 0:o.toasts.get(n)})(e,t);if(r){const{props:n,content:a}=r,o={delay:100,...n,...t,toastId:t.toastId||e,updateId:_h()};o.toastId!==e&&(o.staleId=e);const l=o.render||a;delete o.render,fs(l,o)}},ue.done=e=>{ue.update(e,{progress:1})},ue.onChange=function(e){return Si.add(e),()=>{Si.delete(e)}},ue.play=e=>fd(!0,e),ue.pause=e=>fd(!1,e);const Tv=typeof window<"u"?d.useLayoutEffect:d.useEffect,xa=e=>{let{theme:t,type:r,isLoading:n,...a}=e;return J.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${r})`,...a})},wl={info:function(e){return J.createElement(xa,{...e},J.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return J.createElement(xa,{...e},J.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return J.createElement(xa,{...e},J.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return J.createElement(xa,{...e},J.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return J.createElement("div",{className:"Toastify__spinner"})}},Pv=e=>{const{isRunning:t,preventExitTransition:r,toastRef:n,eventHandlers:a,playToast:o}=Sv(e),{closeButton:l,children:c,autoClose:i,onClick:u,type:h,hideProgressBar:g,closeToast:p,transition:v,position:b,className:j,style:w,bodyClassName:y,bodyStyle:m,progressClassName:f,progressStyle:x,updateId:N,role:C,progress:k,rtl:S,toastId:P,deleteToast:I,isIn:q,isLoading:V,closeOnClick:ee,theme:Q}=e,oe=xr("Toastify__toast",`Toastify__toast-theme--${Q}`,`Toastify__toast--${h}`,{"Toastify__toast--rtl":S},{"Toastify__toast--close-on-click":ee}),X=ct(j)?j({rtl:S,position:b,type:h,defaultClassName:oe}):xr(oe,j),K=function(W){let{theme:$,type:Z,isLoading:B,icon:U}=W,L=null;const R={theme:$,type:Z};return U===!1||(ct(U)?L=U({...R,isLoading:B}):d.isValidElement(U)?L=d.cloneElement(U,R):B?L=wl.spinner():(ie=>ie in wl)(Z)&&(L=wl[Z](R))),L}(e),D=!!k||!i,O={closeToast:p,type:h,theme:Q};let T=null;return l===!1||(T=ct(l)?l(O):d.isValidElement(l)?d.cloneElement(l,O):function(W){let{closeToast:$,theme:Z,ariaLabel:B="close"}=W;return J.createElement("button",{className:`Toastify__close-button Toastify__close-button--${Z}`,type:"button",onClick:U=>{U.stopPropagation(),$(U)},"aria-label":B},J.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},J.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(O)),J.createElement(v,{isIn:q,done:I,position:b,preventExitTransition:r,nodeRef:n,playToast:o},J.createElement("div",{id:P,onClick:u,"data-in":q,className:X,...a,style:w,ref:n},J.createElement("div",{...q&&{role:C},className:ct(y)?y({type:h}):xr("Toastify__toast-body",y),style:m},K!=null&&J.createElement("div",{className:xr("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!V})},K),J.createElement("div",null,c)),T,J.createElement(Cv,{...N&&!D?{key:`pb-${N}`}:{},rtl:S,theme:Q,delay:i,isRunning:t,isIn:q,closeToast:p,hide:g,type:h,style:x,className:f,controlledProgress:D,progress:k||0})))},Oo=function(e,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},Lv=Io(Oo("bounce",!0));Io(Oo("slide",!0));Io(Oo("zoom"));Io(Oo("flip"));const Dv={position:"top-right",transition:Lv,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function Av(e){let t={...Dv,...e};const r=e.stacked,[n,a]=d.useState(!0),o=d.useRef(null),{getToastToRender:l,isToastActive:c,count:i}=kv(t),{className:u,style:h,rtl:g,containerId:p}=t;function v(j){const w=xr("Toastify__toast-container",`Toastify__toast-container--${j}`,{"Toastify__toast-container--rtl":g});return ct(u)?u({position:j,rtl:g,defaultClassName:w}):xr(w,Oa(u))}function b(){r&&(a(!0),ue.play())}return Tv(()=>{if(r){var j;const w=o.current.querySelectorAll('[data-in="true"]'),y=12,m=(j=t.position)==null?void 0:j.includes("top");let f=0,x=0;Array.from(w).reverse().forEach((N,C)=>{const k=N;k.classList.add("Toastify__toast--stacked"),C>0&&(k.dataset.collapsed=`${n}`),k.dataset.pos||(k.dataset.pos=m?"top":"bot");const S=f*(n?.2:1)+(n?0:y*C);k.style.setProperty("--y",`${m?S:-1*S}px`),k.style.setProperty("--g",`${y}`),k.style.setProperty("--s",""+(1-(n?x:0))),f+=k.offsetHeight,x+=.025})}},[n,i,r]),J.createElement("div",{ref:o,className:"Toastify",id:p,onMouseEnter:()=>{r&&(a(!1),ue.pause())},onMouseLeave:b},l((j,w)=>{const y=w.length?{...h}:{...h,pointerEvents:"none"};return J.createElement("div",{className:v(j),style:y,key:`container-${j}`},w.map(m=>{let{content:f,props:x}=m;return J.createElement(Pv,{...x,stacked:r,collapseAll:b,isIn:c(x.toastId,x.containerId),style:x.style,key:`toast-${x.key}`},f)}))}))}const ir=({label:e,required:t,type:r="text",value:n,onChange:a,placeholder:o,...l})=>s.jsxs("div",{className:"relative",style:{marginBottom:"var(--form-margin-bottom)"},children:[s.jsx("label",{className:"absolute -top-2 left-3 bg-white px-1 text-gray-500 uppercase tracking-wider",style:{fontFamily:"var(--font-family)",fontSize:"var(--label-font-size)",fontWeight:"var(--label-font-weight)"},children:s.jsxs("span",{children:[e,t&&s.jsx("span",{style:{color:"var(--secondary-color)",fontFamily:"var(--font-family)"},className:"ml-1",children:"*"})]})}),s.jsx("input",{type:r,value:n,onChange:a,placeholder:o,style:{width:"100%",height:"var(--input-height)",padding:"var(--input-padding)",fontSize:"var(--placeholder-font-size)",fontFamily:"var(--font-family)",fontWeight:"normal",border:"1px solid var(--input-border-color)",borderRadius:"var(--input-border-radius)",backgroundColor:"var(--input-bg-color)",color:"var(--input-text-color)",outline:"none",transition:"border-color 0.2s"},onFocus:c=>c.target.style.borderColor="var(--input-focus-border-color)",onBlur:c=>c.target.style.borderColor="var(--input-border-color)",...l})]});function zv({isOpen:e,onClose:t,onSubmit:r,isEdit:n=!1,editLead:a=null}){const[o,l]=d.useState(new Date().toISOString().slice(0,10)),[c,i]=d.useState(""),[u,h]=d.useState(""),[g,p]=d.useState(""),[v,b]=d.useState(""),[j,w]=d.useState(""),[y,m]=d.useState(""),[f,x]=d.useState(""),[N,C]=d.useState(""),[k,S]=d.useState(""),[P,I]=d.useState(""),[q,V]=d.useState(""),[ee,Q]=d.useState(""),[oe,X]=d.useState(""),[K,D]=d.useState(""),[O,T]=d.useState(""),[W,$]=d.useState("");d.useEffect(()=>{n&&a?(h(a.contact_name||""),l(a.date||""),p(a.phone||""),b(a.email||""),w(a.company_name||""),m(a.address||""),i(a.lead_type||""),x(a.source||""),S(a.lead_status||""),V(a.last_contacted_date||""),$(a.lead_assignee||""),T(a.description||"")):(h(""),l(new Date().toISOString().slice(0,10)),p(""),b(""),w(""),m(""),i(""),x(""),S(""),V(""),$(""),T(""))},[n,a]);const Z=async()=>{if(!u||!g){ue.error("Contact Name and Phone are required");return}const U={contact_name:u,date:o,phone:g,email:v,company_name:j,address:y,lead_type:c,source:f,lead_status:k,last_contacted_date:q,lead_assignee:W,description:O};try{const L=n?"PUT":"POST",R=n?`/api/leads/${a.id}`:"/api/leads";(await fetch(R,{method:L,headers:{"Content-Type":"application/json"},body:JSON.stringify(U)})).ok?(ue.success(n?"Lead updated successfully!":"Lead saved successfully!"),t()):ue.error(n?"Failed to update lead":"Failed to save lead")}catch{ue.error(n?"Error updating lead":"Error saving lead")}},B=({label:U,options:L=[],value:R,onChange:ie,placeholder:pe})=>{const[Pe,F]=d.useState(!1),te=d.useRef(null);d.useEffect(()=>{const ne=ht=>{Pe&&te.current&&!te.current.contains(ht.target)&&F(!1)};return document.addEventListener("mousedown",ne),()=>document.removeEventListener("mousedown",ne)},[Pe]);const ce=ne=>{ie(ne),F(!1)};return s.jsxs("div",{ref:te,className:"relative",style:{marginBottom:"var(--form-margin-bottom)"},children:[s.jsx("label",{className:"absolute -top-2 left-3 bg-white px-1 text-gray-500 uppercase tracking-wider",style:{fontFamily:"var(--font-family)",fontSize:"var(--label-font-size)",fontWeight:"var(--label-font-weight)"},children:U}),s.jsxs("div",{onClick:()=>F(!Pe),style:{width:"100%",height:"var(--input-height)",padding:"var(--input-padding)",fontSize:"var(--input-font-size)",fontFamily:"var(--font-family)",border:"1px solid var(--input-border-color)",borderRadius:"var(--input-border-radius)",backgroundColor:"var(--input-bg-color)",color:R?"var(--input-text-color)":"var(--input-placeholder-color)",outline:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",transition:"border-color 0.2s"},onFocus:ne=>ne.target.style.borderColor="var(--input-focus-border-color)",onBlur:ne=>ne.target.style.borderColor="var(--input-border-color)",children:[s.jsx("span",{style:{color:R?"var(--input-text-color)":"var(--input-placeholder-color)",fontSize:"var(--placeholder-font-size)",fontFamily:"var(--font-family)"},children:R||pe}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 text-gray-400 transition-transform ${Pe?"rotate-180":""}`,viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.24a.75.75 0 01-1.06 0L5.21 8.27a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})]}),Pe&&s.jsx("div",{className:"absolute top-full left-0 bg-white border border-gray-200 rounded-lg shadow-lg z-10 max-h-48 overflow-y-auto mt-1 w-full",children:L.map((ne,ht)=>s.jsx("div",{onClick:()=>ce(ne),style:{padding:"8px 12px",fontSize:"var(--input-font-size)",fontFamily:"var(--font-family)",color:ne===R?"var(--input-placeholder-color)":"var(--input-text-color)",cursor:"pointer",backgroundColor:ne===R?"#f3f4f6":"transparent"},onMouseEnter:at=>at.target.style.backgroundColor="#f9fafb",onMouseLeave:at=>at.target.style.backgroundColor=ne===R?"#f3f4f6":"transparent",children:ne},ht))})]})};return e?s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[1100] p-2 sm:p-6 overflow-auto",children:s.jsxs("div",{className:"w-full max-w-5xl bg-white rounded-xl flex flex-col max-h-[75vh] sm:max-h-[90vh] mt-2 mb-2 sm:mt-0 sm:mb-0 lead-modal",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 sticky top-0 bg-white z-10 border-b-2 rounded-t-xl",style:{borderBottomColor:"var(--primary-color)"},children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:t,className:"w-8 h-8 rounded-full flex items-center justify-center text-gray-600 hover:bg-gray-100",children:s.jsx(nr,{size:20})}),s.jsx("h2",{className:"text-lg font-bold",style:{color:"var(--primary-color)",fontFamily:"var(--font-family)"},children:n?"EDIT LEAD":"NEW LEAD"})]}),s.jsx("button",{onClick:Z,className:"text-white px-3 py-2 sm:px-4 sm:py-2 text-sm sm:text-base rounded-xl shadow-md hover:opacity-90",style:{backgroundColor:"var(--primary-color)",fontFamily:"var(--font-family)"},children:"Save"})]}),s.jsx("div",{className:"p-6 flex-1 overflow-y-auto rounded-b-xl",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2",style:{gap:"var(--form-gap)"},children:[s.jsx("div",{className:"md:col-span-1",children:s.jsx(ir,{label:"CONTACT NAME",required:!0,value:u,onChange:U=>h(U.target.value),placeholder:"Enter contact name"})}),s.jsx("div",{className:"md:col-span-1",children:s.jsx(ir,{label:"DATE",type:"date",value:o,onChange:U=>l(U.target.value)})}),s.jsx("div",{className:"md:col-span-1",children:s.jsx(ir,{label:"PHONE NO.",required:!0,value:g,onChange:U=>p(U.target.value),placeholder:"Enter phone number"})}),s.jsx("div",{className:"md:col-span-1",children:s.jsx(ir,{label:"EMAIL",type:"email",value:v,onChange:U=>b(U.target.value),placeholder:"Enter email"})}),s.jsx("div",{className:"md:col-span-1",children:s.jsx(ir,{label:"COMPANY NAME",value:j,onChange:U=>w(U.target.value),placeholder:"Enter company name"})}),s.jsx("div",{className:"md:col-span-1",children:s.jsx(ir,{label:"ADDRESS",value:y,onChange:U=>m(U.target.value),placeholder:"Enter address"})}),s.jsx("div",{className:"md:col-span-1",children:s.jsx(B,{label:"LEAD TYPE",options:["Construction","Interior","Renovation"],value:c,onChange:i,placeholder:"Select lead type"})}),s.jsx("div",{className:"md:col-span-1",children:s.jsx(B,{label:"SOURCE",options:["Manual","Email","Website","Social Media","Whatsapp"],value:f,onChange:x,placeholder:"Select source"})}),s.jsx("div",{className:"md:col-span-1",children:s.jsx(B,{label:"LEAD STATUS",options:["Open - Not Converted","Working - Completed","Close - Convert","Close - Lost"],value:k,onChange:S,placeholder:"Select lead status"})}),s.jsx("div",{className:"md:col-span-1",children:s.jsx(ir,{label:"LAST CONTACTED DATE",value:q,onChange:U=>V(U.target.value),placeholder:"dd/mm/yyyy"})}),s.jsx("div",{className:"md:col-span-1",children:s.jsx(B,{label:"LEAD ASSIGNEE",options:["Rahul Sharma","Priya Patel","Amit Kumar","Sneha Singh","Vikram Gupta","Anjali Verma"],value:W,onChange:$,placeholder:"Select assignee"})}),s.jsx("div",{className:"md:col-span-1",children:s.jsx(ir,{label:"DESCRIPTION",value:O,onChange:U=>T(U.target.value),placeholder:"Enter description"})})]})})]})}):null}const Rv=({selectedLead:e,onClose:t})=>{if(!e)return null;const[r,n]=J.useState("overview"),a=l=>new Date(l).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),o=l=>{switch(l){case"Open - Not Converted":return"bg-green-100 text-green-700 border-green-200";case"Working - Completed":return"bg-blue-100 text-blue-700 border-blue-200";case"Close - Convert":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"Close - Lost":return"bg-red-100 text-red-700 border-red-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}};return s.jsxs("div",{className:"bg-white rounded-xl border border-gray-400 pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-0 px-4 sm:px-2 pt-2 pb-2 border-b border-gray-200",children:[s.jsx("div",{className:"flex items-center gap-6",children:s.jsxs("nav",{className:"flex bg-gray-100 rounded-lg p-1",children:[s.jsx("button",{className:`px-4 py-2 text-sm font-medium rounded-md transition-all duration-200 ${r==="overview"?"bg-white text-blue-700 shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-white/50"}`,onClick:()=>n("overview"),children:"Overview"}),s.jsx("button",{className:`px-4 py-2 text-sm font-medium rounded-md transition-all duration-200 ${r==="tasks"?"bg-white text-blue-700 shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-white/50"}`,onClick:()=>n("tasks"),children:"Tasks"})]})}),s.jsx("div",{className:"flex items-center justify-end gap-2 w-full sm:w-auto py-0",children:s.jsxs("button",{onClick:t,className:"flex items-center gap-1 pl-2 pr-2 pt-1.5 pb-1.5 text-white text-sm font-medium rounded-lg hover:opacity-90 focus:outline-none focus:ring-1 focus:ring-gray-400 active:shadow-md transition-all shadow-sm whitespace-nowrap",style:{backgroundColor:"var(--primary-color)",minWidth:"fit-content"},children:[s.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back"]})})]}),r==="overview"&&s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),s.jsx("span",{className:`inline-flex px-3 py-1 text-xs font-medium rounded-full mt-2 ${o(e.status)}`,children:e.status})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-gray-50 rounded-lg py-2 px-4 border border-gray-200",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wide font-medium",children:"CONTACT NAME*"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.name})]})}),s.jsx("div",{className:"bg-gray-50 rounded-lg py-2 px-4 border border-gray-200",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wide font-medium",children:"DATE"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:a(e.date)})]})}),s.jsx("div",{className:"bg-gray-50 rounded-lg py-2 px-4 border border-gray-200",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wide font-medium",children:"EMAIL"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.email})]})}),s.jsx("div",{className:"bg-gray-50 rounded-lg py-2 px-4 border border-gray-200",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wide font-medium",children:"PHONE NO.*"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.phone})]})}),s.jsx("div",{className:"bg-gray-50 rounded-lg py-2 px-4 border border-gray-200",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wide font-medium",children:"COMPANY NAME"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.company||"N/A"})]})}),s.jsx("div",{className:"bg-gray-50 rounded-lg py-2 px-4 border border-gray-200",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wide font-medium",children:"ADDRESS"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.address||"N/A"})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-gray-50 rounded-lg py-2 px-4 border border-gray-200",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wide font-medium",children:"LEAD TYPE"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.leadType||"N/A"})]})}),s.jsx("div",{className:"bg-gray-50 rounded-lg py-2 px-4 border border-gray-200",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wide font-medium",children:"SOURCE"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.source||"N/A"})]})}),s.jsx("div",{className:"bg-gray-50 rounded-lg py-2 px-4 border border-gray-200",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wide font-medium",children:"LEAD STATUS"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.leadStatus||"N/A"})]})}),s.jsx("div",{className:"bg-gray-50 rounded-lg py-2 px-4 border border-gray-200",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wide font-medium",children:"LAST CONTACTED DATE"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.lastContactedDate?a(e.lastContactedDate):"N/A"})]})}),s.jsx("div",{className:"bg-gray-50 rounded-lg py-2 px-4 border border-gray-200",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wide font-medium",children:"LEAD ASSIGNEE"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.leadAssignee||"N/A"})]})}),s.jsx("div",{className:"bg-gray-50 rounded-lg py-2 px-4 border border-gray-200",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wide font-medium mr-4",children:"DESCRIPTION"}),s.jsx("span",{className:"text-sm text-gray-900 flex-1",children:e.description||"N/A"})]})})]})]})]}),r==="tasks"&&s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Tasks for ",e.name]}),s.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(fx,{className:"w-4 h-4"}),"Add Task"]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx(As,{className:"w-4 h-4 text-green-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:"Send proposal"}),s.jsx("div",{className:"text-xs text-gray-500",children:"Due: Jan 20, 2025"})]})]}),s.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full",children:"Completed"})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx(Ym,{className:"w-4 h-4 text-yellow-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:"Follow up call"}),s.jsx("div",{className:"text-xs text-gray-500",children:"Due: Jan 18, 2025"})]})]}),s.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-700 px-2 py-1 rounded-full",children:"In Progress"})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx(en,{className:"w-4 h-4 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:"Send product brochure"}),s.jsx("div",{className:"text-xs text-gray-500",children:"Due: Jan 22, 2025"})]})]}),s.jsx("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded-full",children:"Pending"})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx($t,{className:"w-4 h-4 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:"Schedule meeting"}),s.jsx("div",{className:"text-xs text-gray-500",children:"Due: Jan 25, 2025"})]})]}),s.jsx("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded-full",children:"Pending"})]})]})]})]})};function Mo({data:e,columns:t,loading:r,emptyMessage:n="No data found",emptyDescription:a="Get started by adding a new item.",onEdit:o,onDelete:l,renderCell:c,renderMobileCard:i,formatDate:u,loadingMessage:h="Loading data...",keyField:g="id",user:p}){return s.jsx("div",{className:"bg-white ",children:s.jsx("div",{className:"hidden sm:block overflow-x-auto",children:r?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto"}),s.jsx("p",{className:"mt-2 text-sm text-gray-500",children:h})]}):e.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"mx-auto h-12 w-12 text-gray-400 mb-4",children:s.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:n}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:a})]}):s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{style:{backgroundColor:"var(--light-primary-bg)",boxShadow:"0 2px 6px rgba(255, 255, 0, 0.7)"},className:"shadow-md",children:s.jsx("tr",{children:t.map((v,b)=>s.jsx("th",{style:{color:"#181D27",fontSize:"13px",lineHeight:"20px",fontWeight:"600",padding:"8px 24px",textAlign:v.align||"left",width:v.width||"auto",borderRight:b<t.length-1?"1px solid #e5e7eb":"none"},className:"whitespace-nowrap",children:v.title},`header-${v.key}-${b}`))})}),s.jsx("tbody",{className:"bg-white ",children:e.map(v=>s.jsx("tr",{className:"hover:bg-gray-50 hover:shadow-md transition-all duration-200 border-b border-gray-200",children:t.map((b,j)=>{var w;return s.jsx("td",{style:{color:"#6B7280",fontSize:"13px",lineHeight:"20px",fontWeight:"400",padding:"8px 24px",textAlign:b.align||"left"},className:"whitespace-nowrap",children:b.key==="actions"?s.jsxs("div",{className:"flex justify-center gap-1 sm:gap-2",children:[s.jsx(vt,{icon:Is,type:"edit",title:"Edit",onClick:()=>o==null?void 0:o(v[g]),disabled:v.status==="Completed",mobileSize:!1,extraSmall:!0}),((w=p==null?void 0:p.role)==null?void 0:w.toLowerCase())==="admin"&&s.jsx(vt,{icon:Ln,type:"delete",title:"Delete",onClick:()=>l==null?void 0:l(v[g]),mobileSize:!1,extraSmall:!0})]}):c?c(b.key,v):s.jsx("span",{className:"truncate max-w-[200px]",children:v[b.key]})},`cell-${v[g]}-${b.key}`)})},v[g]))})]})})})}function Iv({searchTerm:e=""}){const[t,r]=d.useState([]),[n,a]=d.useState("All"),[o,l]=d.useState(!1),[c,i]=d.useState(!1),[u,h]=d.useState(!1),[g,p]=d.useState(!1),[v,b]=d.useState(0),[j,w]=d.useState(!1),[y,m]=d.useState(""),[f,x]=d.useState(null),[N,C]=d.useState(!1),[k,S]=d.useState(null),P=d.useRef(null),I=async()=>{try{const T=await se.getLeads();console.log("Fetched leads:",T);const W=T.map($=>({id:$.id,name:$.contact_name,email:$.email||"",phone:$.phone,status:$.lead_status||"New Lead",value:"",date:$.date,company:$.company_name||"",address:$.address||"",leadType:$.lead_type||"",source:$.source||"",leadStatus:$.lead_status||"",lastContactedDate:$.last_contacted_date||"",leadAssignee:$.lead_assignee||"",description:$.description||""}));console.log("Mapped data:",W),r(W)}catch(T){console.error("Error fetching leads:",T)}};d.useEffect(()=>{I()},[]),d.useEffect(()=>{const T=W=>{P.current&&!P.current.contains(W.target)&&l(!1)};return o&&document.addEventListener("mousedown",T),()=>{document.removeEventListener("mousedown",T)}},[o]);const q=t.filter(T=>{const W=e===""||T.name.toLowerCase().includes(e.toLowerCase())||T.email.toLowerCase().includes(e.toLowerCase())||T.phone.includes(e),$=n==="All"||T.status===n;return W&&$}),V=T=>{const W=t.find($=>$.id===T);W&&(S(W),C(!0),i(!0))},ee=async T=>{if(window.confirm("Are you sure you want to delete this lead?"))try{await se.deleteLead(T),I()}catch{alert("Error deleting lead")}},Q=()=>{C(!1),S(null),I()},oe=T=>{switch(T){case"Open - Not Converted":return"bg-green-100 text-green-700 border-green-200";case"Working - Completed":return"bg-blue-100 text-blue-700 border-blue-200";case"Close - Convert":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"Close - Lost":return"bg-red-100 text-red-700 border-red-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},X=T=>new Date(T).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),K=T=>{m(T),w(!0),setTimeout(()=>w(!1),4e3)},D=[{key:"name",title:"Name"},{key:"email",title:"Email"},{key:"phone",title:"Phone"},{key:"status",title:"Status"},{key:"date",title:"Date"},{key:"actions",title:"Actions",align:"center"}],O=(T,W)=>{switch(T){case"name":return s.jsx("div",{className:"cursor-pointer hover:text-blue-600 transition-colors",onClick:()=>x(W),children:W.name});case"status":return s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-normal rounded-full ${oe(W.status)}`,children:W.status});case"date":return X(W.date);default:return W[T]}};return s.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[s.jsx("div",{className:"flex-1 flex overflow-hidden",children:s.jsx("main",{className:"flex-1 overflow-auto px-4 sm:px-6 py-4 space-y-4 md:pb-4 pb-24 ",children:f?s.jsx(Rv,{selectedLead:f,onClose:()=>x(null)}):s.jsxs("div",{className:"bg-white rounded-xl border border-gray-400 pb-4 sm:h-[calc(100vh-90px)]",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-0 px-4 sm:px-2 pt-2 pb-2 border-b border-gray-200",children:[s.jsx("div",{className:"hidden sm:flex items-center gap-3 mb-3 sm:mb-0"}),s.jsxs("div",{className:"flex items-center justify-end gap-2 w-full sm:w-auto py-0",children:[s.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-0 text-gray-600 hover:text-gray-800 border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-1 focus:ring-blue-500 active:shadow-md transition-all shadow-sm",style:{height:"30px"},title:"Upload Excel File",children:[s.jsx("div",{className:"flex items-center justify-center w-7 h-full bg-gray-100 rounded-l-lg border-r border-gray-300",children:s.jsx(ml,{size:14})}),s.jsx("span",{style:{fontWeight:"400",fontSize:"12px",lineHeight:"18px",padding:"0 8px"},children:"Upload"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>l(!o),className:"flex items-center gap-0 text-gray-600 hover:text-gray-800 border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-1 focus:ring-blue-500 active:shadow-md transition-all shadow-sm",style:{height:"30px"},title:"Filter by status",children:[s.jsx("div",{className:"flex items-center justify-center w-7 h-full bg-gray-100 rounded-l-lg border-r border-gray-300",children:s.jsx(Tn,{size:14})}),s.jsx("span",{style:{fontWeight:"400",fontSize:"12px",lineHeight:"18px",padding:"0 8px"},children:n==="All"?"All Status":n==="Open - Not Converted"?"Open - Not Converted":n==="Working - Completed"?"Working - Completed":n==="Close - Convert"?"Close - Convert":n==="Close - Lost"?"Close - Lost":"All Status"})]}),o&&s.jsx("div",{ref:P,className:"absolute top-full mt-2 left-1/2 transform -translate-x-1/2 z-50 bg-white border border-gray-200 rounded-lg shadow-lg w-40 py-1",children:[{value:"All",label:"All Status"},{value:"Open - Not Converted",label:"Open - Not Converted"},{value:"Working - Completed",label:"Working - Completed"},{value:"Close - Convert",label:"Close - Convert"},{value:"Close - Lost",label:"Close - Lost"}].map(T=>s.jsxs("button",{onClick:()=>{a(T.value),l(!1)},className:`w-full flex items-center justify-between px-3 py-1.5 text-left text-xs hover:bg-gray-50 transition-colors ${n===T.value?"text-blue-600 font-medium":"text-gray-700"}`,children:[s.jsx("span",{children:T.label}),n===T.value&&s.jsx(lt,{className:"text-blue-600",size:14})]},T.value))})]}),s.jsxs("button",{onClick:()=>{C(!1),S(null),i(!0)},className:"flex items-center gap-1 pl-2 pr-2 pt-1.5 pb-1.5 text-white text-sm font-medium rounded-lg hover:opacity-90 focus:outline-none focus:ring-1 focus:ring-gray-400 active:shadow-md transition-all shadow-sm whitespace-nowrap",style:{backgroundColor:"var(--primary-color)",minWidth:"fit-content"},children:[s.jsx(Pn,{size:17,color:"#ffffff"}),s.jsx("span",{style:{fontWeight:"400",fontSize:"12px",lineHeight:"18px"},children:"New"})]})]})]}),s.jsx("div",{className:"block sm:hidden mt-4",children:q.length===0?s.jsxs("div",{className:"text-center py-12 px-4",children:[s.jsx(Ao,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No leads found"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by adding a new lead."})]}):s.jsx("div",{className:"space-y-2 px-2",children:q.map(T=>s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-3 shadow-sm hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsxs("div",{className:"flex-1 min-w-0 flex items-center gap-3",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900 truncate",children:T.name}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full border ${oe(T.status)}`,children:T.status})]}),s.jsxs("div",{className:"flex gap-2 ml-3",children:[s.jsx(vt,{icon:Is,type:"edit",title:"Edit",onClick:()=>V(T.id),mobileSize:!0}),s.jsx(vt,{icon:Ln,type:"delete",title:"Delete",onClick:()=>ee(T.id),mobileSize:!0})]})]}),s.jsxs("div",{className:"flex justify-between items-center mb-2 text-xs text-gray-600",children:[s.jsx("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:s.jsx("span",{className:"font-medium text-gray-900",children:T.company})}),s.jsxs("div",{className:"flex items-center gap-2 ml-3",children:[s.jsx(en,{size:12,className:"text-blue-500 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:T.email})]})]}),s.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qs,{size:12,className:"text-green-500 flex-shrink-0"}),s.jsx("span",{children:T.phone})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($t,{size:12,className:"text-gray-500 flex-shrink-0"}),s.jsx("span",{children:X(T.date)})]})]})]},T.id))})}),s.jsx(Mo,{data:q,columns:D,loading:!1,emptyMessage:"No leads found",emptyDescription:"Get started by adding a new lead.",onEdit:V,onDelete:ee,renderCell:O,loadingMessage:"Loading leads...",keyField:"id"})]})})}),s.jsxs(s.Fragment,{children:[s.jsx(zv,{isOpen:c,onClose:()=>i(!1),onSubmit:Q,isEdit:N,editLead:k}),u&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[1000]",children:s.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full mx-4 shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Upload Excel File"}),s.jsx("button",{onClick:()=>{h(!1),p(!1),b(0)},className:"text-gray-400 hover:text-gray-600",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),g?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-4",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),s.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Uploading Excel File"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Please wait while we process your file..."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[s.jsx("span",{children:"Progress"}),s.jsxs("span",{children:[v,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${v}%`}})})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-blue-400 transition-colors",children:[s.jsx(ml,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Select Excel file to upload"}),s.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Only .xlsx and .xls files are supported"}),s.jsxs("label",{className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 cursor-pointer transition-colors",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ml,{className:"w-4 h-4 mr-2"}),s.jsx("span",{children:"Choose File"})]}),s.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:T=>{if(T.target.files[0]){p(!0),b(0);const $=setInterval(()=>{b(Z=>Z>=100?(clearInterval($),setTimeout(()=>{p(!1),h(!1),b(0),K("Excel file uploaded successfully!")},500),100):Z+10)},200)}},className:"hidden"})]})]}),s.jsx("div",{className:"flex justify-end gap-3",children:s.jsx("button",{onClick:()=>{h(!1),p(!1),b(0)},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"})})]})]})}),j&&s.jsx("div",{className:"fixed top-4 right-4 z-[1001] animate-in slide-in-from-top-2 duration-300",children:s.jsxs("div",{className:"bg-green-500 text-white px-6 py-4 rounded-lg shadow-lg flex items-center gap-3 min-w-[300px]",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),s.jsx("div",{className:"flex-1",children:s.jsx("p",{className:"text-sm font-medium",children:y})}),s.jsx("button",{onClick:()=>w(!1),className:"flex-shrink-0 text-green-200 hover:text-white transition-colors",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})]})]})}const Gn=({label:e,required:t,type:r="text",value:n,onChange:a,placeholder:o,...l})=>s.jsxs("div",{className:"relative",style:{marginBottom:"var(--form-margin-bottom)"},children:[s.jsxs("label",{className:"absolute -top-2 left-3 bg-white px-1 text-gray-500 uppercase tracking-wider",style:{fontFamily:"var(--font-family)",fontSize:"var(--label-font-size)",fontWeight:"var(--label-font-weight)"},children:[e,t&&s.jsx("span",{style:{color:"var(--secondary-color)",fontFamily:"var(--font-family)"},className:"ml-1",children:"*"})]}),s.jsx("input",{type:r,value:n,onChange:a,placeholder:o,style:{width:"100%",height:"var(--input-height)",padding:"var(--input-padding)",fontSize:"var(--input-font-size)",fontFamily:"var(--font-family)",border:"1px solid var(--input-border-color)",borderRadius:"var(--input-border-radius)",backgroundColor:"var(--input-bg-color)",color:"var(--input-text-color)",outline:"none",transition:"border-color 0.2s"},onFocus:c=>c.target.style.borderColor="var(--input-focus-border-color)",onBlur:c=>c.target.style.borderColor="var(--input-border-color)",...l})]}),Ov=({label:e,options:t=[],value:r,onChange:n,placeholder:a})=>{const[o,l]=d.useState(!1),c=J.useRef(null);J.useEffect(()=>{const u=h=>{o&&c.current&&!c.current.contains(h.target)&&l(!1)};return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[o]);const i=u=>{n(u),l(!1)};return s.jsxs("div",{ref:c,className:"relative",style:{marginBottom:"var(--form-margin-bottom)"},children:[s.jsx("label",{className:"absolute -top-2 left-3 bg-white px-1 text-gray-500 uppercase tracking-wider",style:{fontFamily:"var(--font-family)",fontSize:"var(--label-font-size)",fontWeight:"var(--label-font-weight)"},children:e}),s.jsxs("div",{onClick:()=>l(!o),style:{width:"100%",height:"var(--input-height)",padding:"var(--input-padding)",fontSize:"var(--input-font-size)",fontFamily:"var(--font-family)",border:"1px solid var(--input-border-color)",borderRadius:"var(--input-border-radius)",backgroundColor:"var(--input-bg-color)",color:r?"var(--input-text-color)":"var(--input-placeholder-color)",outline:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",transition:"border-color 0.2s"},onFocus:u=>u.target.style.borderColor="var(--input-focus-border-color)",onBlur:u=>u.target.style.borderColor="var(--input-border-color)",children:[s.jsx("span",{style:{color:r?"var(--input-text-color)":"var(--input-placeholder-color)",fontSize:"var(--placeholder-font-size)",fontFamily:"var(--font-family)"},children:r||a}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 text-gray-400 transition-transform ${o?"rotate-180":""}`,viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.24a.75.75 0 01-1.06 0L5.21 8.27a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})]}),o&&s.jsx("div",{className:"absolute top-full left-0 bg-white border border-gray-200 rounded-lg shadow-lg z-10 max-h-48 overflow-y-auto mt-1 w-full",children:t.map((u,h)=>s.jsx("div",{onClick:()=>i(u),style:{padding:"8px 12px",fontSize:"var(--input-font-size)",fontFamily:"var(--font-family)",color:u===r?"var(--input-placeholder-color)":"var(--input-text-color)",cursor:"pointer",backgroundColor:u===r?"#f3f4f6":"transparent"},onMouseEnter:g=>g.target.style.backgroundColor="#f9fafb",onMouseLeave:g=>g.target.style.backgroundColor=u===r?"#f3f4f6":"transparent",children:u},h))})]})};function Mv({isOpen:e,onClose:t,onSubmit:r}){const[n,a]=d.useState(""),[o,l]=d.useState(""),[c,i]=d.useState(""),[u,h]=d.useState(""),[g,p]=d.useState(""),[v,b]=d.useState(new Date().toISOString().slice(0,10)),j=()=>{const w={id:Date.now(),name:n||"Unnamed Client",email:o||"",phone:c||"",status:g,company:u||"",date:v};typeof r=="function"&&r(w),a(""),l(""),i(""),h(""),p(""),b(new Date().toISOString().slice(0,10)),t()};return e?s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[1100] p-6 overflow-auto",children:s.jsxs("div",{className:"w-full max-w-5xl bg-white rounded-xl flex flex-col max-h-[90vh] client-modal",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 sticky top-0 bg-white z-10 border-b-2 rounded-t-xl",style:{borderBottomColor:"var(--primary-color)"},children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:t,className:"w-8 h-8 rounded-full flex items-center justify-center text-gray-600 hover:bg-gray-100",children:s.jsx(nr,{size:20})}),s.jsx("h2",{className:"text-lg font-bold",style:{color:"var(--primary-color)",fontFamily:"var(--font-family)"},children:"CREATE CLIENT"})]}),s.jsx("button",{onClick:j,className:"text-white px-4 py-2 rounded-xl shadow-md hover:opacity-90",style:{backgroundColor:"var(--primary-color)",fontFamily:"var(--font-family)"},children:"Save"})]}),s.jsx("div",{className:"p-6 flex-1 overflow-y-auto rounded-b-xl",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2",style:{gap:"var(--form-gap)"},children:[s.jsx("div",{className:"md:col-span-2",children:s.jsx(Gn,{label:"CLIENT NAME",required:!0,value:n,onChange:w=>a(w.target.value),placeholder:"Enter client name"})}),s.jsx("div",{className:"md:col-span-1",children:s.jsx(Gn,{label:"COMPANY",value:u,onChange:w=>h(w.target.value),placeholder:"Enter company name"})}),s.jsx("div",{className:"md:col-span-1",children:s.jsx(Gn,{label:"DATE",type:"date",value:v,onChange:w=>b(w.target.value)})}),s.jsx("div",{className:"md:col-span-1",children:s.jsx(Ov,{label:"STATUS",options:["Active","Inactive"],value:g,onChange:p,placeholder:"Select status"})}),s.jsx("div",{className:"md:col-span-1",children:s.jsx(Gn,{label:"EMAIL",type:"email",value:o,onChange:w=>l(w.target.value),placeholder:"Enter email address"})}),s.jsx("div",{className:"md:col-span-1",children:s.jsx(Gn,{label:"PHONE NO.",value:c,onChange:w=>i(w.target.value),placeholder:"Enter 10-digit phone number",maxLength:10})})]})})]})}):null}function Fv({searchTerm:e=""}){const[t,r]=d.useState([]),[n,a]=d.useState("All"),[o,l]=d.useState(!1),[c,i]=d.useState(!1),u=J.useRef(null);J.useEffect(()=>{const f=x=>{u.current&&!u.current.contains(x.target)&&l(!1)};return o&&document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}},[o]);const h=t.filter(f=>{const x=e===""||f.name.toLowerCase().includes(e.toLowerCase())||f.email.toLowerCase().includes(e.toLowerCase())||f.phone.includes(e)||f.company.toLowerCase().includes(e.toLowerCase()),N=n==="All"||f.status===n;return x&&N}),g=f=>{r(t.filter(x=>x.id!==f))},p=f=>{console.log("Edit client",f)},v=f=>{g(f)},b=f=>{r([...t,f])},j=f=>{switch(f){case"Active":return"bg-green-100 text-green-700 border-green-200";case"Inactive":return"bg-gray-100 text-gray-700 border-gray-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},w=f=>new Date(f).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),y=[{key:"name",title:"Name",width:"20%"},{key:"company",title:"Company",width:"25%"},{key:"email",title:"Email",width:"25%"},{key:"phone",title:"Phone",width:"15%"},{key:"status",title:"Status",width:"10%"},{key:"date",title:"Date Added",width:"15%"},{key:"actions",title:"Actions",align:"center",width:"0%"}],m=(f,x)=>{switch(f){case"status":return s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-normal rounded-full ${j(x.status)}`,children:x.status});case"date":return w(x.date);case"actions":return s.jsxs("div",{className:"flex justify-center gap-1 sm:gap-2",children:[s.jsx(vt,{icon:Is,type:"edit",title:"Edit",onClick:()=>p(x.id),mobileSize:!1,extraSmall:!0}),s.jsx(vt,{icon:Ln,type:"delete",title:"Delete",onClick:()=>v(x.id),mobileSize:!1,extraSmall:!0})]});default:return x[f]}};return s.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[s.jsx("div",{className:"flex-1 flex overflow-hidden",children:s.jsx("main",{className:"flex-1 overflow-auto px-4 sm:px-6 py-4 space-y-4 md:pb-4 pb-24 ",children:s.jsxs("div",{className:"bg-white rounded-xl border border-gray-400 pb-4 sm:h-[calc(100vh-90px)]",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-0 px-4 sm:px-2 pt-2 pb-2 border-b border-gray-200",children:[s.jsx("div",{className:"hidden sm:flex items-center gap-3 mb-3 sm:mb-0"}),s.jsxs("div",{className:"flex items-center justify-end gap-2 w-full sm:w-auto py-0",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>l(!o),className:"flex items-center gap-0 text-gray-600 hover:text-gray-800 border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-1 focus:ring-blue-500 active:shadow-md transition-all shadow-sm",style:{height:"30px"},title:"Filter by status",children:[s.jsx("div",{className:"flex items-center justify-center w-7 h-full bg-gray-100 rounded-l-lg border-r border-gray-300",children:s.jsx(Tn,{size:14})}),s.jsx("span",{style:{fontWeight:"400",fontSize:"12px",lineHeight:"18px",padding:"0 8px"},children:n==="All"?"All Status":n==="Active"?"Active":n==="Inactive"?"Inactive":"All Status"})]}),o&&s.jsx("div",{ref:u,className:"absolute top-full mt-2 left-1/2 transform -translate-x-1/2 z-50 bg-white border border-gray-200 rounded-lg shadow-lg w-32 py-1",children:[{value:"All",label:"All Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}].map(f=>s.jsxs("button",{onClick:()=>{a(f.value),l(!1)},className:`w-full flex items-center justify-between px-3 py-1.5 text-left text-sm hover:bg-gray-50 transition-colors ${n===f.value?"text-blue-600 font-medium":"text-gray-700"}`,children:[s.jsx("span",{children:f.label}),n===f.value&&s.jsx(lt,{className:"text-blue-600",size:14})]},f.value))})]}),s.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-1 pl-2 pr-2 pt-1.5 pb-1.5 text-white text-sm font-medium rounded-lg hover:opacity-90 focus:outline-none focus:ring-1 focus:ring-gray-400 active:shadow-md transition-all shadow-sm",style:{backgroundColor:"var(--primary-color)"},children:[s.jsx(Pn,{size:17,color:"#ffffff"}),s.jsx("span",{style:{fontWeight:"400",fontSize:"12px",lineHeight:"18px"},children:"New"})]})]})]}),s.jsx("div",{className:"block sm:hidden mt-4",children:h.length===0?s.jsxs("div",{className:"text-center py-12 px-4",children:[s.jsx(Ao,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No clients found"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by adding a new client."})]}):s.jsx("div",{className:"space-y-2 px-2",children:h.map(f=>s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-3 shadow-sm hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsxs("div",{className:"flex-1 min-w-0 flex items-center gap-3",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900 truncate",children:f.name}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full border ${j(f.status)}`,children:f.status})]}),s.jsxs("div",{className:"flex gap-2 ml-3",children:[s.jsx(vt,{icon:Is,type:"edit",title:"Edit",onClick:()=>p(f.id),mobileSize:!0}),s.jsx(vt,{icon:Ln,type:"delete",title:"Delete",onClick:()=>v(f.id),mobileSize:!0})]})]}),s.jsxs("div",{className:"flex justify-between items-center mb-2 text-xs text-gray-600",children:[s.jsx("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:s.jsx("span",{className:"font-medium text-gray-900",children:f.company})}),s.jsxs("div",{className:"flex items-center gap-2 ml-3",children:[s.jsx(en,{size:12,className:"text-blue-500 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:f.email})]})]}),s.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qs,{size:12,className:"text-green-500 flex-shrink-0"}),s.jsx("span",{children:f.phone})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($t,{size:12,className:"text-gray-500 flex-shrink-0"}),s.jsx("span",{children:w(f.date)})]})]})]},f.id))})}),s.jsx(Mo,{data:h,columns:y,loading:!1,emptyMessage:"No clients found",emptyDescription:"Get started by adding a new client.",onEdit:p,onDelete:v,renderCell:m,formatDate:w,keyField:"id"})]})})}),s.jsx(Mv,{isOpen:c,onClose:()=>i(!1),onSubmit:b})]})}const ya=({label:e,required:t,type:r="text",value:n,onChange:a,placeholder:o,error:l,...c})=>s.jsxs("div",{className:"relative",style:{marginBottom:"var(--form-margin-bottom)"},children:[s.jsx("label",{className:"absolute -top-2 left-3 bg-white px-1 text-gray-500 uppercase tracking-wider",style:{fontFamily:"var(--font-family)",fontSize:"var(--label-font-size)",fontWeight:"var(--label-font-weight)"},children:s.jsxs("span",{children:[e,t&&s.jsx("span",{style:{color:"var(--secondary-color)",fontFamily:"var(--font-family)"},className:"ml-1",children:"*"})]})}),s.jsx("input",{type:r,value:n,onChange:a,placeholder:o,style:{width:"100%",height:"var(--input-height)",padding:"var(--input-padding)",paddingTop:"16px",fontSize:"var(--placeholder-font-size)",fontFamily:"var(--font-family)",fontWeight:"normal",border:`1px solid ${l?"var(--secondary-color)":"var(--input-border-color)"}`,borderRadius:"var(--input-border-radius)",backgroundColor:"var(--input-bg-color)",color:"var(--input-text-color)",outline:"none",transition:"border-color 0.2s"},onFocus:i=>i.target.style.borderColor=l?"var(--secondary-color)":"var(--input-focus-border-color)",onBlur:i=>i.target.style.borderColor=l?"var(--secondary-color)":"var(--input-border-color)",...c}),l&&s.jsx("p",{style:{color:"var(--secondary-color)",fontFamily:"var(--font-family)",fontSize:"var(--error-font-size)",marginTop:"4px"},children:l})]}),Bv=({label:e,required:t,value:r,onChange:n,placeholder:a,...o})=>s.jsxs("div",{className:"relative",style:{marginBottom:"var(--form-margin-bottom)"},children:[s.jsx("label",{className:"absolute -top-2 left-3 bg-white px-1 text-gray-500 uppercase tracking-wider",style:{fontFamily:"var(--font-family)",fontSize:"var(--label-font-size)",fontWeight:"var(--label-font-weight)"},children:s.jsxs("span",{children:[e,t&&s.jsx("span",{style:{color:"var(--secondary-color)",fontFamily:"var(--font-family)"},className:"ml-1",children:"*"})]})}),s.jsx("textarea",{value:r,onChange:n,placeholder:a,rows:4,style:{width:"100%",padding:"var(--input-padding)",fontSize:"var(--placeholder-font-size)",fontFamily:"var(--font-family)",fontWeight:"normal",border:"1px solid var(--input-border-color)",borderRadius:"var(--input-border-radius)",backgroundColor:"var(--input-bg-color)",color:"var(--input-text-color)",outline:"none",transition:"border-color 0.2s",resize:"vertical",minHeight:"80px"},onFocus:l=>l.target.style.borderColor="var(--input-focus-border-color)",onBlur:l=>l.target.style.borderColor="var(--input-border-color)",...o})]}),md=({label:e,required:t,value:r,onChange:n,placeholder:a,error:o,readOnly:l=!1,...c})=>{const i=d.useRef(null),u=p=>{if(l)return;const v=p.target.value,b=Nh(v);n({target:{value:b}})},h=p=>{if(l)return;const v=p.target.value;n({target:{value:v}})},g=()=>{!l&&i.current&&i.current.showPicker()};return s.jsxs("div",{className:"relative",style:{marginBottom:"var(--form-margin-bottom)"},children:[s.jsx("label",{className:"absolute -top-2 left-3 bg-white px-1 text-gray-500 uppercase tracking-wider z-10",style:{fontFamily:"var(--font-family)",fontSize:"var(--label-font-size)",fontWeight:"var(--label-font-weight)"},children:s.jsxs("span",{children:[e,t&&s.jsx("span",{style:{color:"var(--secondary-color)",fontFamily:"var(--font-family)"},className:"ml-1",children:"*"})]})}),!l&&s.jsx("input",{ref:i,type:"date",value:r,onChange:h,style:{position:"absolute",opacity:0,pointerEvents:"none",width:"1px",height:"1px"}}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:Qs(r),onChange:u,placeholder:a,readOnly:l,style:{width:"100%",height:"var(--input-height)",padding:"var(--input-padding)",paddingTop:"16px",paddingRight:"40px",fontSize:"var(--placeholder-font-size)",fontFamily:"var(--font-family)",fontWeight:"normal",border:`1px solid ${o?"var(--secondary-color)":"var(--input-border-color)"}`,borderRadius:"var(--input-border-radius)",backgroundColor:l?"#f9fafb":"var(--input-bg-color)",color:"var(--input-text-color)",outline:"none",transition:"border-color 0.2s",cursor:l?"default":"text"},onFocus:p=>p.target.style.borderColor=o?"var(--secondary-color)":"var(--input-focus-border-color)",onBlur:p=>p.target.style.borderColor=o?"var(--secondary-color)":"var(--input-border-color)",...c}),s.jsx("div",{className:`absolute right-3 top-1/2 transform -translate-y-1/2 p-1 rounded ${l?"opacity-50 cursor-not-allowed":"hover:bg-gray-100 cursor-pointer"}`,style:{color:"var(--input-text-color)"},onClick:l?void 0:g,title:l?"Auto-selected date":"Select date",children:s.jsx($t,{size:16})})]}),o&&s.jsx("p",{style:{color:"var(--secondary-color)",fontFamily:"var(--font-family)",fontSize:"var(--error-font-size)",marginTop:"4px"},children:o})]})};function $v({isOpen:e,onClose:t,onSubmit:r,isEdit:n=!1,taskToEdit:a=null,dueDates:o}){var R,ie,pe,Pe;console.log("dueDates=========>",o);const[l,c]=d.useState(""),[i,u]=d.useState(""),[h,g]=d.useState(""),[p,v]=d.useState(""),[b,j]=d.useState(""),[w,y]=d.useState(pa()),[m,f]=d.useState(""),[x,N]=d.useState(""),[C,k]=d.useState(""),[S,P]=d.useState(""),[I,q]=d.useState(""),[V,ee]=d.useState(""),[Q,oe]=d.useState([]),[X,K]=d.useState([]),[D,O]=d.useState({}),{user:T}=Ae?Ae():{user:null};d.useEffect(()=>{if(e){if(n&&a){const F=Ni(a.createdDate),te=Ni(a.dueDate);c(a.taskNumber||""),u(a.name||""),g(a.projectName||""),v(a.leadId||""),j(a.relatedTo||""),y(F||pa()),f(a.assignTo||""),N(a.assignBy||""),k(a.priority||""),P(a.status||""),q(te||""),ee(a.description||"")}else u(""),g(""),v(""),j(""),y(pa()),f(""),k(""),P("New"),q(""),ee(""),O({}),W();$(),Z()}},[e,n,a]);const W=async()=>{try{const F=await se.getNextTaskNumber();c(F.taskNumber)}catch(F){console.error("Error fetching next task number:",F),c("TSK-10001")}},$=async()=>{try{const te=(await se.getUsers()).map(ce=>({id:ce.id,name:`${ce.first_name} ${ce.last_name}`}));oe(te)}catch(F){console.error("Error fetching users:",F),oe([])}},Z=async()=>{try{const F=await se.getLeads();K(F)}catch(F){console.error("Error fetching leads:",F),K([])}},B=()=>{var te;const F={};return i.trim()||(F.taskName="Task name is required"),n&&((te=T==null?void 0:T.role)==null?void 0:te.toLowerCase())==="admin"&&!x&&(F.assignBy="Assigned By is required"),m||(F.assignTo="Assigned To is required"),S||(F.status="Status is required"),C||(F.priority="Priority is required"),I||(F.dueDate="Due date is required"),I&&bv(I)&&(F.dueDate="Due date cannot be in the past"),b==="Project"&&!h.trim()&&(F.projectName="Project name is required when Related To is Project"),b==="Lead"&&!p&&(F.leadId="Lead name is required when Related To is Lead"),O(F),Object.keys(F).length===0},U=()=>{var te;if(!B())return;const F={taskNumber:l,name:i.trim(),projectName:h.trim()||"",leadId:p||"",relatedTo:b||"",assignTo:m,assignBy:n&&((te=T==null?void 0:T.role)==null?void 0:te.toLowerCase())==="admin"?x:(T==null?void 0:T.id)||1,priority:C,status:S,dueDate:I,description:V.trim()||"",createdDate:w};console.log(" SAVE TASK - Data being sent to backend:",{...F,dueDateType:typeof I,createdDateType:typeof w,dueDateValue:I,createdDateValue:w}),typeof r=="function"&&r(F),u(""),g(""),v(""),j(""),y(pa()),f(""),k(""),P(""),q(""),ee(""),O({}),t()},L=({label:F,required:te,options:ce=[],value:ne,onChange:ht,placeholder:at,searchable:Rt=!1,disabled:kt=!1,error:ar})=>{const[_,z]=d.useState(!1),[me,ze]=d.useState(""),St=d.useRef(null);d.useEffect(()=>{const ve=E=>{_&&St.current&&!St.current.contains(E.target)&&(z(!1),ze(""))};return document.addEventListener("mousedown",ve),()=>document.removeEventListener("mousedown",ve)},[_]);const Ct=Rt&&me?ce.filter(ve=>ve.toLowerCase().includes(me.toLowerCase())):ce,zr=ve=>{ht(ve),z(!1),ze("")},Rr=ve=>{const E=ve.target.value;ze(E),_||z(!0)},Gs=()=>{z(!0)},Fo=ve=>{ve.key==="Escape"?(z(!1),ze("")):ve.key==="Enter"&&Ct.length===1&&zr(Ct[0])};return s.jsxs("div",{ref:St,className:"relative",style:{marginBottom:"var(--form-margin-bottom)"},children:[s.jsx("label",{className:"absolute -top-2 left-3 bg-white px-1 text-gray-500 uppercase tracking-wider",style:{fontFamily:"var(--font-family)",fontSize:"var(--label-font-size)",fontWeight:"var(--label-font-weight)"},children:s.jsxs("span",{children:[F,te&&s.jsx("span",{style:{color:"var(--secondary-color)",fontFamily:"var(--font-family)"},className:"ml-1",children:"*"})]})}),Rt?s.jsx("input",{type:"text",value:_?me:ne||"",onChange:Rr,onFocus:Gs,onKeyDown:Fo,placeholder:at,style:{width:"100%",height:"var(--input-height)",padding:"var(--input-padding)",paddingTop:"16px",paddingRight:"40px",fontSize:"var(--placeholder-font-size)",fontFamily:"var(--font-family)",border:`1px solid ${ar?"var(--secondary-color)":"var(--input-border-color)"}`,borderRadius:"var(--input-border-radius)",backgroundColor:"var(--input-bg-color)",color:"var(--input-text-color)",outline:"none",transition:"border-color 0.2s"},onBlur:ve=>ve.target.style.borderColor=ar?"var(--secondary-color)":"var(--input-border-color)"}):s.jsx("div",{onClick:kt?void 0:()=>z(!_),style:{width:"100%",height:"var(--input-height)",padding:"var(--input-padding)",paddingTop:"16px",fontSize:"var(--input-font-size)",fontFamily:"var(--font-family)",border:`1px solid ${ar?"var(--secondary-color)":"var(--input-border-color)"}`,borderRadius:"var(--input-border-radius)",backgroundColor:kt?"#f9fafb":"var(--input-bg-color)",color:ne?"var(--input-text-color)":"var(--input-placeholder-color)",outline:"none",cursor:kt?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",transition:"border-color 0.2s",opacity:kt?.6:1},children:s.jsx("span",{style:{color:ne?"var(--input-text-color)":"var(--input-placeholder-color)",fontSize:"var(--placeholder-font-size)",fontFamily:"var(--font-family)"},children:ne||at})}),s.jsx("div",{className:`absolute right-3 top-1/2 transform -translate-y-1/2 p-1 rounded ${_?"rotate-180":""}`,style:{color:"var(--input-text-color)",transition:"transform 0.2s",pointerEvents:Rt?"none":"auto",cursor:Rt?"default":"pointer"},onClick:Rt?void 0:()=>z(!_),children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.24a.75.75 0 01-1.06 0L5.21 8.27a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})}),_&&s.jsx("div",{className:"absolute top-full left-0 bg-white border border-gray-200 rounded-lg shadow-lg z-10 max-h-48 overflow-y-auto mt-1 w-full",children:Ct.length===0?s.jsx("div",{style:{padding:"8px 12px",fontSize:"var(--input-font-size)",fontFamily:"var(--font-family)",color:"var(--input-placeholder-color)"},children:"No matches found"}):Ct.map((ve,E)=>s.jsx("div",{onClick:()=>zr(ve),style:{padding:"8px 12px",fontSize:"var(--input-font-size)",fontFamily:"var(--font-family)",color:ve===ne?"var(--input-placeholder-color)":"var(--input-text-color)",cursor:"pointer",backgroundColor:ve===ne?"#f3f4f6":"transparent"},onMouseEnter:M=>M.target.style.backgroundColor="#f9fafb",onMouseLeave:M=>M.target.style.backgroundColor=ve===ne?"#f3f4f6":"transparent",children:ve},E))})]})};return e?s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[1100] p-2 sm:p-6 overflow-auto",children:s.jsxs("div",{className:"w-full max-w-5xl bg-white rounded-xl flex flex-col max-h-[75vh] sm:max-h-[90vh] mt-2 mb-2 sm:mt-0 sm:mb-0 task-modal",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 sticky top-0 bg-white z-10 border-b-2 rounded-t-xl",style:{borderBottomColor:"var(--primary-color)"},children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:t,className:"w-8 h-8 rounded-full flex items-center justify-center text-gray-600 hover:bg-gray-100",children:s.jsx(nr,{size:20})}),s.jsx("h2",{className:"text-lg font-bold",style:{color:"var(--primary-color)",fontFamily:"var(--font-family)"},children:n?"EDIT TASK":"CREATE TASK"})]}),s.jsx("button",{onClick:U,className:"text-white px-3 py-2 sm:px-4 sm:py-2 text-sm sm:text-base rounded-xl shadow-md hover:opacity-90",style:{backgroundColor:"var(--primary-color)",fontFamily:"var(--font-family)"},children:n?"Update":"Save"})]}),s.jsx("div",{className:"p-6 flex-1 overflow-y-auto rounded-b-xl",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2",style:{gap:"var(--form-gap)"},children:[n&&s.jsx("div",{className:"md:col-span-1",children:s.jsx(ya,{label:"TASK NUMBER",value:l,readOnly:!0,placeholder:"Task number"})}),s.jsx("div",{className:`md:col-span-1 ${n?"":"md:col-span-2"}`,children:s.jsx(ya,{label:"TASK NAME",required:!0,value:i,onChange:F=>u(F.target.value),placeholder:"Enter task name",error:D.taskName})}),s.jsx("div",{className:"md:col-span-1",children:s.jsx(md,{label:"CREATED DATE",required:!0,value:w,readOnly:!0,placeholder:"Auto-selected date"})}),s.jsx("div",{className:"md:col-span-1",children:s.jsx(md,{label:"DUE DATE",required:!0,value:I,onChange:F=>q(F.target.value),placeholder:"Select due date",error:D.dueDate})}),s.jsx("div",{className:"md:col-span-1",children:n&&((R=T==null?void 0:T.role)==null?void 0:R.toLowerCase())==="admin"?s.jsx(L,{label:"ASSIGNED BY",required:!0,options:Q.map(F=>F.name),value:((ie=Q.find(F=>F.id===parseInt(x)))==null?void 0:ie.name)||"",onChange:F=>{const te=Q.find(ce=>ce.name===F);N(te?te.id:"")},placeholder:"Select assigned by",searchable:!0,error:D.assignBy}):s.jsx(ya,{label:"ASSIGNED BY",required:!0,value:T?`${T.firstName} ${T.lastName}`:"Current User",readOnly:!0,placeholder:"Auto-selected current user"})}),s.jsx("div",{className:"md:col-span-1",children:s.jsx(L,{label:"ASSIGNED TO",required:!0,options:Q.map(F=>F.name),value:((pe=Q.find(F=>F.id===parseInt(m)))==null?void 0:pe.name)||"",onChange:F=>{const te=Q.find(ce=>ce.name===F);f(te?te.id:"")},placeholder:"Select assigned to",searchable:!0,error:D.assignTo})}),s.jsx("div",{className:"md:col-span-1",children:s.jsx(L,{label:"PRIORITY",required:!0,options:["High","Medium","Low"],value:C,onChange:k,placeholder:"Select priority",error:D.priority})}),s.jsx("div",{className:"md:col-span-1",children:s.jsx(L,{label:"STATUS",required:!0,options:["New","Working","Completed","On Hold","Cancelled"],value:S,onChange:P,placeholder:"Select status",error:D.status})}),s.jsx("div",{className:"md:col-span-1",children:s.jsx(L,{label:"RELATED TO",options:[],value:b,onChange:F=>{j(F),F!=="Project"&&g(""),F!=="Lead"&&v("")},placeholder:"Select what this task is related to"})}),(b==="Project"||b==="Lead")&&s.jsxs("div",{className:"md:col-span-1",children:[b==="Project"&&s.jsx(ya,{label:"PROJECT NAME",required:!0,value:h,onChange:F=>g(F.target.value),placeholder:"Enter project name",error:D.projectName}),b==="Lead"&&s.jsx(L,{label:"LEAD NAME",required:!0,options:X.map(F=>F.contact_name),value:((Pe=X.find(F=>F.id===parseInt(p)))==null?void 0:Pe.contact_name)||"",onChange:F=>{const te=X.find(ce=>ce.contact_name===F);v(te?te.id:"")},placeholder:"Select lead name",searchable:!0,error:D.leadId})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsx(Bv,{label:"DESCRIPTION",value:V,onChange:F=>ee(F.target.value),placeholder:"Enter task description"})})]})})]})}):null}const va=({label:e,required:t,value:r,onChange:n,placeholder:a,readOnly:o=!1,error:l,...c})=>s.jsxs("div",{className:"relative",children:[s.jsx("label",{className:"absolute -top-2 left-3 bg-white px-1 text-gray-500 uppercase tracking-wider",style:{fontFamily:"var(--font-family)",fontSize:"var(--label-font-size)",fontWeight:"var(--label-font-weight)"},children:s.jsxs("span",{children:[e,t&&s.jsx("span",{style:{color:"var(--secondary-color)",fontFamily:"var(--font-family)"},className:"ml-1",children:"*"})]})}),s.jsx("input",{type:"text",value:r,onChange:n,placeholder:a,readOnly:o,style:{width:"100%",height:"var(--input-height)",padding:"var(--input-padding)",paddingTop:"20px",paddingBottom:"8px",fontSize:"var(--placeholder-font-size)",fontFamily:"var(--font-family)",fontWeight:"normal",border:`1px solid ${l?"var(--secondary-color)":"var(--input-border-color)"}`,borderRadius:"var(--input-border-radius)",backgroundColor:o?"#f9fafb":"var(--input-bg-color)",color:"var(--input-text-color)",outline:"none",transition:"border-color 0.2s",cursor:o?"default":"text",boxSizing:"border-box",lineHeight:"1.2"},onFocus:i=>i.target.style.borderColor=l?"var(--secondary-color)":"var(--input-focus-border-color)",onBlur:i=>i.target.style.borderColor=l?"var(--secondary-color)":"var(--input-border-color)",...c}),l&&s.jsx("p",{style:{color:"var(--secondary-color)",fontFamily:"var(--font-family)",fontSize:"var(--error-font-size)",marginTop:"4px"},children:l})]}),hd=({label:e,required:t,value:r,onChange:n,placeholder:a,...o})=>s.jsxs("div",{className:"relative",style:{marginBottom:"var(--form-margin-bottom)"},children:[s.jsx("label",{className:"absolute -top-2 left-3 bg-white px-1 text-gray-500 uppercase tracking-wider",style:{fontFamily:"var(--font-family)",fontSize:"var(--label-font-size)",fontWeight:"var(--label-font-weight)"},children:s.jsxs("span",{children:[e,t&&s.jsx("span",{style:{color:"var(--secondary-color)",fontFamily:"var(--font-family)"},className:"ml-1",children:"*"})]})}),s.jsx("textarea",{value:r,onChange:n,placeholder:a,rows:4,style:{width:"100%",padding:"var(--input-padding)",fontSize:"var(--placeholder-font-size)",fontFamily:"var(--font-family)",fontWeight:"normal",border:"1px solid var(--input-border-color)",borderRadius:"var(--input-border-radius)",backgroundColor:"var(--input-bg-color)",color:"var(--input-text-color)",outline:"none",transition:"border-color 0.2s",resize:"vertical",minHeight:"80px"},onFocus:l=>l.target.style.borderColor="var(--input-focus-border-color)",onBlur:l=>l.target.style.borderColor="var(--input-border-color)",...o})]}),wa=({label:e,required:t,value:r,onChange:n,placeholder:a,error:o,readOnly:l=!1,...c})=>{const i=d.useRef(null),u=p=>{if(l)return;const v=p.target.value,b=Nh(v);n({target:{value:b}})},h=p=>{if(l)return;const v=p.target.value;n({target:{value:v}})},g=()=>{!l&&i.current&&i.current.showPicker()};return s.jsxs("div",{className:"relative",style:{marginBottom:"var(--form-margin-bottom)"},children:[s.jsx("label",{className:"absolute -top-2 left-3 bg-white px-1 text-gray-500 uppercase tracking-wider z-10",style:{fontFamily:"var(--font-family)",fontSize:"var(--label-font-size)",fontWeight:"var(--label-font-weight)"},children:s.jsxs("span",{children:[e,t&&s.jsx("span",{style:{color:"var(--secondary-color)",fontFamily:"var(--font-family)"},className:"ml-1",children:"*"})]})}),!l&&s.jsx("input",{ref:i,type:"date",value:r,onChange:h,style:{position:"absolute",opacity:0,pointerEvents:"none",width:"1px",height:"1px"}}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:Qs(r),onChange:u,placeholder:a,readOnly:l,style:{width:"100%",height:"var(--input-height)",padding:"var(--input-padding)",paddingTop:"20px",paddingBottom:"8px",paddingRight:"40px",fontSize:"var(--placeholder-font-size)",fontFamily:"var(--font-family)",fontWeight:"normal",border:`1px solid ${o?"var(--secondary-color)":"var(--input-border-color)"}`,borderRadius:"var(--input-border-radius)",backgroundColor:l?"#f9fafb":"var(--input-bg-color)",color:"var(--input-text-color)",outline:"none",transition:"border-color 0.2s",cursor:l?"default":"text",boxSizing:"border-box",lineHeight:"1.2"},onFocus:p=>p.target.style.borderColor=o?"var(--secondary-color)":"var(--input-focus-border-color)",onBlur:p=>p.target.style.borderColor=o?"var(--secondary-color)":"var(--input-border-color)",...c}),s.jsx("div",{className:`absolute right-3 top-1/2 transform -translate-y-1/2 p-1 rounded ${l?"opacity-50 cursor-not-allowed":"hover:bg-gray-100 cursor-pointer"}`,style:{color:"var(--input-text-color)"},onClick:l?void 0:g,title:l?"Auto-selected date":"Select date",children:s.jsx($t,{size:16})})]}),o&&s.jsx("p",{style:{color:"var(--secondary-color)",fontFamily:"var(--font-family)",fontSize:"var(--error-font-size)",marginTop:"4px"},children:o})]})},cr=({label:e,required:t,options:r=[],value:n,onChange:a,placeholder:o,searchable:l=!1,disabled:c=!1,error:i})=>{const[u,h]=d.useState(!1),[g,p]=d.useState(""),v=d.useRef(null);d.useEffect(()=>{const N=C=>{u&&v.current&&!v.current.contains(C.target)&&(h(!1),p(""))};return document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[u]);const b=r.map(N=>typeof N=="string"?{value:N,label:N}:N),j=l&&g?b.filter(N=>N.label.toLowerCase().includes(g.toLowerCase())):b,w=N=>{a(N.value),h(!1),p("")},y=N=>{const C=N.target.value;p(C),u||h(!0)},m=()=>{h(!0)},f=N=>{N.key==="Escape"?(h(!1),p("")):N.key==="Enter"&&j.length===1&&w(j[0])},x=b.find(N=>N.value===n);return s.jsxs("div",{ref:v,className:"relative",style:{marginBottom:"var(--form-margin-bottom)"},children:[s.jsx("label",{className:"absolute -top-2 left-3 bg-white px-1 text-gray-500 uppercase tracking-wider",style:{fontFamily:"var(--font-family)",fontSize:"var(--label-font-size)",fontWeight:"var(--label-font-weight)"},children:s.jsxs("span",{children:[e,t&&s.jsx("span",{style:{color:"var(--secondary-color)",fontFamily:"var(--font-family)"},className:"ml-1",children:"*"})]})}),l?s.jsx("input",{type:"text",value:u?g:(x==null?void 0:x.label)||"",onChange:y,onFocus:m,onKeyDown:f,placeholder:o,style:{width:"100%",height:"var(--input-height)",padding:"var(--input-padding)",paddingTop:"20px",paddingBottom:"8px",paddingRight:"40px",fontSize:"var(--placeholder-font-size)",fontFamily:"var(--font-family)",border:`1px solid ${i?"var(--secondary-color)":"var(--input-border-color)"}`,borderRadius:"var(--input-border-radius)",backgroundColor:"var(--input-bg-color)",color:"var(--input-text-color)",outline:"none",transition:"border-color 0.2s",boxSizing:"border-box",lineHeight:"1.2"},onBlur:N=>N.target.style.borderColor=i?"var(--secondary-color)":"var(--input-border-color)"}):s.jsx("div",{onClick:c?void 0:()=>h(!u),style:{width:"100%",height:"var(--input-height)",padding:"var(--input-padding)",paddingTop:"20px",paddingBottom:"8px",fontSize:"var(--placeholder-font-size)",fontFamily:"var(--font-family)",border:`1px solid ${i?"var(--secondary-color)":"var(--input-border-color)"}`,borderRadius:"var(--input-border-radius)",backgroundColor:c?"#f9fafb":"var(--input-bg-color)",color:n?"var(--input-text-color)":"var(--input-placeholder-color)",outline:"none",cursor:c?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",transition:"border-color 0.2s",opacity:c?.6:1,boxSizing:"border-box",lineHeight:"1.2"},children:s.jsx("span",{style:{color:n?"var(--input-text-color)":"var(--input-placeholder-color)",fontSize:"var(--placeholder-font-size)",fontFamily:"var(--font-family)"},children:(x==null?void 0:x.label)||o})}),s.jsx("div",{className:`absolute right-3 top-1/2 transform -translate-y-1/2 p-1 rounded ${u?"rotate-180":""}`,style:{color:"var(--input-text-color)",transition:"transform 0.2s",pointerEvents:l?"none":"auto",cursor:l?"default":"pointer"},onClick:l?void 0:()=>h(!u),children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.24a.75.75 0 01-1.06 0L5.21 8.27a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})}),u&&s.jsx("div",{className:"absolute top-full left-0 bg-white border border-gray-200 rounded-lg shadow-lg z-50 max-h-48 overflow-y-auto mt-1 w-full",children:j.length===0?s.jsx("div",{style:{padding:"8px 12px",fontSize:"var(--input-font-size)",fontFamily:"var(--font-family)",color:"var(--input-placeholder-color)"},children:"No matches found"}):j.map((N,C)=>s.jsx("div",{onClick:()=>w(N),style:{padding:"8px 12px",fontSize:"var(--input-font-size)",fontFamily:"var(--font-family)",color:N.value===n?"var(--input-placeholder-color)":"var(--input-text-color)",cursor:"pointer",backgroundColor:N.value===n?"#f3f4f6":"transparent"},onMouseEnter:k=>k.target.style.backgroundColor="#f9fafb",onMouseLeave:k=>k.target.style.backgroundColor=N.value===n?"#f3f4f6":"transparent",children:N.label},C))})]})},Uv=({selectedTask:e,onClose:t,onTaskUpdate:r})=>{var Rt,kt,ar;if(!e)return null;const{user:n,token:a}=Ae(),o=Rn(),[l,c]=d.useState("overview"),[i,u]=d.useState(""),[h,g]=d.useState(null),[p,v]=d.useState(!1),[b,j]=d.useState([]),[w,y]=d.useState(!1),[m,f]=d.useState(null),[x,N]=d.useState(new Map),[C,k]=d.useState(!1),[S,P]=d.useState({}),[I,q]=d.useState(!1),[V,ee]=d.useState([]),[Q,oe]=d.useState([]),X=d.useRef(null),K=d.useRef(!1),D=d.useRef(!0),O=d.useRef(null),T=_=>Qs(_),W=_=>new Date(_).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),$=_=>{switch(_){case"Completed":return"bg-light-green-bg text-green-text border-green-200";case"Working":return"bg-light-primary-bg text-primary border-blue-200";case"New":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"On Hold":return"bg-orange-100 text-orange-700 border-orange-200";case"Cancelled":return"bg-red-100 text-red-700 border-red-200";default:return"bg-light-gray-bg text-gray-700 border-gray-200"}},Z=_=>{switch(_){case"High":return"bg-red-100 text-red-700 border-red-200";case"Medium":return"bg-orange-100 text-orange-700 border-orange-200";case"Low":return"bg-light-green-bg text-green-text border-green-200";default:return"bg-light-gray-bg text-gray-700 border-gray-200"}},B=_=>[..._].sort((z,me)=>new Date(z.created_at)-new Date(me.created_at));d.useEffect(()=>{var _,z,me;console.log("TaskInfo location state changed:",o.state),((_=o.state)==null?void 0:_.activeTab)==="comments"?(console.log("Setting active tab to comments from navigation state"),c("comments")):(((z=o.state)==null?void 0:z.activeTab)==="overview"||!((me=o.state)!=null&&me.activeTab))&&(console.log("Setting active tab to overview (default)"),c("overview"))},[o.state]);const U=d.useCallback(()=>{const _=X.current;_&&(_.scrollTop=_.scrollHeight)},[]),L=d.useCallback((_=100)=>{const z=X.current;return z?z.scrollHeight-z.scrollTop-z.clientHeight<_:!1},[]),R=d.useCallback(()=>{X.current&&(K.current=!L(200),D.current=L(100))},[L]),ie=async()=>{if(e!=null&&e.id){y(!0);try{const _=await se.getCommentsByTask(e.id);j(B(_))}catch(_){console.error("Error fetching comments:",_)}finally{y(!1)}}};d.useEffect(()=>{e!=null&&e.id&&l==="comments"&&(ie(),K.current=!1,D.current=!0)},[e==null?void 0:e.id,l]),d.useEffect(()=>{if(l!=="comments")return;const _=X.current;if(_)return _.addEventListener("scroll",R,{passive:!0}),requestAnimationFrame(()=>{U(),D.current=!0,K.current=!1}),()=>{_.removeEventListener("scroll",R)}},[l,R,U]),d.useEffect(()=>{l!=="comments"||!X.current||(D.current||!K.current)&&requestAnimationFrame(()=>{U(),D.current=!0,K.current=!1})},[b,l,U,L]),d.useEffect(()=>{if(n&&n.id&&(e!=null&&e.id)&&l==="comments"){console.log(" Initializing Socket.IO connection for TaskInfo comments:",e.id);const _=bn(Cr.socket.url,{transports:["websocket","polling"],timeout:2e4,forceNew:!0});return f(_),_.on("connect",()=>{console.log(" TaskInfo Socket.IO connected successfully:",_.id),_.emit("join-task-room",e.id)}),_.on("connect_error",z=>{console.error(" TaskInfo Socket.IO connection error:",z)}),_.on("disconnect",z=>{console.log(" TaskInfo Socket.IO disconnected:",z)}),_.on("new-comment",z=>{console.log(" New comment received via Socket.IO:",z);const{comment:me,taskId:ze}=z;ze===e.id&&me.user_id!==n.id&&j(St=>B([...St,me]))}),_.on("user-typing",z=>{const{userId:me,userName:ze,taskId:St,isTyping:Ct}=z;St===e.id&&me!==n.id&&N(zr=>{const Rr=new Map(zr);return Ct?Rr.set(me,{userName:ze,timestamp:Date.now()}):Rr.delete(me),Rr})}),()=>{console.log(" Cleaning up TaskInfo Socket.IO connection"),_.emit("leave-task-room",e.id),_.disconnect()}}},[n,e==null?void 0:e.id,l]);const pe=_=>{const z=_.target.value;u(z),m&&(e!=null&&e.id)&&(z.trim()&&!O.current&&m.emit("typing-start",{taskId:e.id,userId:n.id,userName:`${n.firstName} ${n.lastName}`}),O.current&&clearTimeout(O.current),O.current=setTimeout(()=>{m&&(e!=null&&e.id)&&m.emit("typing-stop",{taskId:e.id,userId:n.id}),O.current=null},1e3))};d.useEffect(()=>{const _=setInterval(()=>{const z=Date.now();N(me=>{const ze=new Map;for(const[St,Ct]of me)z-Ct.timestamp<5e3&&ze.set(St,Ct);return ze})},1e3);return()=>clearInterval(_)},[]);const Pe=async()=>{if(!(!i.trim()||!a||!n)){v(!0);try{const _=await se.createComment({task_id:e.id,message:i.trim(),parent_comment_id:h||null}),z={id:(_==null?void 0:_.id)??Date.now(),userName:n?`${n.firstName} ${n.lastName}`.trim():"Unknown User",message:i.trim(),parent_comment_id:h||null,created_at:(_==null?void 0:_.created_at)??new Date().toISOString()};j(h?me=>me.map(ze=>ze.id===h?{...ze,replies:[...ze.replies||[],z]}:ze):me=>B([...me,{...z,replies:[]}])),u(""),g(null)}catch(_){console.error("Error posting comment:",_)}finally{v(!1)}}},F=async()=>{try{const z=(await se.getUsers()).map(me=>({id:me.id,name:`${me.first_name} ${me.last_name}`}));ee(z)}catch(_){console.error("Error fetching users:",_),ee([])}},te=async()=>{try{const _=await se.getLeads();oe(_)}catch(_){console.error("Error fetching leads:",_),oe([])}},ce=()=>{F(),te();const _=z=>z?new Date(z).toISOString().split("T")[0]:"";P({name:e.name,description:e.description,status:e.status,priority:e.priority,assignTo:e.assignTo,assignBy:e.assignBy,projectName:e.projectName,leadName:e.leadName,dueDate:_(e.dueDate),createdDate:_(e.createdDate)}),k(!0)},ne=()=>{k(!1),P({})},ht=async()=>{q(!0);try{const _={taskNumber:S.taskNumber||e.taskNumber,name:S.name,description:S.description,status:S.status,priority:S.priority,assignTo:S.assignTo,assignBy:S.assignBy,projectName:S.projectName,leadName:S.leadName,dueDate:S.dueDate,createdDate:S.createdDate},z=await se.updateTask(e.id,_);z&&r&&r(z),k(!1),P({}),console.log("Task updated successfully")}catch(_){console.error("Error updating task:",_)}finally{q(!1)}},at=[{id:"overview",label:"Overview",icon:Jm},{id:"comments",label:"Comments",icon:Zm}];return s.jsxs("div",{className:"bg-white rounded-xl overflow-hidden h-full sm:h-[calc(100vh-90px)] flex flex-col relative",children:[s.jsx("div",{className:"border-b-[2px] border-primary bg-white",children:s.jsxs("nav",{className:"flex",children:[s.jsx("button",{onClick:t,className:"flex items-center justify-center px-2 sm:px-3 py-1 text-sm font-medium text-white hover:text-gray-100 bg-gray-400 hover:bg-gray-450 transition-all duration-300",title:"Go back",children:s.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 drop-shadow-md animate-pulse",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",style:{animation:"wave 2.5s ease-in-out infinite"},children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),at.map(_=>{const z=_.icon;return s.jsxs("button",{onClick:()=>c(_.id),className:`flex items-center gap-1 sm:gap-2 px-3 sm:px-6 py-1 text-xs sm:text-sm font-medium transition-all duration-200 ${l===_.id?"text-white bg-primary":"text-gray-500 hover:text-gray-700"}`,children:[s.jsx(z,{size:14,className:"sm:w-4 sm:h-4"}),s.jsx("span",{className:"text-xs sm:text-sm",children:_.label})]},_.id)})]})}),s.jsxs("div",{className:"hidden sm:flex items-center justify-between px-4 sm:px-6 py-3 sm:py-4 border-b border-gray-200 bg-light-gray-bg",children:[s.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 truncate",style:{fontFamily:"var(--font-family)"},children:e.name}),s.jsxs("span",{className:"text-xs sm:text-sm text-gray-500 whitespace-nowrap",style:{fontFamily:"var(--font-family)"},children:["Assigned to: ",e.assignToName||e.assignTo]})]}),l==="overview"&&(C?s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:ht,disabled:I,className:"flex items-center gap-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:opacity-50 transition-colors text-sm font-medium",style:{fontFamily:"var(--font-family)"},children:[I?s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):s.jsx(lt,{size:16}),s.jsx("span",{children:I?"Saving...":"Save"})]}),s.jsxs("button",{onClick:ne,disabled:I,className:"flex items-center gap-2 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 disabled:opacity-50 transition-colors text-sm font-medium",style:{fontFamily:"var(--font-family)"},children:[s.jsx(nr,{size:16}),s.jsx("span",{children:"Cancel"})]})]}):s.jsxs("button",{onClick:ce,className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-blue-600 transition-colors text-sm font-medium",style:{fontFamily:"var(--font-family)"},children:[s.jsx(fo,{size:16}),s.jsx("span",{children:"Edit"})]}))]}),s.jsxs("div",{className:"block sm:hidden border-b border-gray-200 bg-light-gray-bg",children:[s.jsx("div",{className:"px-4 py-3 border-b border-gray-100",children:s.jsx("h2",{className:"text-lg font-semibold text-gray-900 break-words",children:e.name})}),s.jsxs("div",{className:"flex items-start justify-between px-4 py-3",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm text-gray-600",style:{fontFamily:"var(--font-family)"},children:"Assigned to:"}),s.jsx("span",{className:"text-sm text-gray-900 font-medium",style:{fontFamily:"var(--font-family)"},children:e.assignToName||e.assignTo})]}),l==="overview"&&!C&&s.jsxs("button",{onClick:ce,className:"flex items-center gap-1 px-3 py-1.5 bg-primary text-white rounded-lg hover:bg-blue-600 transition-colors text-sm ml-4",style:{fontFamily:"var(--font-family)"},children:[s.jsx(fo,{size:14}),s.jsx("span",{children:"Edit"})]}),l==="overview"&&C&&s.jsxs("div",{className:"flex gap-1 ml-4",children:[s.jsxs("button",{onClick:ht,disabled:I,className:"flex items-center gap-1 px-2 py-1 bg-green-500 text-white rounded hover:bg-green-600 disabled:opacity-50 transition-colors text-xs",style:{fontFamily:"var(--font-family)"},children:[I?s.jsx("div",{className:"animate-spin rounded-full h-2.5 w-2.5 border-b border-white"}):s.jsx(lt,{size:12}),s.jsx("span",{children:I?"Saving...":"Save"})]}),s.jsxs("button",{onClick:ne,disabled:I,className:"flex items-center gap-1 px-2 py-1 bg-gray-500 text-white rounded hover:bg-gray-600 disabled:opacity-50 transition-colors text-xs",style:{fontFamily:"var(--font-family)"},children:[s.jsx(nr,{size:12}),s.jsx("span",{children:"Cancel"})]})]})]})]}),s.jsxs("div",{className:`flex-1 overflow-hidden ${l==="comments"?"pb-20":""}`,children:[l==="overview"&&s.jsxs("div",{className:"p-4 sm:p-6 overflow-auto h-full",children:[s.jsx("div",{className:"block sm:hidden",style:{fontFamily:"var(--font-family)"},children:s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 space-y-4",children:[s.jsx("div",{children:C?s.jsx(va,{label:"TASK NAME",required:!0,value:S.name,onChange:_=>P(z=>({...z,name:_.target.value})),placeholder:"Enter task name"}):s.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wide font-medium mb-1",children:"Task Name"}),s.jsx("div",{className:"text-sm font-medium text-gray-900 break-words",children:e.name})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx("div",{children:C?s.jsx(cr,{label:"STATUS",required:!0,value:S.status,onChange:_=>P(z=>({...z,status:_})),options:[{value:"New",label:"New"},{value:"Working",label:"Working"},{value:"Completed",label:"Completed"},{value:"On Hold",label:"On Hold"},{value:"Cancelled",label:"Cancelled"}],placeholder:"Select status"}):s.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wide font-medium mb-1",children:"Status"}),s.jsx("div",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${$(e.status)}`,children:e.status})]})}),s.jsx("div",{children:C?s.jsx(cr,{label:"PRIORITY",required:!0,value:S.priority,onChange:_=>P(z=>({...z,priority:_})),options:[{value:"Low",label:"Low"},{value:"Medium",label:"Medium"},{value:"High",label:"High"}],placeholder:"Select priority"}):s.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wide font-medium mb-1",children:"Priority"}),s.jsx("div",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${Z(e.priority)}`,children:e.priority})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx("div",{className:"flex-1 min-w-0",children:C?((Rt=n==null?void 0:n.role)==null?void 0:Rt.toLowerCase())==="admin"?s.jsx(cr,{label:"ASSIGNED BY",required:!0,value:S.assignBy||"",onChange:_=>{P(z=>({...z,assignBy:_}))},options:V.map(_=>({value:_.id,label:_.name})),placeholder:"Select assigned by",searchable:!0}):s.jsx(va,{label:"ASSIGNED BY",required:!0,value:n?`${n.firstName} ${n.lastName}`:"Current User",readOnly:!0,placeholder:"Auto-selected current user"}):s.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg h-full",children:[s.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wide font-medium mb-1",children:"Assigned By"}),s.jsx("div",{className:"text-sm font-medium text-gray-900 break-words",children:e.assignByName||e.assignBy})]})}),s.jsx("div",{className:"flex-1 min-w-0",children:C?s.jsx(cr,{label:"ASSIGNED TO",required:!0,value:S.assignTo||"",onChange:_=>{P(z=>({...z,assignTo:_}))},options:V.map(_=>({value:_.id,label:_.name})),placeholder:"Select assigned to",searchable:!0}):s.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg h-full",children:[s.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wide font-medium mb-1",children:"Assigned To"}),s.jsx("div",{className:"text-sm font-medium text-gray-900 break-words",children:e.assignToName||e.assignTo})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx("div",{children:C?s.jsx(wa,{label:"CREATED DATE",required:!0,value:S.createdDate,readOnly:!0,placeholder:"Auto-selected date"}):s.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wide font-medium mb-1",children:"Created Date"}),s.jsx("div",{className:"text-sm font-medium text-gray-900 break-words",children:T(e.createdDate)})]})}),s.jsx("div",{children:C?s.jsx(wa,{label:"DUE DATE",required:!0,value:S.dueDate,onChange:_=>P(z=>({...z,dueDate:_.target.value})),placeholder:"Select due date"}):s.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wide font-medium mb-1",children:"Due Date"}),s.jsx("div",{className:"text-sm font-medium text-gray-900 break-words",children:T(e.dueDate)})]})})]}),s.jsx("div",{children:C?s.jsx(hd,{label:"DESCRIPTION",value:S.description,onChange:_=>P(z=>({...z,description:_.target.value})),placeholder:"Enter task description"}):s.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wide font-medium mb-1",children:"Description"}),s.jsx("div",{className:"text-sm text-gray-900 break-words",children:e.description||"N/A"})]})})]})}),s.jsx("div",{className:"hidden sm:block",style:{fontFamily:"var(--font-family)"},children:s.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[s.jsx("div",{className:"bg-light-gray-bg rounded-lg p-4 border border-gray-200",children:C?s.jsx(va,{label:"TASK NAME",required:!0,value:S.name,onChange:_=>P(z=>({...z,name:_.target.value})),placeholder:"Enter task name"}):s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wide font-medium",children:"Task Name"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.name})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[s.jsx("div",{className:"bg-light-gray-bg rounded-lg p-4 border border-gray-200",children:C?s.jsx(cr,{label:"STATUS",required:!0,value:S.status,onChange:_=>P(z=>({...z,status:_})),options:[{value:"New",label:"New"},{value:"Working",label:"Working"},{value:"Completed",label:"Completed"},{value:"On Hold",label:"On Hold"},{value:"Cancelled",label:"Cancelled"}],placeholder:"Select status"}):s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wide font-medium",children:"Status"}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${$(e.status)}`,children:e.status})]})}),s.jsx("div",{className:"bg-light-gray-bg rounded-lg p-4 border border-gray-200",children:C?s.jsx(cr,{label:"PRIORITY",required:!0,value:S.priority,onChange:_=>P(z=>({...z,priority:_})),options:[{value:"Low",label:"Low"},{value:"Medium",label:"Medium"},{value:"High",label:"High"}],placeholder:"Select priority"}):s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wide font-medium",children:"Priority"}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${Z(e.priority)}`,children:e.priority})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[s.jsx("div",{className:"bg-light-gray-bg rounded-lg p-4 border border-gray-200",children:C?((kt=n==null?void 0:n.role)==null?void 0:kt.toLowerCase())==="admin"?s.jsx(cr,{label:"ASSIGNED BY",required:!0,value:S.assignBy||"",onChange:_=>{P(z=>({...z,assignBy:_}))},options:V.map(_=>({value:_.id,label:_.name})),placeholder:"Select assigned by",searchable:!0}):s.jsx(va,{label:"ASSIGNED BY",required:!0,value:n?`${n.firstName} ${n.lastName}`:"Current User",readOnly:!0,placeholder:"Auto-selected current user"}):s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wide font-medium",children:"Assigned By"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.assignByName||e.assignBy})]})}),s.jsx("div",{className:"bg-light-gray-bg rounded-lg p-4 border border-gray-200",children:C?s.jsx(cr,{label:"ASSIGNED TO",required:!0,value:S.assignTo||"",onChange:_=>{P(z=>({...z,assignTo:_}))},options:V.map(_=>({value:_.id,label:_.name})),placeholder:"Select assigned to",searchable:!0}):s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wide font-medium",children:"Assigned To"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.assignToName||e.assignTo})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[s.jsx("div",{className:"bg-light-gray-bg rounded-lg p-4 border border-gray-200",children:C?s.jsx(wa,{label:"CREATED DATE",required:!0,value:S.createdDate,readOnly:!0,placeholder:"Auto-selected date"}):s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wide font-medium",children:"Created Date"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:T(e.createdDate)})]})}),s.jsx("div",{className:"bg-light-gray-bg rounded-lg p-4 border border-gray-200",children:C?s.jsx(wa,{label:"DUE DATE",required:!0,value:S.dueDate,onChange:_=>P(z=>({...z,dueDate:_.target.value})),placeholder:"Select due date"}):s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wide font-medium",children:"Due Date"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:T(e.dueDate)})]})})]}),s.jsx("div",{className:"bg-light-gray-bg rounded-lg p-4 border border-gray-200",children:C?s.jsx(hd,{label:"DESCRIPTION",value:S.description,onChange:_=>P(z=>({...z,description:_.target.value})),placeholder:"Enter task description"}):s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wide font-medium mr-4",children:"Description"}),s.jsx("span",{className:"text-sm text-gray-900 flex-1",children:e.description||"N/A"})]})})]})})]}),l==="comments"&&s.jsx("div",{className:"flex flex-col h-full min-h-0 relative",children:s.jsx("div",{ref:X,className:"flex-1 overflow-y-auto p-3 sm:p-4 space-y-3 sm:space-y-4 bg-gray-50",style:{scrollBehavior:"smooth",paddingBottom:"4rem"},children:w?s.jsx("div",{className:"flex justify-center items-center py-6 sm:py-8",children:s.jsx("div",{className:"text-sm text-gray-500",children:"Loading comments..."})}):b.length===0?s.jsx("div",{className:"flex justify-center items-center py-6 sm:py-8",children:s.jsx("div",{className:"text-sm text-gray-500 text-center px-4",children:"No comments yet. Start the conversation!"})}):b.map(_=>s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[s.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 bg-primary rounded-full flex items-center justify-center text-white text-xs sm:text-sm font-medium flex-shrink-0",children:_.userName.charAt(0).toUpperCase()}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"bg-white rounded-lg p-2 sm:p-3 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-900 truncate",children:_.userName}),s.jsx("span",{className:"text-xs text-gray-500 flex-shrink-0 ml-2",children:W(_.created_at)})]}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-700 break-words",children:_.message})]}),s.jsx("button",{onClick:()=>g(_.id),className:"text-xs text-primary hover:text-blue-600 mt-1 ml-2 sm:ml-3",children:"Reply"})]})]}),_.replies&&_.replies.map(z=>s.jsxs("div",{className:"flex gap-2 sm:gap-3 ml-8 sm:ml-11",children:[s.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 bg-gray-400 rounded-full flex items-center justify-center text-white text-xs font-medium flex-shrink-0",children:z.userName.charAt(0).toUpperCase()}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"bg-gray-100 rounded-lg p-2 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-xs font-medium text-gray-900 truncate",children:z.userName}),s.jsx("span",{className:"text-xs text-gray-500 flex-shrink-0 ml-2",children:W(z.created_at)})]}),s.jsx("p",{className:"text-xs text-gray-700 break-words",children:z.message})]})})]},z.id))]},_.id))})})]}),l==="comments"&&s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 border-t border-gray-200 bg-white",children:[h&&s.jsxs("div",{className:"px-3 sm:px-4 py-2 text-xs text-gray-600 bg-blue-50 border-b border-gray-200 flex items-center justify-between",children:[s.jsxs("span",{children:["Replying to"," ",s.jsx("span",{className:"font-medium",children:((ar=b.find(_=>_.id===h))==null?void 0:ar.userName)||"Unknown User"})]}),s.jsx("button",{onClick:()=>g(null),className:"text-gray-400 hover:text-gray-600 ml-2",title:"Cancel reply",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),x.size>0&&s.jsxs("div",{className:"px-3 sm:px-4 py-2 text-xs text-gray-500 bg-gray-50 border-b border-gray-200",children:[Array.from(x.values()).map((_,z)=>s.jsxs("span",{className:"inline-flex items-center",children:[s.jsx("span",{className:"font-medium",children:_.userName}),s.jsx("span",{className:"ml-1",children:"is typing"}),z<x.size-1&&s.jsx("span",{className:"mx-1",children:","})]},z)),s.jsx("span",{className:"ml-1 animate-pulse",children:"..."})]}),s.jsx("div",{className:"p-3 sm:p-4",children:s.jsxs("div",{className:"flex",children:[s.jsx("textarea",{value:i,onChange:pe,onKeyDown:_=>{_.key==="Enter"&&!_.shiftKey&&(_.preventDefault(),Pe())},placeholder:h?"Type your reply...":"Type your message...",rows:1,className:"flex-1 px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border border-gray-300 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent resize-none",style:{minHeight:"40px",maxHeight:"120px"}}),s.jsx("button",{onClick:Pe,disabled:!i.trim()||p,className:"px-3 sm:px-4 py-2 sm:py-3 bg-primary text-white rounded-r-lg hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",style:{minHeight:"40px"},children:s.jsx(hx,{size:14,className:"sm:w-4 sm:h-4"})})]})})]})]})};function pd({searchTerm:e=""}){const{user:t}=Ae(),r=Rn(),{taskId:n}=$m(),[a,o]=d.useState(null);t&&`${t.firstName}${t.lastName}`;const[l,c]=d.useState([]),[i,u]=d.useState([]),[h,g]=d.useState(!0),[p,v]=d.useState("All"),[b,j]=d.useState("All"),[w,y]=d.useState(!1),[m,f]=d.useState(!1),[x,N]=d.useState(!1),[C,k]=d.useState(!1),[S,P]=d.useState(!1),[I,q]=d.useState(null),[V,ee]=d.useState([{id:1,name:"All Tasks",pinned:!0},{id:2,name:"My Tasks",pinned:!1}]),[Q,oe]=d.useState(1),[X,K]=d.useState(null),[D,O]=d.useState(!1),[T,W]=d.useState(null),[$,Z]=d.useState(null),[B,U]=d.useState(!1),[L,R]=d.useState(""),[ie,pe]=d.useState(!1),[Pe,F]=d.useState(""),[te,ce]=d.useState(null),[ne,ht]=d.useState(!1),at=d.useRef(null);d.useEffect(()=>{t&&Rt()},[t]),d.useEffect(()=>{r.pathname==="/my-tasks"&&K(null)},[r.pathname]),d.useEffect(()=>{if(n&&i.length>0&&!ne){console.log("Direct task route navigation:",n);const E=i.find(M=>M.id==n);E?(console.log("Task found for direct route, opening:",E),K(E)):(console.log("Task not found for direct route ID:",n),F("Task not found. It may have been deleted."),pe(!0),ht(!0),setTimeout(()=>{pe(!1),F("")},5e3))}},[n,i,ne]),d.useEffect(()=>{const E=new URLSearchParams(window.location.search),M=E.get("openTaskId"),G=E.get("highlightTaskId"),ke=E.get("fromNotification")==="true";if(console.log("TasksPage URL params:",{openTaskId:M,highlightTaskId:G,fromNotification:ke}),console.log("TasksPage tasksData.length:",i.length),(M||G)&&i.length>0)if(console.log("Processing notification navigation:",{openTaskId:M,highlightTaskId:G,fromNotification:ke}),M){console.log("Opening task directly:",M);const Re=i.find(de=>de.id==M);Re?(console.log("Task found, opening:",Re),K(Re)):ne||(console.log("Task not found for ID:",M),F("Task not found. It may have been deleted."),pe(!0),ht(!0),setTimeout(()=>{pe(!1),F("")},5e3)),setTimeout(()=>{const de=window.location.pathname+window.location.hash;window.history.replaceState({},"",de)},100)}else G&&(console.log("Highlighting task:",G),i.find(de=>de.id==G)?(o(G),setTimeout(()=>{o(null)},3e3)):ne||(F("Task not found. It may have been deleted."),pe(!0),ht(!0),setTimeout(()=>{pe(!1),F("")},5e3)),setTimeout(()=>{const de=window.location.pathname+window.location.hash;window.history.replaceState({},"",de)},100))},[i,r.search]),d.useEffect(()=>{const E=M=>{M.target.closest("[data-dropdown-option]")||M.target.closest("[data-filter-button]")||at.current&&!at.current.contains(M.target)&&y(!1)};return w&&document.addEventListener("mousedown",E),()=>{document.removeEventListener("mousedown",E)}},[w]),d.useEffect(()=>{const E=M=>{M.target.closest("[data-date-filter-button]")||M.target.closest(".date-filter-dropdown")||f(!1)};return m&&document.addEventListener("mousedown",E),()=>{document.removeEventListener("mousedown",E)}},[m]),d.useEffect(()=>{const E=M=>{M.target.closest("[data-view-filter-button]")||M.target.closest(".view-dropdown")||N(!1)};return x&&document.addEventListener("mousedown",E),()=>{document.removeEventListener("mousedown",E)}},[x]),d.useEffect(()=>{if(t&&t.id){console.log(" Initializing Socket.IO connection for TasksPage user:",t.id);const E=bn(Cr.socket.url,{transports:["websocket","polling"],timeout:2e4,forceNew:!0});return ce(E),E.on("connect",()=>{console.log(" TasksPage Socket.IO connected successfully:",E.id),E.emit("join-user-room",t.id)}),E.on("connect_error",M=>{console.error(" TasksPage Socket.IO connection error:",M)}),E.on("disconnect",M=>{console.log(" TasksPage Socket.IO disconnected:",M)}),E.on("task-created",M=>{var de;console.log(" New task created via Socket.IO:",M);const{task:G}=M;(((de=t==null?void 0:t.role)==null?void 0:de.toLowerCase())==="admin"||G.assignBy===(t==null?void 0:t.id)||G.assignTo===(t==null?void 0:t.id))&&(u(Ht=>[...Ht,G].sort((We,Ir)=>new Date(Ir.createdDate)-new Date(We.createdDate))),G.assignTo===(t==null?void 0:t.id)&&(R(`New task "${G.name}" has been assigned to you!`),U(!0),setTimeout(()=>{U(!1),R("")},5e3)))}),E.on("task-updated",M=>{var de;console.log(" Task updated via Socket.IO:",M);const{task:G}=M;(((de=t==null?void 0:t.role)==null?void 0:de.toLowerCase())==="admin"||G.assignBy===(t==null?void 0:t.id)||G.assignTo===(t==null?void 0:t.id))&&(u(Ht=>Ht.map(We=>We.id===G.id?{...G}:We).sort((We,Ir)=>new Date(Ir.createdDate)-new Date(We.createdDate))),X&&X.id===G.id&&K(G))}),E.on("task-deleted",M=>{console.log(" Task deleted via Socket.IO:",M);const{taskId:G}=M;u(ke=>ke.filter(de=>de.id!==parseInt(G))),X&&X.id===parseInt(G)&&K(null)}),()=>{console.log(" Cleaning up TasksPage Socket.IO connection"),E.emit("leave-user-room",t.id),E.disconnect()}}},[t]);const Rt=async()=>{try{const E={user_id:t.id};console.log("TasksPage fetchTasks - User ID:",t==null?void 0:t.id,"params:",E);const G=(await se.getTasks(E)).sort((ke,Re)=>new Date(Re.createdDate)-new Date(ke.createdDate));u(G),console.log("Tasks fetched:",G)}catch(E){console.error("Error fetching tasks:",E)}finally{g(!1)}},kt=i.filter(E=>{const M=e===""||E.name.toLowerCase().includes(e.toLowerCase())||E.assignToName&&E.assignToName.toLowerCase().includes(e.toLowerCase())||E.assignByName&&E.assignByName.toLowerCase().includes(e.toLowerCase())||E.description&&E.description.toLowerCase().includes(e.toLowerCase()),G=p==="All"||E.status===p;let ke=!0;if(b!=="All"){const de=new Date,Ht=new Date(de.getFullYear(),de.getMonth(),de.getDate()),Ue=new Date(Ht);Ue.setDate(Ue.getDate()+1);const We=new Date(de);We.setDate(de.getDate()-de.getDay());const Ir=new Date(We);Ir.setDate(Ir.getDate()+7);const Th=new Date(de.getFullYear(),de.getMonth(),1),Ph=new Date(de.getFullYear(),de.getMonth()+1,1);if(b==="Today"){let or=!1;if(E.dueDate&&new Date(E.dueDate),E.createdDate){const Pc=new Date(E.createdDate);or=Pc>=Ht&&Pc<Ue}ke=or}else if(b==="This Week")if(E.dueDate){const or=new Date(E.dueDate);ke=or>=We&&or<Ir}else ke=!1;else if(b==="This Month")if(E.dueDate){const or=new Date(E.dueDate);ke=or>=Th&&or<Ph}else ke=!1}let Re=!0;return Q===2?Re=E.assignTo===(t==null?void 0:t.id):Q===3?Re=E.status==="New":Q===4?Re=E.status==="Completed":Q===5&&(Re=E.dueDate&&new Date(E.dueDate)<new Date&&E.status!=="Completed"),M&&G&&ke&&Re}),ar=async E=>{var G;const M=i.find(ke=>ke.id===E);if(M){if(((G=t==null?void 0:t.role)==null?void 0:G.toLowerCase())!=="admin"){W(M),Z("Access denied: Only administrators can delete tasks. Regular users can only create tasks."),O(!0);return}W(M),O(!0)}},_=E=>{console.log("all tasks ========>",i);const M=i.find(G=>G.id===E);console.log("edit record=======>",M,M.dueDate),c(M.dueDate||[]),M&&(q(M),P(!0),k(!0))},z=E=>{ar(E)},me=async()=>{var E,M,G,ke,Re,de,Ht;if(T){Z(null);try{console.log(" DEBUG: Starting delete operation for task ID:",T.id),await se.deleteTask(T.id),console.log(" DEBUG: Delete successful, removing from UI"),u(i.filter(Ue=>Ue.id!==T.id)),O(!1),W(null),Z(null),R(`Task "${T.name}" has been deleted successfully!`),U(!0),setTimeout(()=>{U(!1),R("")},3e3)}catch(Ue){if(console.error(" DEBUG: Delete operation error:",Ue),console.error("Error response:",Ue.response),console.error("Error response data:",(E=Ue.response)==null?void 0:E.data),(G=(M=Ue.response)==null?void 0:M.data)!=null&&G.pendingTasks){console.log("Task validation error detected for delete");const We=Ue.response.data.message||"Cannot delete this task because it has pending dependencies.";console.log("Setting delete task error message:",We),Z(We)}else{const We=((Re=(ke=Ue.response)==null?void 0:ke.data)==null?void 0:Re.message)||((Ht=(de=Ue.response)==null?void 0:de.data)==null?void 0:Ht.error)||Ue.message||"An error occurred while deleting the task. Check console for details.";console.log("Setting delete generic error message:",We),Z(We)}}}},ze=()=>{O(!1),W(null),Z(null)},St=async E=>{const M={...E,user_id:t==null?void 0:t.id};try{const G=await se.createTask(M);console.log("Task created:",G),R(`Task "${E.name}" has been successfully assigned!`),U(!0),setTimeout(()=>{U(!1),R("")},5e3),k(!1),P(!1),q(null)}catch(G){console.error("Error creating task:",G)}},Ct=async E=>{console.log("----------before updated-----------------"),console.log("updated form data",E);try{const M=await se.updateTask(I.id,E);console.log("updated form response",M),k(!1),P(!1),q(null)}catch(M){console.error("Error updating task:",M)}},zr=E=>{switch(E){case"Completed":return"bg-green-100 text-green-700 border-green-200";case"Working":return"bg-blue-100 text-blue-700 border-blue-200";case"New":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"On Hold":return"bg-orange-100 text-orange-700 border-orange-200";case"Cancelled":return"bg-red-100 text-red-700 border-red-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},Rr=E=>{switch(E){case"High":return"bg-red-100 text-red-700 border-red-200";case"Medium":return"bg-orange-100 text-orange-700 border-orange-200";case"Low":return"bg-green-100 text-green-700 border-green-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},Gs=E=>Qs(E),Fo=[{key:"name",title:"Task Name",width:"27%"},{key:"assignByName",title:"Assigned By",width:"16%"},{key:"assignToName",title:"Assigned To",width:"16%"},{key:"status",title:"Status",width:"12%"},{key:"createdDate",title:"Created Date",width:"15%"},{key:"dueDate",title:"Due Date",width:"14%"},{key:"actions",title:"Actions",align:"center",width:"0%"}],ve=(E,M)=>{switch(E){case"name":return s.jsx("div",{className:"max-w-xs truncate text-blue-600 hover:text-blue-800 cursor-pointer hover:underline",title:M.description,onClick:()=>K(M),children:M.name});case"assignByName":const G=M.assignByName||M.assignBy;return s.jsx("span",{className:M.assignByStatus==="Deleted"?"line-through text-gray-500":"",title:M.assignByStatus==="Deleted"?"This user has been deleted":"",children:G});case"assignToName":const ke=M.assignToName||M.assignTo;return s.jsx("span",{className:M.assignToStatus==="Deleted"?"line-through text-gray-500":"",title:M.assignToStatus==="Deleted"?"This user has been deleted":"",children:ke});case"status":return s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-normal rounded-full ${zr(M.status)}`,children:M.status});case"createdDate":return Gs(M.createdDate);case"dueDate":return Gs(M.dueDate);default:return M[E]}};return s.jsxs("div",{className:"flex-1 flex flex-col hero-section",children:[s.jsx("div",{className:"flex-1 flex",children:s.jsx("main",{className:"flex-1 overflow-hidden px-4 sm:px-6 py-4 space-y-4 md:pb-4 pb-24",children:s.jsx("div",{className:"bg-white rounded-xl border borderr flex flex-col overflow-hidden",style:{height:window.innerWidth<640?"calc(100vh - 180px)":"calc(100vh - 90px)"},children:X?s.jsx(Uv,{selectedTask:X,onClose:()=>K(null),onTaskUpdate:E=>K(E)}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"sticky top-0 z-10 bg-white rounded-t-xl border-b border-gray-200 shadow-sm flex-shrink-0",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between px-3 sm:px-6 pt-2 pb-2",children:[s.jsxs("div",{className:"flex items-center justify-end gap-2 w-full py-0 flex-wrap sm:hidden",children:[s.jsxs("div",{className:"relative flex-shrink-0",children:[s.jsxs("button",{"data-view-filter-button":"true",onClick:()=>N(!x),className:"flex items-center gap-0 text-gray-600 hover:text-gray-800 border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-1 focus:ring-blue-500 active:shadow-md transition-all shadow-sm",style:{height:"28px",width:"90px"},title:"Select view",children:[s.jsx("div",{className:"flex items-center justify-center w-5 h-full bg-gray-100 rounded-l-lg border-r border-gray-300",children:s.jsx("svg",{className:"w-3 h-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),s.jsx("span",{className:"text-center font-medium",style:{fontWeight:"500",fontSize:"10px",padding:"0 4px"},children:Q===1?"All Tasks":Q===2?"My Tasks":"All Tasks"})]}),x&&s.jsx("div",{className:"view-dropdown absolute top-full mt-1 left-0 z-50 bg-white border border-gray-200 rounded-md shadow-lg w-24 py-1",children:V.map(E=>s.jsxs("button",{"data-dropdown-option":"true",onClick:()=>{oe(E.id),N(!1)},className:`w-full flex items-center justify-between px-2 py-1.5 text-left text-xs hover:bg-blue-50 transition-colors ${Q===E.id?"bg-blue-50 text-blue-600 font-medium":"text-gray-700"}`,children:[s.jsx("span",{children:E.id===1?"All Tasks":E.id===2?"My Tasks":E.name}),Q===E.id&&s.jsx("svg",{className:"w-3 h-3 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})]},E.id))})]}),s.jsxs("div",{className:"relative flex-shrink-0",children:[s.jsxs("button",{"data-date-filter-button":"true",onClick:()=>f(!m),className:"flex items-center gap-0 text-gray-600 hover:text-gray-800 border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-1 focus:ring-blue-500 active:shadow-md transition-all shadow-sm",style:{height:"28px",fontSize:"10px"},title:"Filter by date",children:[s.jsx("div",{className:"flex items-center justify-center w-5 h-full bg-gray-100 rounded-l-lg border-r border-gray-300",children:s.jsx($t,{size:10})}),s.jsx("span",{className:"truncate",style:{fontWeight:"400",padding:"0 3px"},children:b==="All"?"All Tasks":b==="Today"?"Today's Task":b==="This Week"?"This Week Task":b==="This Month"?"This Month Task":"All Tasks"})]}),m&&s.jsx("div",{className:"date-filter-dropdown absolute top-full mt-1 left-1/2 transform -translate-x-1/2 z-50 bg-white border border-gray-200 rounded-lg shadow-lg w-32 py-1",children:[{value:"All",label:"All Tasks"},{value:"Today",label:"Today's Task"},{value:"This Week",label:"This Week Task"},{value:"This Month",label:"This Month Task"}].map(E=>s.jsxs("button",{onClick:()=>{j(E.value),f(!1)},className:`w-full flex items-center justify-between px-2 py-1 text-left text-xs hover:bg-gray-50 transition-colors ${b===E.value?"text-blue-600 font-medium":"text-gray-700"}`,children:[s.jsx("span",{children:E.label}),b===E.value&&s.jsx(lt,{className:"text-blue-600",size:12})]},E.value))})]}),s.jsxs("div",{className:"relative flex-shrink-0",children:[s.jsx("button",{"data-filter-button":"true",onClick:()=>y(!w),className:`flex items-center justify-center w-8 h-7 text-gray-600 hover:text-gray-800 border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-1 focus:ring-blue-500 active:shadow-md transition-all shadow-sm ${p!=="All"?"bg-blue-50 border-blue-300":""}`,title:"Filter by status",children:s.jsx(Tn,{size:14,className:p!=="All"?"text-blue-600":""})}),w&&s.jsx("div",{ref:at,className:"absolute top-full mt-1 left-0 z-50 bg-white border border-gray-200 rounded-lg shadow-lg w-32 py-1","data-dropdown":"status-filter",children:[{value:"All",label:"All Status"},{value:"New",label:"New"},{value:"Working",label:"Working"},{value:"Completed",label:"Completed"},{value:"On Hold",label:"On Hold"},{value:"Cancelled",label:"Cancelled"}].map(E=>s.jsxs("button",{"data-dropdown-option":"true",onClick:M=>{M.stopPropagation(),v(E.value),y(!1)},className:`w-full flex items-center justify-between px-2 py-1 text-left text-xs hover:bg-gray-50 transition-colors ${p===E.value?"text-blue-600 font-medium":"text-gray-700"}`,children:[s.jsx("span",{children:E.label}),p===E.value&&s.jsx(lt,{className:"text-blue-600",size:12})]},E.value))})]}),s.jsx("div",{className:"flex-shrink-0",children:s.jsxs("button",{onClick:()=>k(!0),className:"flex items-center justify-center px-2 py-1.5 text-white text-sm font-medium rounded-lg hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all shadow-sm",style:{backgroundColor:"var(--primary-color)",borderColor:"var(--primary-color)",height:"28px",fontSize:"10px"},children:[s.jsx(Pn,{size:12,color:"#ffffff"}),s.jsx("span",{className:"hidden",style:{fontWeight:"400",lineHeight:"18px",marginLeft:"2px"},children:"New"})]})})]}),s.jsx("div",{className:"hidden sm:flex items-center gap-3 mb-3 sm:mb-0",children:s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>N(!x),className:"flex items-center gap-0 text-gray-600 hover:text-gray-800 border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-1 focus:ring-blue-500 active:shadow-md transition-all shadow-sm",style:{height:"30px"},title:"Select view",children:[s.jsx("div",{className:"flex items-center justify-center w-7 h-full bg-gray-100 rounded-l-lg border-r border-gray-300",children:s.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),s.jsx("span",{className:"truncate",style:{fontWeight:"400",fontSize:"12px",lineHeight:"18px",padding:"0 8px"},children:Q===1?"All Tasks":Q===2?"My Tasks":"All Tasks"})]}),x&&s.jsx("div",{className:"view-dropdown absolute top-full mt-2 left-0 z-50 bg-white border border-gray-200 rounded-lg shadow-lg w-40 py-1",children:V.map(E=>s.jsxs("button",{"data-dropdown-option":"true",onClick:()=>{oe(E.id),N(!1)},className:`w-full flex items-center justify-between px-3 py-1.5 text-left text-xs hover:bg-gray-50 transition-colors ${Q===E.id?"text-blue-600 font-medium":"text-gray-700"}`,children:[s.jsx("span",{children:E.id===1?"All Tasks":E.id===2?"My Tasks":E.name}),Q===E.id&&s.jsx(lt,{className:"text-blue-600",size:14})]},E.id))})]})}),s.jsxs("div",{className:"hidden sm:flex items-center justify-end gap-2 sm:gap-3 w-full sm:w-auto py-0 flex-wrap",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>f(!m),className:"flex items-center gap-0 text-gray-600 hover:text-gray-800 border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-1 focus:ring-blue-500 active:shadow-md transition-all shadow-sm",style:{height:"30px"},title:"Filter by date",children:[s.jsx("div",{className:"flex items-center justify-center w-7 h-full bg-gray-100 rounded-l-lg border-r border-gray-300",children:s.jsx($t,{size:14})}),s.jsx("span",{className:"truncate",style:{fontWeight:"400",fontSize:"12px",lineHeight:"18px",padding:"0 8px"},children:b==="All"?"All Tasks":b==="Today"?"Today's Task":b==="This Week"?"This Week Task":b==="This Month"?"This Month Task":"All Tasks"})]}),m&&s.jsx("div",{className:"date-filter-dropdown absolute top-full mt-2 left-1/2 transform -translate-x-1/2 z-50 bg-white border border-gray-200 rounded-lg shadow-lg w-40 py-1",children:[{value:"All",label:"All Tasks"},{value:"Today",label:"Today's Task"},{value:"This Week",label:"This Week Task"},{value:"This Month",label:"This Month Task"}].map(E=>s.jsxs("button",{onClick:()=>{j(E.value),f(!1)},className:`w-full flex items-center justify-between px-3 py-1.5 text-left text-xs hover:bg-gray-50 transition-colors ${b===E.value?"text-blue-600 font-medium":"text-gray-700"}`,children:[s.jsx("span",{children:E.label}),b===E.value&&s.jsx(lt,{className:"text-blue-600",size:14})]},E.value))})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>y(!w),className:"flex items-center gap-0 text-gray-600 hover:text-gray-800 border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-1 focus:ring-blue-500 active:shadow-md transition-all shadow-sm",style:{height:"30px"},title:"Filter by status",children:[s.jsx("div",{className:"flex items-center justify-center w-7 h-full bg-gray-100 rounded-l-lg border-r border-gray-300",children:s.jsx(Tn,{size:14})}),s.jsx("span",{className:"hidden sm:inline",style:{fontWeight:"400",fontSize:"12px",lineHeight:"18px",padding:"0 8px"},children:p==="All"?"All Status":p==="New"?"New":p==="Working"?"Working":p==="Completed"?"Completed":p==="On Hold"?"On Hold":p==="Cancelled"?"Cancelled":"All Status"})]}),w&&s.jsx("div",{ref:at,className:"absolute top-full mt-2 left-1/2 transform -translate-x-1/2 z-50 bg-white border border-gray-200 rounded-lg shadow-lg w-40 py-1",children:[{value:"All",label:"All Status"},{value:"New",label:"New"},{value:"Working",label:"Working"},{value:"Completed",label:"Completed"},{value:"On Hold",label:"On Hold"},{value:"Cancelled",label:"Cancelled"}].map(E=>s.jsxs("button",{onClick:()=>{v(E.value),y(!1)},className:`w-full flex items-center justify-between px-3 py-1.5 text-left text-xs hover:bg-gray-50 transition-colors ${p===E.value?"text-blue-600 font-medium":"text-gray-700"}`,children:[s.jsx("span",{children:E.label}),p===E.value&&s.jsx(lt,{className:"text-blue-600",size:14})]},E.value))})]}),s.jsxs("button",{onClick:()=>k(!0),className:"flex items-center gap-1 px-2 py-1.5 text-white text-sm font-medium rounded-lg hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all shadow-sm",style:{backgroundColor:"var(--primary-color)",borderColor:"var(--primary-color)"},children:[s.jsx(Pn,{size:17,color:"#ffffff"}),s.jsx("span",{className:"hidden sm:inline",style:{fontWeight:"400",fontSize:"12px",lineHeight:"18px"},children:"New"})]})]})]})}),s.jsxs("div",{className:"flex-1 overflow-auto",children:[s.jsx("div",{className:"block sm:hidden p-4",children:kt.length===0?s.jsxs("div",{className:"text-center py-12 px-4",children:[s.jsx(Ao,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No tasks found"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by adding a new task."})]}):s.jsx("div",{className:"space-y-2",children:kt.map(E=>{var M;return s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-3 pb-1 shadow-sm hover:shadow-md transition-shadow cursor-pointer",onClick:()=>K(E),children:[s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsx("div",{className:"flex-1 min-w-0 flex items-center gap-3",children:s.jsx("h3",{className:"text-sm font-semibold text-blue-600 hover:text-blue-800 cursor-pointer hover:underline ",title:E.description,children:E.name})}),s.jsx("div",{className:"flex items-center ml-3",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full border ${zr(E.status)}`,children:E.status})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3 text-xs text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(bt,{className:"text-purple-600 flex-shrink-0",size:14}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"font-medium",children:"By:"}),s.jsx("div",{className:"truncate",children:ve("assignByName",E)})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jc,{className:"text-blue-600 flex-shrink-0",size:14}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"font-medium",children:"To:"}),s.jsx("div",{className:"truncate",children:ve("assignToName",E)})]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-1 text-xs text-gray-600 px-1 py-1",onClick:G=>G.stopPropagation(),children:[s.jsxs("div",{className:"flex flex-col items-start",children:[s.jsx("span",{className:"font-medium text-xs leading-tight mb-0.5",children:"Priority"}),s.jsx("span",{className:`inline-flex px-1 py-0.5 text-xs font-medium rounded border text-xs leading-tight ${Rr(E.priority)}`,children:E.priority})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("span",{className:"font-medium text-xs leading-tight mb-0.5",children:"Due"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx($t,{className:"text-orange-500 flex-shrink-0 mr-0.5",size:8}),s.jsx("span",{className:`text-xs leading-tight ${E.dueDate&&new Date(E.dueDate)<new Date&&E.status!=="Completed"?"text-red-600 font-medium":""}`,children:ve("dueDate",E)})]})]}),s.jsx("div",{className:"flex flex-col items-end",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(vt,{icon:fo,type:"edit",title:"Edit",onClick:()=>_(E.id),disabled:E.status==="Completed",mobileSize:!0}),((M=t==null?void 0:t.role)==null?void 0:M.toLowerCase())==="admin"&&s.jsx(vt,{icon:ed,type:"delete",title:"Delete",onClick:()=>z(E.id),mobileSize:!0})]})})]})]},E.id)})})}),s.jsx(Mo,{data:kt,columns:Fo,loading:h,emptyMessage:"No tasks found",emptyDescription:"Get started by adding a new task.",onEdit:_,onDelete:z,renderCell:ve,loadingMessage:"Loading tasks...",keyField:"id",user:t})]})]})})})}),s.jsx($v,{isOpen:C,onClose:()=>{k(!1),P(!1),q(null)},onSubmit:S?Ct:St,isEdit:S,taskToEdit:I,dueDates:l}),B&&s.jsx("div",{className:"fixed top-4 right-4 z-[1200] bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg",children:s.jsx("p",{className:"text-sm font-medium",style:{fontFamily:"var(--font-family)"},children:L})}),ie&&s.jsx("div",{className:"fixed top-4 right-4 z-[1200] bg-red-500 text-white px-4 py-2 rounded-lg shadow-lg",children:s.jsx("p",{className:"text-sm font-medium",style:{fontFamily:"var(--font-family)"},children:Pe})}),D&&T&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[1200] p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mr-4",children:s.jsx(ed,{className:"text-red-600",size:20})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",style:{fontFamily:"var(--font-family)"},children:"Delete Task"}),s.jsx("p",{className:"text-sm text-gray-600",style:{fontFamily:"var(--font-family)"},children:"This action cannot be undone"})]})]}),s.jsx("div",{className:"mb-6",children:$?s.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-5 h-5 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:s.jsx("svg",{className:"w-3 h-3 text-red-600",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-sm font-medium text-red-800 mb-1",style:{fontFamily:"var(--font-family)"},children:"Unable to Delete Task"}),s.jsx("div",{className:"text-sm text-red-700 whitespace-pre-line",style:{fontFamily:"var(--font-family)"},children:$})]})]})}):s.jsxs("p",{className:"text-gray-700",style:{fontFamily:"var(--font-family)"},children:["Are you sure you want to delete ",s.jsx("strong",{children:T.name}),"? This will permanently remove the task from the system."]})}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx("button",{onClick:ze,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",style:{fontFamily:"var(--font-family)"},children:"Cancel"}),s.jsx("button",{onClick:me,disabled:!!$,className:`px-4 py-2 rounded-lg transition-colors ${$?"bg-gray-300 text-gray-500 cursor-not-allowed opacity-50":"bg-red-600 text-white hover:bg-red-700"}`,style:{fontFamily:"var(--font-family)"},title:$?"Cannot delete task with dependencies":"Delete this task",children:"Delete Task"})]})]})})]})}const ms="/assets/logo-big-DepOQynw.png",Wv=()=>{const{login:e,isAuthenticated:t,requiresPasswordChange:r}=Ae(),n=In();d.useEffect(()=>{t()&&n("/dashboard",{replace:!0})},[t,n]);const[a,o]=d.useState("login"),[l,c]=d.useState(!1),[i,u]=d.useState(!1),[h,g]=d.useState(""),[p,v]=d.useState({identifier:"",password:"",resetEmail:""}),[b,j]=d.useState({}),[w,y]=d.useState(""),m=C=>{const{name:k,value:S}=C.target;v(P=>({...P,[k]:S})),b[k]&&j(P=>({...P,[k]:""}))},f=()=>{const C={};return a==="login"?(p.identifier.trim()||(C.identifier="Email or Phone is required"),p.password||(C.password="Password is required")):a==="forgot"&&(p.resetEmail.trim()?/\S+@\S+\.\S+/.test(p.resetEmail)||(C.resetEmail="Email is invalid"):C.resetEmail="Email is required"),j(C),Object.keys(C).length===0},x=async C=>{if(C.preventDefault(),y(""),!!f()){u(!0),await new Promise(k=>setTimeout(k,2e3));try{if(a==="login"){console.log("Attempting login with:",{identifier:p.identifier,password:p.password});const k=await se.login({identifier:p.identifier,password:p.password});console.log("Login response:",k),e(k.token,k.user),y("Login successful! Redirecting..."),setTimeout(()=>{window.location.href="/#/dashboard"},1500)}else if(a==="forgot"){const k=await se.forgotPassword({email:p.resetEmail});y("Password reset link sent to your email!"),console.log("Password reset request successful")}}catch(k){let S="An unexpected error occurred. Please try again.";k.message?S=k.message:navigator.onLine?k.name==="TypeError"&&k.message.includes("fetch")&&(S="Unable to connect to the server. Please check your internet connection."):S="No internet connection. Please check your network and try again.",j({general:S})}finally{u(!1)}}},N=()=>{v({identifier:"",password:"",resetEmail:""}),j({}),y("")};return d.useEffect(()=>{if(i){g(".");const C=setInterval(()=>{g(k=>k==="."?"..":k===".."?"...":k==="..."?"....":".")},300);return()=>clearInterval(C)}else g("")},[i]),s.jsxs("div",{className:"min-h-screen flex",children:[s.jsxs("div",{className:"fixed inset-0",children:[s.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat filter blur-sm",style:{backgroundImage:'url("https://images.unsplash.com/photo-1541888946425-d81bb19240f5?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80")'}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-50/80 via-orange-50/70 to-yellow-50/80"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-200/20 via-orange-100/15 to-yellow-200/20"}),s.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:`
              linear-gradient(45deg, rgba(255, 255, 255, 0.1) 25%, transparent 25%),
              linear-gradient(-45deg, rgba(255, 255, 255, 0.1) 25%, transparent 25%),
              linear-gradient(45deg, transparent 75%, rgba(255, 255, 255, 0.1) 75%),
              linear-gradient(-45deg, transparent 75%, rgba(255, 255, 255, 0.1) 75%)
            `,backgroundSize:"20px 20px"}})]}),s.jsxs("div",{className:"relative z-10 flex w-full min-h-screen",children:[s.jsx("div",{className:"hidden lg:flex lg:w-1/2 flex-col justify-center items-center p-12",children:s.jsxs("div",{className:"max-w-md text-center",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"w-24 h-24 mx-auto mb-4 rounded-2xl overflow-hidden shadow-2xl transform hover:scale-105 transition-transform duration-300",children:s.jsx("img",{src:ms,alt:"Nirmaan Tracker Logo",className:"w-full h-full object-cover"})}),s.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-amber-700 to-orange-600 bg-clip-text text-transparent mb-2",children:"Nirmaan Tracker"}),s.jsx("p",{className:"text-gray-700 font-medium text-base",children:"Construction Management Platform"}),s.jsx("p",{className:"text-gray-600 text-sm mt-2",children:"Streamline your construction projects"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3 max-w-sm",children:[s.jsxs("div",{className:"bg-amber-100/60 backdrop-blur-sm rounded-xl p-4 text-center hover:shadow-2xl hover:bg-amber-200/70 transition-all duration-300 transform hover:-translate-y-1 cursor-pointer group border border-amber-300/50",children:[s.jsx(px,{className:"mx-auto mb-2 text-amber-700 group-hover:text-amber-800 transition-colors",size:24}),s.jsx("p",{className:"text-xs font-medium text-gray-700",children:"Safety First"})]}),s.jsxs("div",{className:"bg-orange-100/60 backdrop-blur-sm rounded-xl p-4 text-center hover:shadow-2xl hover:bg-orange-200/70 transition-all duration-300 transform hover:-translate-y-1 cursor-pointer group border border-orange-300/50",children:[s.jsx(gx,{className:"mx-auto mb-2 text-orange-700 group-hover:text-orange-800 transition-colors",size:24}),s.jsx("p",{className:"text-xs font-medium text-gray-700",children:"Equipment"})]}),s.jsxs("div",{className:"bg-amber-100/60 backdrop-blur-sm rounded-xl p-4 text-center hover:shadow-2xl hover:bg-amber-200/70 transition-all duration-300 transform hover:-translate-y-1 cursor-pointer group border border-amber-300/50",children:[s.jsx(ix,{className:"mx-auto mb-2 text-amber-700 group-hover:text-amber-800 transition-colors",size:24}),s.jsx("p",{className:"text-xs font-medium text-gray-700",children:"Analytics"})]}),s.jsxs("div",{className:"bg-orange-100/60 backdrop-blur-sm rounded-xl p-4 text-center hover:shadow-2xl hover:bg-orange-200/70 transition-all duration-300 transform hover:-translate-y-1 cursor-pointer group border border-orange-300/50",children:[s.jsx(Do,{className:"mx-auto mb-2 text-orange-700 group-hover:text-orange-800 transition-colors",size:24}),s.jsx("p",{className:"text-xs font-medium text-gray-700",children:"Security"})]}),s.jsxs("div",{className:"bg-amber-100/60 backdrop-blur-sm rounded-xl p-4 text-center hover:shadow-2xl hover:bg-amber-200/70 transition-all duration-300 transform hover:-translate-y-1 cursor-pointer group border border-amber-300/50",children:[s.jsx(Ym,{className:"mx-auto mb-2 text-amber-700 group-hover:text-amber-800 transition-colors",size:24}),s.jsx("p",{className:"text-xs font-medium text-gray-700",children:"Timeline"})]}),s.jsxs("div",{className:"bg-orange-100/60 backdrop-blur-sm rounded-xl p-4 text-center hover:shadow-2xl hover:bg-orange-200/70 transition-all duration-300 transform hover:-translate-y-1 cursor-pointer group border border-orange-300/50",children:[s.jsx(xx,{className:"mx-auto mb-2 text-orange-700 group-hover:text-orange-800 transition-colors",size:24}),s.jsx("p",{className:"text-xs font-medium text-gray-700",children:"Team"})]})]})]})}),s.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-4",children:s.jsx("div",{className:"w-full max-w-md bg-white/80 backdrop-blur-md rounded-3xl shadow-2xl border border-gray-100 overflow-hidden",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"text-center mb-6",children:[a==="forgot"&&s.jsxs("button",{onClick:()=>{o("login"),N()},className:"flex items-center gap-2 text-gray-600 hover:text-gray-800 mb-4 transition-colors group",children:[s.jsx(bc,{size:16,className:"group-hover:-translate-x-1 transition-transform"}),"Back to Login"]}),s.jsxs("div",{className:"lg:hidden mb-6",children:[s.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-2xl overflow-hidden shadow-xl transform hover:scale-105 transition-transform",children:s.jsx("img",{src:ms,alt:"Nirmaan Tracker Logo",className:"w-full h-full object-cover"})}),s.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-amber-700 to-orange-600 bg-clip-text text-transparent",children:"Nirmaan Tracker"})]}),s.jsxs("h2",{className:"text-3xl font-bold bg-gradient-to-r from-amber-700 to-orange-600 bg-clip-text text-transparent mb-3",children:[a==="login"&&"Welcome",a==="forgot"&&"Reset Password"]}),s.jsxs("p",{className:"text-gray-700 font-medium",children:[a==="login"&&"Sign in to your Nirmaan Tracker account",a==="forgot"&&"Enter your email to reset password"]})]}),w&&s.jsx("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:s.jsx("p",{className:"text-green-800 text-sm",children:w})}),b.general&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsx("p",{className:"text-red-800 text-sm",children:b.general})}),s.jsxs("form",{onSubmit:x,className:"space-y-4",children:[a==="login"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email / Phone"}),s.jsxs("div",{className:"relative",children:[s.jsx(bt,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"text",name:"identifier",value:p.identifier,onChange:m,className:`w-full pl-12 pr-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-blue-200 focus:border-transparent transition-all duration-300 ${b.identifier?"border-red-300 bg-red-50":"border-gray-200 hover:border-gray-300"}`,placeholder:"Enter email or phone"})]}),b.identifier&&s.jsx("p",{className:"mt-2 text-sm text-red-600 font-medium",children:b.identifier})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Xt,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:l?"text":"password",name:"password",value:p.password,onChange:m,className:`w-full pl-12 pr-12 py-3 border-2 rounded-xl focus:ring-4 focus:ring-blue-200 focus:border-transparent transition-all duration-300 ${b.password?"border-red-300 bg-red-50":"border-gray-200 hover:border-gray-300"}`,placeholder:"Enter your password"}),s.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:l?s.jsx(zs,{size:20}):s.jsx(Rs,{size:20})})]}),b.password&&s.jsx("p",{className:"mt-2 text-sm text-red-600 font-medium",children:b.password})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{type:"button",onClick:()=>{o("forgot"),N()},className:"text-sm text-blue-600 hover:text-blue-800 transition-colors",children:"Forgot Password?"})})]}),a==="forgot"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(en,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),s.jsx("input",{type:"email",name:"resetEmail",value:p.resetEmail,onChange:m,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${b.resetEmail?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Enter your email address"})]}),b.resetEmail&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.resetEmail})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Xu,{className:"text-blue-600 mt-0.5 flex-shrink-0",size:16}),s.jsxs("div",{className:"text-sm text-blue-800",children:[s.jsx("p",{className:"font-medium mb-1",children:"Password Reset"}),s.jsx("p",{children:"Enter your email address and we'll send you a link to reset your password."})]})]})})]}),s.jsx("button",{type:"submit",disabled:i,className:"w-full bg-gradient-to-r from-amber-700 to-orange-600 text-white py-4 px-6 rounded-xl hover:from-amber-800 hover:to-orange-700 focus:ring-4 focus:ring-amber-200 focus:ring-offset-2 transition-all duration-300 font-semibold disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-3 transform hover:scale-105",children:i?s.jsxs(s.Fragment,{children:[s.jsx(Zu,{size:20}),s.jsxs("span",{children:["Signing in",s.jsx("span",{className:"text-sm font-light",children:h})]})]}):s.jsxs(s.Fragment,{children:[a==="login"&&s.jsxs(s.Fragment,{children:[s.jsx(Zu,{size:20})," ",s.jsx("span",{children:"Sign in"})]}),a==="forgot"&&s.jsxs(s.Fragment,{children:[s.jsx(Xu,{size:20})," ",s.jsx("span",{children:"Send Reset Link"})]})]})})]})]})})})]})]})},ba=({label:e,required:t,type:r="text",value:n,onChange:a,placeholder:o,error:l,...c})=>s.jsxs("div",{className:"relative",style:{marginBottom:"var(--form-margin-bottom)"},children:[s.jsxs("label",{className:"absolute -top-2 left-3 bg-white px-1 text-gray-500 uppercase tracking-wider",style:{fontFamily:"var(--font-family)",fontSize:"var(--label-font-size)",fontWeight:"var(--label-font-weight)"},children:[e,t&&s.jsx("span",{style:{color:"var(--secondary-color)",fontFamily:"var(--font-family)"},className:"ml-1",children:"*"})]}),s.jsx("input",{type:r,value:n,onChange:a,placeholder:o,style:{width:"100%",height:"var(--input-height)",padding:"var(--input-padding)",paddingTop:"16px",paddingLeft:"12px",fontSize:"var(--placeholder-font-size)",fontFamily:"var(--font-family)",fontWeight:"normal",lineHeight:"24px",border:`1px solid ${l?"var(--secondary-color)":"var(--input-border-color)"}`,borderRadius:"var(--input-border-radius)",backgroundColor:"var(--input-bg-color)",color:"var(--input-text-color)",outline:"none",transition:"border-color 0.2s"},onFocus:i=>i.target.style.borderColor=l?"var(--secondary-color)":"var(--input-focus-border-color)",onBlur:i=>i.target.style.borderColor=l?"var(--secondary-color)":"var(--input-border-color)",...c}),l&&s.jsx("p",{style:{color:"var(--secondary-color)",fontFamily:"var(--font-family)",fontSize:"var(--error-font-size)",marginTop:"4px"},children:l})]}),gd=({label:e,required:t,options:r=[],value:n,onChange:a,placeholder:o})=>{const[l,c]=d.useState(!1),i=d.useRef(null);d.useEffect(()=>{const h=g=>{l&&i.current&&!i.current.contains(g.target)&&c(!1)};return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[l]);const u=h=>{a(h),c(!1)};return s.jsxs("div",{ref:i,className:"relative",style:{marginBottom:"var(--form-margin-bottom)"},children:[s.jsxs("label",{className:"absolute -top-2 left-3 bg-white px-1 text-gray-500 uppercase tracking-wider",style:{fontFamily:"var(--font-family)",fontSize:"var(--label-font-size)",fontWeight:"var(--label-font-weight)"},children:[e,t&&s.jsx("span",{style:{color:"var(--secondary-color)",fontFamily:"var(--font-family)"},className:"ml-1",children:"*"})]}),s.jsxs("div",{onClick:()=>c(!l),style:{width:"100%",height:"var(--input-height)",padding:"var(--input-padding)",paddingTop:"16px",paddingLeft:"12px",fontSize:"var(--placeholder-font-size)",fontFamily:"var(--font-family)",fontWeight:"normal",lineHeight:"24px",border:"1px solid var(--input-border-color)",borderRadius:"var(--input-border-radius)",backgroundColor:"var(--input-bg-color)",color:"var(--input-text-color)",outline:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",transition:"border-color 0.2s"},onFocus:h=>h.target.style.borderColor="var(--input-focus-border-color)",onBlur:h=>h.target.style.borderColor="var(--input-border-color)",children:[s.jsx("span",{style:{color:n?"var(--input-text-color)":"var(--input-placeholder-color)",fontSize:"var(--placeholder-font-size)",fontFamily:"var(--font-family)",lineHeight:"24px"},children:n||o}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 text-gray-400 transition-transform ${l?"rotate-180":""}`,viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.24a.75.75 0 01-1.06 0L5.21 8.27a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})]}),l&&s.jsx("div",{className:"absolute top-full left-0 bg-white border border-gray-200 rounded-lg shadow-lg z-50 max-h-48 overflow-y-auto mt-1 w-full",children:r.map((h,g)=>s.jsx("div",{onClick:()=>u(h),style:{padding:"2px 12px",fontSize:"var(--placeholder-font-size)",fontFamily:"var(--font-family)",fontWeight:"normal",color:"var(--input-text-color)",cursor:"pointer",backgroundColor:h===n?"#f3f4f6":"#ffffff",borderBottom:g<r.length-1?"1px solid #f1f5f9":"none"},onMouseEnter:p=>p.target.style.backgroundColor="#f8fafc",onMouseLeave:p=>p.target.style.backgroundColor=h===n?"#f3f4f6":"#ffffff",children:h},g))})]})},Hv=({label:e,required:t,value:r,onChange:n,placeholder:a,error:o})=>{const l=c=>{let i=c.target.value.replace(/\D/g,"");i.length>10&&(i=i.slice(0,10)),n({target:{value:i}})};return s.jsxs("div",{className:"relative",style:{marginBottom:"var(--form-margin-bottom)"},children:[s.jsxs("div",{className:"relative",children:[s.jsxs("label",{className:"absolute -top-2 left-3 bg-white px-1 text-gray-500 uppercase tracking-wider z-10",style:{fontFamily:"var(--font-family)",fontSize:"var(--label-font-size)",fontWeight:"var(--label-font-weight)"},children:[e,t&&s.jsx("span",{style:{color:"var(--secondary-color)",fontFamily:"var(--font-family)"},className:"ml-1",children:"*"})]}),s.jsx("input",{type:"text",value:r,onChange:l,placeholder:a,maxLength:10,style:{width:"100%",height:"var(--input-height)",padding:"var(--input-padding)",paddingTop:"16px",paddingLeft:"12px",fontSize:"var(--placeholder-font-size)",fontFamily:"var(--font-family)",fontWeight:"normal",lineHeight:"24px",border:`1px solid ${o?"var(--secondary-color)":"var(--input-border-color)"}`,borderRadius:"var(--input-border-radius)",backgroundColor:"var(--input-bg-color)",color:"var(--input-text-color)",outline:"none",transition:"border-color 0.2s"},onFocus:c=>c.target.style.borderColor=o?"var(--secondary-color)":"var(--input-focus-border-color)",onBlur:c=>c.target.style.borderColor=o?"var(--secondary-color)":"var(--input-border-color)"})]}),o&&s.jsx("p",{style:{color:"var(--secondary-color)",fontFamily:"var(--font-family)",fontSize:"var(--error-font-size)",marginTop:"4px"},children:o})]})};function Vv({isOpen:e,onClose:t,onSubmit:r,editUser:n}){const[a,o]=d.useState(""),[l,c]=d.useState(""),[i,u]=d.useState(""),[h,g]=d.useState(""),[p,v]=d.useState(""),[b,j]=d.useState(""),[w,y]=d.useState("Active"),[m,f]=d.useState(!1),[x,N]=d.useState(""),[C,k]=d.useState(!1),[S,P]=d.useState("");d.useEffect(()=>{n?(o(n.first_name||n.firstName||""),c(n.last_name||n.lastName||""),u(n.email||""),g(n.username||n.email||""),v(n.phone||""),j(n.role||""),y(n.status||"Active"),k(!1),P("")):I()},[n,e]),d.useEffect(()=>{!n&&i.trim()&&g(i)},[i,n]);const I=()=>{o(""),c(""),u(""),g(""),v(""),j(""),y("Active")},q=async()=>{var V,ee,Q,oe,X,K,D;if(!a.trim()){P("First name is required"),k(!0),setTimeout(()=>k(!1),3e3);return}if(!i.trim()){P("Email is required"),k(!0),setTimeout(()=>k(!1),3e3);return}if(!h.trim()){P("Username is required"),k(!0),setTimeout(()=>k(!1),3e3);return}if(!p.trim()){P("Phone number is required"),k(!0),setTimeout(()=>k(!1),3e3);return}if(!b){P("Please select a role"),k(!0),setTimeout(()=>k(!1),3e3);return}if(!w){P("Please select a status"),k(!0),setTimeout(()=>k(!1),3e3);return}if(p.length!==10){P("Please enter a valid 10-digit phone number"),k(!0),setTimeout(()=>k(!1),3e3);return}try{const O={first_name:a,last_name:l,email:i,username:h,phone:p,role:b,status:w};if(typeof r=="function"){const T=await r(O);N(n?"User updated successfully!":"User created successfully!"),f(!0),setTimeout(n?()=>{f(!1)}:()=>{f(!1),I(),t()},2e3)}}catch(O){if(console.error("Error saving user:",O),console.error("Error response:",O.response),console.error("Error response data:",(V=O.response)==null?void 0:V.data),(Q=(ee=O.response)==null?void 0:ee.data)!=null&&Q.pendingTasks){console.log("Task validation error detected");const T=O.response.data.message||"Cannot perform this action due to pending tasks.";console.log("Setting task error message:",T),P(T)}else{const T=((X=(oe=O.response)==null?void 0:oe.data)==null?void 0:X.message)||((D=(K=O.response)==null?void 0:K.data)==null?void 0:D.error)||O.message||"Error updating user. Please try again.";console.log("Setting generic error message:",T),P(T)}k(!0)}};return e?s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[1100] p-4 sm:p-6 overflow-auto",children:s.jsxs("div",{className:"w-full max-w-5xl bg-white rounded-xl flex flex-col max-h-[95vh] task-modal",children:[m&&s.jsx("div",{className:"fixed top-4 right-4 z-[1200] bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg",children:s.jsx("p",{className:"text-sm font-medium",style:{fontFamily:"var(--font-family)"},children:x})}),s.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-6 py-3 sm:py-4 sticky top-0 bg-white z-10 border-b-2 rounded-t-xl",style:{borderBottomColor:"var(--primary-color)"},children:[s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[s.jsx("button",{onClick:t,className:"w-8 h-8 rounded-full flex items-center justify-center text-gray-600 hover:bg-gray-100",children:s.jsx(nr,{size:20})}),s.jsx("h2",{className:"text-base sm:text-lg font-bold",style:{color:"var(--primary-color)",fontFamily:"var(--font-family)"},children:n?"EDIT USER":"CREATE USER"})]}),s.jsx("button",{onClick:q,className:"text-white px-3 sm:px-4 py-2 rounded-xl shadow-md hover:opacity-90 text-sm sm:text-base",style:{backgroundColor:"var(--primary-color)",fontFamily:"var(--font-family)"},children:"Save"})]}),s.jsxs("div",{className:"p-4 sm:p-6 pb-8 flex-1 overflow-y-auto rounded-b-xl",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 pb-6",style:{gap:"var(--form-gap)"},children:[s.jsx("div",{children:s.jsx(ba,{label:"FIRST NAME",required:!0,value:a,onChange:V=>o(V.target.value),placeholder:"Enter first name"})}),s.jsx("div",{children:s.jsx(ba,{label:"LAST NAME",value:l,onChange:V=>c(V.target.value),placeholder:"Enter last name"})}),s.jsx("div",{children:s.jsx(gd,{label:"ROLE",required:!0,options:["Admin","HR","Site Manager","Office Staff","Field Rep"],value:b,onChange:j,placeholder:"Select role"})}),s.jsx("div",{children:s.jsx(gd,{label:"STATUS",required:!0,options:["Active","Inactive"],value:w,onChange:y,placeholder:"Select status"})}),s.jsx("div",{children:s.jsx(ba,{label:"EMAIL",required:!0,type:"email",value:i,onChange:V=>u(V.target.value),placeholder:"Enter email address"})}),s.jsx("div",{children:s.jsx(ba,{label:"USERNAME",required:!0,value:h,onChange:V=>g(V.target.value),placeholder:"Username will auto-populate from email"})}),s.jsx("div",{children:s.jsx(Hv,{label:"PHONE NUMBER",required:!0,value:p,onChange:V=>v(V.target.value),placeholder:"Enter 10-digit phone number"})})]}),C&&s.jsx("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-5 h-5 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:s.jsx("svg",{className:"w-3 h-3 text-red-600",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-sm font-medium text-red-800 mb-1",style:{fontFamily:"var(--font-family)"},children:"Cannot Update User"}),s.jsx("div",{className:"text-sm text-red-700 whitespace-pre-line",style:{fontFamily:"var(--font-family)"},children:S})]})]})})]})]})}):null}const qv=`
  @keyframes wave {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-3px); }
    50% { transform: translateX(3px); }
    75% { transform: translateX(-3px); }
  }
`;if(typeof document<"u"){const e=document.createElement("style");e.type="text/css",e.innerText=qv,document.head.appendChild(e)}const Vt=({label:e,value:t,icon:r,fullWidth:n=!1})=>(console.log(`DisplayField rendering: ${e} = ${t}`),s.jsxs("div",{className:`flex items-center gap-3 p-3 bg-gray-50 rounded-lg ${n?"md:col-span-2":""}`,children:[r&&s.jsx(r,{size:16,className:"text-gray-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-wider mb-1",children:e}),s.jsx("p",{className:"text-sm text-gray-900 font-medium",children:t||"N/A"})]})]})),Qv=({selectedUser:e,onClose:t})=>{var h;if(!e)return null;console.log("UserInfo received selectedUser:",e),console.log("Username value:",e.username);const{user:r}=Ae(),[n,a]=d.useState("overview"),o=(g,p)=>{const v=g?g.charAt(0).toUpperCase():"",b=p?p.charAt(0).toUpperCase():"";return v+b||"U"},l=g=>g?new Date(g).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",c=g=>{switch(g){case"Admin":return"bg-purple-100 text-purple-700 border-purple-200";case"HR":return"bg-blue-100 text-blue-700 border-blue-200";case"Site Head":return"bg-orange-100 text-orange-700 border-orange-200";case"Field":return"bg-green-100 text-green-700 border-green-200";case"Office Staff":return"bg-indigo-100 text-indigo-700 border-indigo-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},i=g=>{switch(g){case"Active":return"bg-light-green-bg text-green-text border-green-200";case"Inactive":return"bg-red-100 text-red-700 border-red-200";default:return"bg-light-gray-bg text-gray-700 border-gray-200"}},u=[{id:"overview",label:"Overview",icon:Jm}];return s.jsxs("div",{className:"bg-white rounded-xl overflow-hidden h-full flex flex-col relative",children:[s.jsx("div",{className:"border-b-[2px] border-primary bg-white",children:s.jsx("nav",{className:"flex justify-between items-center",children:s.jsxs("div",{className:"flex",children:[s.jsx("button",{onClick:t,className:"flex items-center justify-center px-2 sm:px-3 py-1 text-sm font-medium text-white hover:text-gray-100 bg-gray-400 hover:bg-gray-450 transition-all duration-300",title:"Go back",children:s.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 drop-shadow-md animate-pulse",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",style:{animation:"wave 2.5s ease-in-out infinite"},children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),u.map(g=>{const p=g.icon;return s.jsxs("button",{onClick:()=>a(g.id),className:`flex items-center gap-1 sm:gap-2 px-3 sm:px-6 py-1 text-xs sm:text-sm font-medium transition-all duration-200 ${n===g.id?"text-white bg-primary":"text-gray-500 hover:text-gray-700"}`,children:[s.jsx(p,{size:14,className:"sm:w-4 sm:h-4"}),s.jsx("span",{className:"text-xs sm:text-sm",children:g.label})]},g.id)})]})})}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between px-4 sm:px-6 py-3 sm:py-4 border-b border-gray-200 bg-light-gray-bg gap-2 sm:gap-0",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center text-white text-lg font-bold flex-shrink-0",children:o(e.first_name,e.last_name)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 truncate",children:[e.first_name," ",e.last_name]}),s.jsx("p",{className:"text-sm text-gray-600",children:e.role})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("span",{className:"text-xs sm:text-sm text-gray-500",children:["Role: ",e.role]})})]}),s.jsx("div",{className:"flex-1 overflow-hidden",children:n==="overview"&&s.jsx("div",{className:"p-4 sm:p-5 md:p-6 overflow-auto h-full",children:s.jsx("div",{className:"max-w-5xl mx-auto",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(Vt,{label:"FIRST NAME",value:e.first_name,icon:bt}),s.jsx(Vt,{label:"LAST NAME",value:e.last_name,icon:bt}),s.jsx(Vt,{label:"USERNAME",value:e.username,icon:bt}),s.jsx(Vt,{label:"EMAIL",value:e.email,icon:en}),s.jsx(Vt,{label:"PHONE NUMBER",value:e.phone||"Not Available",icon:qs}),((h=r==null?void 0:r.role)==null?void 0:h.toLowerCase())==="admin"&&s.jsx(Vt,{label:"PASSWORD",value:e.is_temp_password===1?e.password:"*****",icon:Xt}),s.jsx(Vt,{label:"ROLE",value:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${c(e.role)}`,style:{fontFamily:"var(--font-family)"},children:e.role}),icon:Do}),s.jsx(Vt,{label:"STATUS",value:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${i(e.status)}`,style:{fontFamily:"var(--font-family)"},children:e.status}),icon:lx}),s.jsx(Vt,{label:"REGISTRATION DATE",value:l(e.created_at),icon:$t})]})})})})]})};function Gv({searchTerm:e=""}){var B,U;const{user:t}=Ae();t&&`${t.firstName}${t.lastName}`;const[r,n]=d.useState([]),[a,o]=d.useState(!0),[l,c]=d.useState("Active"),[i,u]=d.useState(!1),[h,g]=d.useState(!1),[p,v]=d.useState(!1),[b,j]=d.useState(null),[w,y]=d.useState(null),[m,f]=d.useState(!1),[x,N]=d.useState(null),[C,k]=d.useState(null),[S,P]=d.useState(!1),[I,q]=d.useState(""),V=d.useRef(null);d.useEffect(()=>{t&&ee()},[t]),d.useEffect(()=>{const L=R=>{R.target.closest("[data-dropdown-option]")||R.target.closest("[data-filter-button]")||V.current&&!V.current.contains(R.target)&&u(!1)};return i&&document.addEventListener("mousedown",L),()=>{document.removeEventListener("mousedown",L)}},[i]);const ee=async()=>{try{const L=await se.getUsers();n(L),console.log("Users fetched:",L)}catch(L){console.error("Error fetching users:",L)}finally{o(!1)}},Q=r.filter(L=>{const R=`${L.first_name} ${L.last_name}`,ie=e===""||R.toLowerCase().includes(e.toLowerCase())||L.email.toLowerCase().includes(e.toLowerCase())||L.username.toLowerCase().includes(e.toLowerCase())||L.role.toLowerCase().includes(e.toLowerCase()),pe=l==="All"||L.status===l;return ie&&pe}),oe=L=>{const R=r.find(ie=>ie.id===L);R&&(j(R),v(!0),g(!0))},X=async L=>{var ie,pe,Pe,F;const R=r.find(te=>te.id===L);if(R)try{const te=await se.checkUserDeletion(L);N(R),k(null),f(!0)}catch(te){(pe=(ie=te.response)==null?void 0:ie.data)!=null&&pe.pendingTasks?(N(R),k(te.response.data.message),f(!0)):(N(R),k(((F=(Pe=te.response)==null?void 0:Pe.data)==null?void 0:F.message)||"Unable to check user status. Please try again."),f(!0))}},K=async()=>{var L,R,ie,pe,Pe,F,te;if(x){k(null);try{console.log(" DEBUG: Starting delete operation for user ID:",x.id),await se.deleteUser(x.id),console.log(" DEBUG: Delete successful, removing from UI"),n(r.filter(ce=>ce.id!==x.id)),f(!1),N(null),k(null)}catch(ce){if(console.error(" DEBUG: Delete operation error:",ce),console.error("Error response:",ce.response),console.error("Error response data:",(L=ce.response)==null?void 0:L.data),(ie=(R=ce.response)==null?void 0:R.data)!=null&&ie.pendingTasks){console.log("Task validation error detected for delete");const ne=ce.response.data.message||"Cannot delete this user because they have pending tasks.";console.log("Setting delete task error message:",ne),k(ne)}else{const ne=((Pe=(pe=ce.response)==null?void 0:pe.data)==null?void 0:Pe.message)||((te=(F=ce.response)==null?void 0:F.data)==null?void 0:te.error)||ce.message||"An error occurred while deleting the user. Check console for details.";console.log("Setting delete generic error message:",ne),k(ne)}}}},D=()=>{f(!1),N(null)},O=async L=>{try{console.log(" DEBUG: Starting user creation with data:",L);const R=await se.createUser(L);console.log(" DEBUG: User created successfully:",R);const{credentials:ie}=R;console.log(`User created successfully!

Login Credentials:
Email: ${ie.email}
Phone: ${ie.phone}
Temporary Password: ${ie.temporaryPassword}

Please share these credentials with the user.`),ee(),g(!1),v(!1),j(null)}catch(R){throw console.error(" DEBUG: Create user operation error:",R),R}},T=async L=>{try{console.log(" DEBUG: Starting user update for ID:",b.id,"with data:",L);const R=await se.updateUser(b.id,L);return console.log(" DEBUG: User updated successfully:",R),n(r.map(ie=>ie.id===b.id?{...ie,...L}:ie)),ee(),g(!1),v(!1),j(null),q(`${L.first_name} ${L.last_name} has been updated successfully!`),P(!0),setTimeout(()=>{P(!1),q("")},3e3),R}catch(R){throw console.error(" DEBUG: Update user operation error:",R),R}},W=L=>{switch(L){case"Active":return"bg-green-100 text-green-700 border-green-200";case"Inactive":return"bg-red-100 text-red-700 border-red-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},$=[{key:"name",title:"Full Name",width:"25%"},{key:"email",title:"Email",width:"25%"},{key:"phone",title:"Phone Number",width:"20%"},{key:"role",title:"Role",width:"15%"},{key:"status",title:"Status",width:"15%"},{key:"actions",title:"Actions",align:"center",width:"0%"}],Z=(L,R)=>{switch(L){case"name":const ie=`${R.first_name} ${R.last_name}`;return s.jsx("div",{className:"max-w-xs truncate cursor-pointer hover:underline",style:{color:"var(--primary-color)",fontFamily:"var(--font-family)"},title:ie,onClick:()=>y(R),onMouseEnter:pe=>pe.target.style.color="#1d4ed8",onMouseLeave:pe=>pe.target.style.color="var(--primary-color)",children:ie});case"email":return s.jsx("span",{style:{fontFamily:"var(--font-family)"},children:R.email});case"phone":return s.jsx("span",{style:{fontFamily:"var(--font-family)"},children:R.phone||""});case"role":return s.jsx("span",{style:{fontFamily:"var(--font-family)"},children:R.role});case"status":return s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-normal rounded-full ${W(R.status)}`,style:{fontFamily:"var(--font-family)"},children:R.status});default:return s.jsx("span",{style:{fontFamily:"var(--font-family)"},children:R[L]})}};return s.jsxs("div",{className:"flex-1 flex flex-col",children:[S&&s.jsx("div",{className:"fixed top-4 right-4 z-[1200] bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg",children:s.jsx("p",{className:"text-sm font-medium",style:{fontFamily:"var(--font-family)"},children:I})}),s.jsx("div",{className:"flex-1 flex",children:s.jsx("main",{className:"flex-1 overflow-hidden px-4 sm:px-6 py-4 space-y-4 md:pb-4 pb-24 ",children:s.jsx("div",{className:"bg-white rounded-xl border borderr flex flex-col overflow-hidden",style:{height:window.innerWidth<640?"calc(100vh - 180px)":"calc(100vh - 90px)"},children:w?s.jsx(Qv,{selectedUser:w,onClose:()=>y(null)}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"sticky top-0 z-10 bg-white rounded-t-xl border-b border-gray-200 shadow-sm flex-shrink-0",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between px-3 sm:px-6 pt-2 pb-2",children:[s.jsxs("div",{className:"flex items-center justify-end gap-2 w-full py-0 flex-wrap sm:hidden ml-auto",children:[s.jsxs("div",{className:"relative flex-shrink-0",children:[s.jsxs("button",{"data-filter-button":"true",onClick:()=>u(!i),className:"flex items-center gap-0 text-gray-600 hover:text-gray-800 border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-1 focus:ring-blue-500 active:shadow-md transition-all shadow-sm",style:{height:"30px"},title:"Filter by status",children:[s.jsx("div",{className:"flex items-center justify-center w-7 h-full bg-gray-100 rounded-l-lg border-r border-gray-300",children:s.jsx(Tn,{size:14})}),s.jsx("span",{style:{fontWeight:"400",fontSize:"12px",lineHeight:"18px",padding:"0 8px",fontFamily:"var(--font-family)"},children:l==="Active"?"Active":l==="Inactive"?"Inactive":"Active"})]}),i&&s.jsx("div",{ref:V,className:"absolute top-full mt-2 left-1/2 transform -translate-x-1/2 z-50 bg-white border border-gray-200 rounded-lg shadow-lg w-40 py-1",children:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}].map(L=>s.jsxs("button",{"data-dropdown-option":"true",onClick:()=>{c(L.value),u(!1)},className:`w-full flex items-center justify-between px-3 py-1.5 text-left text-xs hover:bg-gray-50 transition-colors ${l===L.value?"text-blue-600 font-medium":"text-gray-700"}`,children:[s.jsx("span",{children:L.label}),l===L.value&&s.jsx(lt,{className:"text-blue-600",size:14})]},L.value))})]}),s.jsx("div",{className:"flex-shrink-0",children:((B=t==null?void 0:t.role)==null?void 0:B.toLowerCase())==="admin"&&s.jsxs("button",{onClick:()=>g(!0),className:"flex items-center gap-1 px-2 py-1.5 text-white text-sm font-medium rounded-lg hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all shadow-sm",style:{backgroundColor:"var(--primary-color)",borderColor:"var(--primary-color)"},children:[s.jsx(Pn,{size:17,color:"#ffffff"}),s.jsx("span",{className:"hidden sm:inline",style:{fontWeight:"400",fontSize:"12px",lineHeight:"18px"},children:"New"})]})})]}),s.jsx("div",{className:"hidden sm:flex items-center gap-3 mb-3 sm:mb-0",children:s.jsx("h2",{className:"text-lg font-semibold text-gray-900",style:{fontFamily:"var(--font-family)"},children:"Users"})}),s.jsxs("div",{className:"hidden sm:flex items-center justify-end gap-2 sm:gap-3 py-0 flex-wrap",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>u(!i),className:"flex items-center gap-0 text-gray-600 hover:text-gray-800 border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-1 focus:ring-blue-500 active:shadow-md transition-all shadow-sm",style:{height:"30px"},title:"Filter by status",children:[s.jsx("div",{className:"flex items-center justify-center w-7 h-full bg-gray-100 rounded-l-lg border-r border-gray-300",children:s.jsx(Tn,{size:14})}),s.jsx("span",{className:"hidden sm:inline",style:{fontWeight:"400",fontSize:"12px",lineHeight:"18px",padding:"0 8px",fontFamily:"var(--font-family)"},children:l==="All"?"All Status":l==="Active"?"Active":l==="Inactive"?"Inactive":"All Status"})]}),i&&s.jsx("div",{ref:V,className:"absolute top-full mt-2 left-1/2 transform -translate-x-1/2 z-50 bg-white border border-gray-200 rounded-lg shadow-lg w-40 py-1",children:[{value:"All",label:"All Status"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}].map(L=>s.jsxs("button",{onClick:()=>{c(L.value),u(!1)},className:`w-full flex items-center justify-between px-3 py-1.5 text-left text-xs hover:bg-gray-50 transition-colors ${l===L.value?"text-blue-600 font-medium":"text-gray-700"}`,children:[s.jsx("span",{children:L.label}),l===L.value&&s.jsx(lt,{className:"text-blue-600",size:14})]},L.value))})]}),((U=t==null?void 0:t.role)==null?void 0:U.toLowerCase())==="admin"&&s.jsxs("button",{onClick:()=>g(!0),className:"flex items-center gap-1 px-2 py-1.5 text-white text-sm font-medium rounded-lg hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all shadow-sm",style:{backgroundColor:"var(--primary-color)",borderColor:"var(--primary-color)"},children:[s.jsx(Pn,{size:17,color:"#ffffff"}),s.jsx("span",{className:"hidden sm:inline",style:{fontWeight:"400",fontSize:"12px",lineHeight:"18px"},children:"New"})]})]})]})}),s.jsxs("div",{className:"flex-1 overflow-auto",children:[s.jsx("div",{className:"block sm:hidden mt-4",style:{fontFamily:"var(--font-family)"},children:Q.length===0?s.jsxs("div",{className:"text-center py-12 px-4",children:[s.jsx(Ao,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",style:{fontFamily:"var(--font-family)"},children:"No users found"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",style:{fontFamily:"var(--font-family)"},children:"Get started by adding a new user."})]}):s.jsx("div",{className:"space-y-2 px-2",children:Q.map(L=>s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-3 pb-1 shadow-sm hover:shadow-md transition-shadow cursor-pointer",style:{fontFamily:"var(--font-family)"},onClick:()=>y(L),children:[s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx("h3",{className:"text-sm font-semibold hover:underline transition-colors cursor-pointer",style:{fontFamily:"var(--font-family)",color:"var(--primary-color)"},onMouseEnter:R=>R.target.style.color="#1d4ed8",onMouseLeave:R=>R.target.style.color="var(--primary-color)",children:`${L.first_name} ${L.last_name}`})}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full border ${W(L.status)}`,style:{fontFamily:"var(--font-family)"},children:L.status})]}),s.jsxs("div",{className:"flex justify-between items-center mb-2 text-xs text-gray-600",style:{fontFamily:"var(--font-family)"},children:[s.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[s.jsx("div",{className:"w-4 h-4 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx(en,{size:10,className:"text-purple-600"})}),s.jsx("span",{className:"font-medium truncate",style:{fontFamily:"var(--font-family)"},children:L.email})]}),s.jsxs("div",{className:"flex items-center gap-2 ml-3",children:[s.jsx("div",{className:"w-4 h-4 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(qs,{size:10,className:"text-blue-600"})}),s.jsx("span",{className:"truncate",style:{fontFamily:"var(--font-family)"},children:L.phone||""})]})]}),s.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-600",style:{fontFamily:"var(--font-family)"},children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(bt,{size:10,className:"text-green-600"})}),s.jsxs("span",{style:{fontFamily:"var(--font-family)"},children:["Role: ",L.role]})]}),s.jsxs("div",{className:"flex gap-2",onClick:R=>R.stopPropagation(),children:[s.jsx(vt,{icon:Is,type:"edit",title:"Edit",onClick:()=>oe(L.id),mobileSize:!0}),s.jsx(vt,{icon:Ln,type:"delete",title:"Delete",onClick:()=>X(L.id),mobileSize:!0})]})]})]},`mobile-user-${L.id}`))})}),s.jsx(Mo,{data:Q,columns:$,loading:a,emptyMessage:"No users found",emptyDescription:"Get started by adding a new user.",onEdit:oe,onDelete:X,renderCell:Z,loadingMessage:"Loading users...",keyField:"id",user:t})]})]})})})}),s.jsx(Vv,{isOpen:h,onClose:()=>{g(!1),v(!1),j(null)},onSubmit:p?T:O,editUser:b}),m&&x&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[1200] p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mr-4",children:s.jsx(Ln,{className:"text-red-600",size:20})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",style:{fontFamily:"var(--font-family)"},children:"Delete User"}),s.jsx("p",{className:"text-sm text-gray-600",style:{fontFamily:"var(--font-family)"},children:"This action cannot be undone"})]})]}),s.jsx("div",{className:"mb-6",children:C?s.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-5 h-5 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:s.jsx("svg",{className:"w-3 h-3 text-red-600",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-sm font-medium text-red-800 mb-1",style:{fontFamily:"var(--font-family)"},children:"Unable to Delete User"}),s.jsx("div",{className:"text-sm text-red-700 whitespace-pre-line",style:{fontFamily:"var(--font-family)"},children:C})]})]})}):s.jsxs("p",{className:"text-gray-700",style:{fontFamily:"var(--font-family)"},children:["Are you sure you want to delete ",s.jsxs("strong",{children:[x.first_name," ",x.last_name]}),"? This will permanently remove the user from the system."]})}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx("button",{onClick:D,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",style:{fontFamily:"var(--font-family)"},children:"Cancel"}),s.jsx("button",{onClick:K,disabled:!!C,className:`px-4 py-2 rounded-lg transition-colors ${C?"bg-gray-300 text-gray-500 cursor-not-allowed opacity-50":"bg-red-600 text-white hover:bg-red-700"}`,style:{fontFamily:"var(--font-family)"},title:C?"Cannot delete user with pending tasks":"Delete this user",children:"Delete User"})]})]})})]})}function Ma({user:e,onPasswordChanged:t,onClose:r,showCloseButton:n=!1}){const a=()=>{n&&r&&r()};d.useEffect(()=>{const k=S=>{S.key==="Escape"&&!n&&(S.preventDefault(),S.stopPropagation())};if(!n)return document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)},[n]);const{updateUser:o}=Ae(),[l,c]=d.useState(""),[i,u]=d.useState(""),[h,g]=d.useState(!1),[p,v]=d.useState(!1),[b,j]=d.useState(""),[w,y]=d.useState(""),[m,f]=d.useState(!1),x=k=>k?k.length<6?"Password must be at least 6 characters long":k.includes(" ")?"Password cannot contain spaces":null:"Password is required",N=k=>{k.preventDefault(),C()},C=async()=>{j(""),y("");const k=x(l);if(k){j(k);return}if(!i){j("Please confirm your password");return}if(l!==i){j("Passwords do not match");return}try{f(!0);const S=await se.changePassword({userId:e.id,newPassword:l}),P={...e,isTempPassword:!1};o(P),t&&t()}catch(S){console.error("Error changing password:",S),j(S.message||"Failed to change password. Please try again.")}finally{f(!1)}};return s0.createPortal(s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`fixed inset-0 z-[9999] ${n?"cursor-pointer":"pointer-events-none"}`,style:{backdropFilter:"blur(6px)",backgroundColor:"rgba(0, 0, 0, 0.4)"},onClick:n?a:void 0}),s.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[10000] p-4",children:s.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-2xl overflow-hidden",style:{border:"1px solid rgba(0,0,0,0.1)",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[s.jsxs("div",{className:"px-5 py-4 flex items-center justify-between",style:{background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)"},children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center",children:s.jsx(Do,{className:"text-white",size:20})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold text-base",style:{fontFamily:"var(--font-family)"},children:"Change Your Password"}),s.jsx("p",{className:"text-white/80 text-sm",style:{fontFamily:"var(--font-family)"},children:"Update your account password"})]})]}),n&&s.jsx("button",{onClick:()=>{r&&r()},className:"w-8 h-8 rounded-full bg-white/20 flex items-center justify-center text-white hover:bg-white/30 transition-colors",title:"Close",children:s.jsx(nr,{size:16})})]}),s.jsxs("div",{className:"p-5 sm:p-6",children:[s.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-blue-800",style:{fontFamily:"var(--font-family)"},children:[s.jsxs("strong",{children:["Hello, ",(e==null?void 0:e.firstName)||"User","!"]})," Enter your new password below to update your account security."]})}),b&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsx("p",{className:"text-sm text-red-700",style:{fontFamily:"var(--font-family)"},children:b})}),w&&s.jsx("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(As,{className:"text-green-600",size:16}),s.jsx("p",{className:"text-sm text-green-700",style:{fontFamily:"var(--font-family)"},children:w})]})}),s.jsxs("form",{onSubmit:N,children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-xs text-gray-500 uppercase font-medium mb-2 tracking-wide",style:{fontFamily:"var(--font-family)"},children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:s.jsx(Xt,{size:16})}),s.jsx("input",{type:h?"text":"password",value:l,onChange:k=>c(k.target.value),placeholder:"Enter new password",className:"w-full pl-10 pr-10 py-3 border border-gray-300 rounded-xl focus:outline-none focus:border-amber-500 transition-colors text-sm",style:{fontFamily:"var(--font-family)"}}),s.jsx("button",{type:"button",onClick:()=>g(!h),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:h?s.jsx(zs,{size:16}):s.jsx(Rs,{size:16})})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-xs text-gray-500 uppercase font-medium mb-2 tracking-wide",style:{fontFamily:"var(--font-family)"},children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:s.jsx(Xt,{size:16})}),s.jsx("input",{type:p?"text":"password",value:i,onChange:k=>u(k.target.value),placeholder:"Confirm new password",className:"w-full pl-10 pr-10 py-3 border border-gray-300 rounded-xl focus:outline-none focus:border-amber-500 transition-colors text-sm",style:{fontFamily:"var(--font-family)"}}),s.jsx("button",{type:"button",onClick:()=>v(!p),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:p?s.jsx(zs,{size:16}):s.jsx(Rs,{size:16})})]})]}),s.jsx("button",{type:"submit",disabled:m,className:"w-full py-3 text-white rounded-xl transition-all hover:opacity-90 font-medium text-sm sm:text-base disabled:opacity-50",style:{backgroundColor:"var(--primary-color)",fontFamily:"var(--font-family)"},children:m?"Updating...":"Update Password"})]}),s.jsx("p",{className:"text-xs text-gray-500 text-center mt-4",style:{fontFamily:"var(--font-family)"},children:"Password must be at least 6 characters long"})]})]})})]}),document.body)}const Yn=({label:e,required:t,type:r="text",value:n,onChange:a,placeholder:o,error:l,disabled:c=!1,...i})=>s.jsxs("div",{className:"relative group",children:[s.jsxs("label",{className:"absolute -top-2 left-3 bg-white px-1 text-xs font-medium text-gray-600 uppercase tracking-wider z-10",children:[e,t&&s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:r,value:n,onChange:a,placeholder:o,disabled:c,className:`
          w-full px-4 py-3 border rounded-xl transition-all duration-200 outline-none
          ${c?"bg-gray-50 border-gray-200 text-gray-500 cursor-not-allowed":l?"border-red-300 focus:border-red-500 focus:ring-2 focus:ring-red-200":"border-gray-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 hover:border-gray-300"}
        `,...i}),!c&&!l&&s.jsx("div",{className:"absolute inset-0 rounded-xl border-2 border-transparent group-hover:border-blue-100 pointer-events-none"})]}),l&&s.jsxs("p",{className:"text-red-500 text-xs mt-1 flex items-center gap-1",children:[s.jsx(nr,{size:12}),l]})]}),qt=({label:e,value:t,icon:r,color:n="blue",monospace:a=!1})=>{const o={blue:"bg-blue-50 border-blue-200 text-blue-700",green:"bg-green-50 border-green-200 text-green-700",purple:"bg-purple-50 border-purple-200 text-purple-700",orange:"bg-orange-50 border-orange-200 text-orange-700",gray:"bg-gray-50 border-gray-200 text-gray-700"};return s.jsx("div",{className:`p-4 rounded-xl border ${o[n]} hover:shadow-md transition-shadow duration-200`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm",children:s.jsx(r,{size:18,className:`${o[n].split(" ")[2]}`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider mb-1",children:e}),s.jsx("p",{className:`text-sm font-semibold text-gray-900 truncate ${a?"font-mono":""}`,children:t||"Not specified"})]})]})})};function Yv(){const{user:e,updateUser:t}=Ae(),[r,n]=d.useState(null),[a,o]=d.useState(!1),[l,c]=d.useState(!1),[i,u]=d.useState(!1),[h,g]=d.useState(!0),[p,v]=d.useState(""),[b,j]=d.useState(null),[w,y]=d.useState(null),[m,f]=d.useState(!1),x=d.useRef(null),[N,C]=d.useState(""),[k,S]=d.useState(""),[P,I]=d.useState(""),[q,V]=d.useState(""),[ee,Q]=d.useState(""),[oe,X]=d.useState({});d.useEffect(()=>{e&&(async()=>{try{const U=await se.getProfile();n(U.user),U.user.profile_image&&y(U.user.profile_image)}catch(U){console.error("Error fetching profile:",U)}finally{g(!1)}})()},[e]),d.useEffect(()=>{r&&(C(r.first_name||""),S(r.last_name||""),I(r.email||""),V(r.username||""),Q(r.phone||""))},[r]);const K=B=>{const U=B.target.files[0];if(U){if(U.size>5*1024*1024){alert("File size should be less than 5MB");return}const L=new FileReader;L.onload=R=>{y(R.target.result),j(U)},L.readAsDataURL(U)}},D=()=>{const B={};return N.trim()||(B.firstName="First name is required"),k.trim()||(B.lastName="Last name is required"),P.trim()?/\S+@\S+\.\S+/.test(P)||(B.email="Email is invalid"):B.email="Email is required",q.trim()||(B.username="Username is required"),ee.trim()||(B.phone="Phone is required"),X(B),Object.keys(B).length===0},O=async()=>{if(D()){u(!0);try{const B={first_name:N,last_name:k,email:P,username:q,phone:ee,role:r.role,status:r.status,profile_image:w};console.log("Sending userData:",B),console.log("profileData.role:",r.role),console.log("About to call api.updateUser"),await se.updateUser(e.id,B),console.log("API call successful");const U={...e,firstName:N,lastName:k,email:P,username:q,phone:ee,profile_image:w};t(U);const L=await se.getProfile();n(L.user),console.log("Setting success message"),v("Profile updated successfully!"),o(!1),X({}),setTimeout(()=>{v("")},3e3)}catch(B){console.error("Error updating profile:",B),alert("Error updating profile. Please try again.")}finally{u(!1)}}},T=()=>{r&&(C(r.first_name||""),S(r.last_name||""),I(r.email||""),V(r.username||""),Q(r.phone||"")),o(!1)},W=(B,U)=>{const L=B?B.charAt(0).toUpperCase():"",R=U?U.charAt(0).toUpperCase():"";return L+R||"U"},$=B=>B?new Date(B).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",Z=B=>{if(!B||B.length<=3)return"******";const U=B.length-3,L="*".repeat(U),R=B.slice(-3);return L+R};return h?s.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[s.jsx("div",{className:"flex-1 flex overflow-hidden",children:s.jsx("main",{className:"flex-1 overflow-auto px-4 sm:px-6 py-4 pb-20 md:pb-4",children:s.jsxs("div",{className:"text-center py-20",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading profile..."})]})})}),l&&s.jsx(Ma,{user:e,showCloseButton:!0,onPasswordChanged:()=>{c(!1),v("Password changed successfully!"),setTimeout(()=>{v("")},3e3)}})]}):r?s.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[s.jsx("div",{className:"flex-1 flex overflow-hidden",children:s.jsxs("main",{className:"flex-1 overflow-auto px-4 sm:px-6 py-4",children:[p&&s.jsx("div",{className:"fixed top-4 right-4 z-[1200] bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg",children:s.jsx("p",{className:"text-sm font-medium",style:{fontFamily:"var(--font-family)"},children:p})}),s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsxs("div",{className:"flex flex-col xl:flex-row gap-4 md:gap-6 items-stretch",children:[s.jsx("div",{className:"xl:w-1/3 order-1 xl:order-1",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-4 md:p-6 lg:p-8 h-full flex flex-col items-center",children:[s.jsx("div",{className:"relative mb-4 md:mb-6",children:s.jsxs("div",{className:"w-32 h-32 md:w-40 md:h-40 lg:w-44 lg:h-44 relative group cursor-pointer",onClick:a?()=>{var B;return(B=x.current)==null?void 0:B.click()}:void 0,children:[w?s.jsx("img",{src:w,alt:"Profile",className:"w-full h-full rounded-full object-cover border-4 border-blue-100 shadow-xl transition-all duration-200 group-hover:opacity-75"}):s.jsx("div",{className:"w-full h-full rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white text-2xl md:text-3xl lg:text-4xl font-bold shadow-xl border-4 border-blue-100 transition-all duration-200 group-hover:opacity-75",children:W(r.first_name,r.last_name)}),a&&s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-70 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-200",children:s.jsxs("div",{className:"text-center text-white",children:[s.jsx(cx,{size:20,className:"md:w-6 md:h-6 mx-auto mb-2"}),s.jsx("p",{className:"text-xs md:text-sm font-medium",children:"Upload your image"})]})}),m&&s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 rounded-full flex items-center justify-center",children:s.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 border-2 border-white border-t-transparent rounded-full animate-spin"})}),s.jsx("input",{ref:x,type:"file",accept:"image/*",onChange:K,className:"hidden"})]})}),s.jsx("div",{className:"text-center space-y-3 md:space-y-4 w-full",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h2",{className:"text-xl md:text-2xl font-bold text-gray-800",children:[r.first_name," ",r.last_name]}),s.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-blue-50 text-blue-700 rounded-full text-sm font-medium border border-blue-200",children:[s.jsx(Do,{size:14}),r.role]}),s.jsxs("p",{className:"text-gray-600 font-medium text-sm md:text-base",children:["@",r.username]})]})})]})}),s.jsx("div",{className:"xl:w-2/3 order-2 xl:order-2",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 md:p-6 h-full pb-24 md:pb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-6",children:[s.jsx("h2",{className:"text-lg md:text-xl font-semibold text-gray-900",children:"Profile Information"}),a?s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsxs("button",{onClick:O,disabled:i,className:"flex items-center gap-1 bg-green-500 hover:bg-green-600 text-white px-2 py-1.5 md:px-4 md:py-2 rounded-lg md:rounded-xl transition-all duration-200 hover:shadow-lg hover:scale-105 disabled:opacity-50 text-xs md:text-base",children:[s.jsx(mx,{size:12,className:"md:w-4 md:h-4"}),s.jsx("span",{className:"hidden md:inline",children:i?"Saving...":"Save Changes"}),s.jsx("span",{className:"md:hidden",children:"Save"})]}),s.jsxs("button",{onClick:T,className:"flex items-center gap-1 bg-gray-500 hover:bg-gray-600 text-white px-2 py-1.5 md:px-4 md:py-2 rounded-lg md:rounded-xl transition-all duration-200 hover:shadow-lg hover:scale-105 text-xs md:text-base",children:[s.jsx(nr,{size:12,className:"md:w-4 md:h-4"}),"Cancel"]})]}):s.jsxs("div",{className:"flex gap-2 flex-wrap md:flex-nowrap",children:[s.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-1 bg-orange-500 hover:bg-orange-600 text-white px-2 py-1.5 md:px-4 md:py-2 rounded-lg md:rounded-xl transition-all duration-200 hover:shadow-lg hover:scale-105 text-xs md:text-base",children:[s.jsx(Xt,{size:12,className:"md:w-4 md:h-4"}),s.jsx("span",{className:"hidden md:inline",children:"Change Password"}),s.jsx("span",{className:"md:hidden",children:"Password"})]}),s.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-1 bg-blue-500 hover:bg-blue-600 text-white px-2 py-1.5 md:px-4 md:py-2 rounded-lg md:rounded-xl transition-all duration-200 hover:shadow-lg hover:scale-105 text-xs md:text-base",children:[s.jsx(fo,{size:12,className:"md:w-4 md:h-4"}),s.jsx("span",{className:"hidden md:inline",children:"Edit"}),s.jsx("span",{className:"md:hidden hidden",children:"Edit"})]})]})]}),s.jsx("div",{className:"flex-1",children:a?s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx("div",{children:s.jsx(Yn,{label:"FIRST NAME",required:!0,value:N,onChange:B=>C(B.target.value),placeholder:"Enter first name",error:oe.firstName})}),s.jsx("div",{children:s.jsx(Yn,{label:"LAST NAME",required:!0,value:k,onChange:B=>S(B.target.value),placeholder:"Enter last name",error:oe.lastName})}),s.jsx("div",{children:s.jsx(Yn,{label:"EMAIL",required:!0,type:"email",value:P,onChange:B=>I(B.target.value),placeholder:"Enter email address",error:oe.email})}),s.jsx("div",{children:s.jsx(Yn,{label:"USERNAME",required:!0,value:q,onChange:B=>V(B.target.value),placeholder:"Enter username",error:oe.username})}),s.jsx("div",{children:s.jsx(Yn,{label:"PHONE",required:!0,value:ee,onChange:B=>Q(B.target.value),placeholder:"Enter phone number",error:oe.phone})})]}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(qt,{label:"FIRST NAME",value:r.first_name,icon:bt,color:"green"}),s.jsx(qt,{label:"LAST NAME",value:r.last_name,icon:bt,color:"green"}),s.jsx(qt,{label:"EMAIL",value:r.email,icon:en,color:"purple"}),s.jsx(qt,{label:"PHONE",value:r.phone,icon:qs,color:"orange"}),s.jsx(qt,{label:"USERNAME",value:r.username,icon:bt,color:"blue"}),s.jsx(qt,{label:"PASSWORD",value:Z(r.password),icon:Xt,color:"gray",monospace:!0}),s.jsx(qt,{label:"ROLE",value:r.role,icon:As,color:"green"}),s.jsx(qt,{label:"STATUS",value:r.status,icon:As,color:"blue"}),s.jsx(qt,{label:"REGISTRATION DATE",value:$(r.created_at),icon:$t,color:"purple"})]})})]})})]})})]})}),l&&s.jsx(Ma,{user:e,showCloseButton:(e==null?void 0:e.isTempPassword)===0||(e==null?void 0:e.is_temp_password)===0,onPasswordChanged:()=>{c(!1),v("Password changed successfully!"),setTimeout(()=>{v("")},3e3)},onClose:()=>{c(!1)}}),e&&(e.isTempPassword===1||e.is_temp_password===1)&&!l&&s.jsx(Ma,{user:e,showCloseButton:!1,onPasswordChanged:()=>{v("Password changed successfully! You can now use all features."),setTimeout(()=>{v("")},5e3)}})]}):s.jsx("div",{className:"flex-1 flex flex-col min-w-0",children:s.jsx("div",{className:"flex-1 flex overflow-hidden",children:s.jsx("main",{className:"flex-1 overflow-auto px-4 sm:px-6 py-4 pb-24 md:pb-4",children:s.jsx("div",{className:"text-center py-20",children:s.jsx("p",{className:"text-gray-600",children:"Unable to load profile data."})})})})})}function Kv(){const{user:e}=Ae(),t=In(),[r,n]=d.useState([]),[a,o]=d.useState(!0),[l,c]=d.useState("all"),[i,u]=d.useState(new Set),h=async()=>{try{const w=await se.getNotifications();n(w.notifications||[])}catch(w){console.error("Error fetching notifications:",w)}finally{o(!1)}},g=async w=>{try{await se.markNotificationAsRead(w),n(y=>y.map(m=>m.id===w?{...m,is_read:!0}:m))}catch(y){console.error("Error marking notification as read:",y)}},p=async()=>{try{await se.markAllNotificationsAsRead(),n(w=>w.map(y=>({...y,is_read:!0})))}catch(w){console.error("Error marking all as read:",w)}},v=async w=>{if(w.is_read||await g(w.id),(w.type==="task_assigned"||w.type==="task_completed"||w.type==="task_overdue"||w.type==="comment")&&w.related_id)try{const y=await se.getTaskById(w.related_id);w.type==="comment"?t(`/task/${w.related_id}`,{state:{activeTab:"comments"}}):t(`/task/${w.related_id}`)}catch{ue.error("This task has been deleted and cannot be opened.")}},b=r.filter(w=>l==="read"?w.is_read:l==="unread"?!w.is_read:!0),j=w=>{const y=new Date,m=new Date(w),f=Math.floor((y-m)/1e3);return f<60?"Just now":f<3600?`${Math.floor(f/60)}m ago`:f<86400?`${Math.floor(f/3600)}h ago`:`${Math.floor(f/86400)}d ago`};return d.useEffect(()=>{e&&h()},[e]),d.useEffect(()=>{!a&&r.length>0&&r.some(w=>!w.is_read)&&p()},[a,r]),s.jsx("div",{className:"flex-1 flex flex-col hero-section",children:s.jsx("div",{className:"flex-1 flex",children:s.jsx("main",{className:"flex-1 overflow-hidden px-4 sm:px-6 py-4 space-y-4 md:pb-4 pb-24",children:s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-3 sm:p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[s.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-1 sm:gap-2 text-gray-600 hover:text-gray-800 transition-colors p-1",children:[s.jsx(bc,{size:18,className:"sm:w-5 sm:h-5"}),s.jsx("span",{className:"hidden sm:inline text-sm",children:"Back"})]}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[s.jsx(us,{size:20,className:"sm:w-6 sm:h-6 text-blue-600"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-lg sm:text-2xl font-bold text-gray-900",children:"Notifications"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"View all your notifications"})]})]})]}),r.length>0&&s.jsxs("button",{onClick:p,className:"flex items-center gap-1 sm:gap-2 px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm bg-blue-600 text-white rounded-md sm:rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(lt,{size:14,className:"sm:w-4 sm:h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Mark All Read"}),s.jsx("span",{className:"sm:hidden",children:"Mark Read"})]})]}),s.jsx("div",{className:"flex gap-1 sm:gap-2 mb-4 sm:mb-6 border-b border-gray-200 overflow-x-auto",children:[{value:"all",label:"All",count:r.length},{value:"unread",label:"Unread",count:r.filter(w=>!w.is_read).length},{value:"read",label:"Read",count:r.filter(w=>w.is_read).length}].map(w=>s.jsxs("button",{onClick:()=>c(w.value),className:`flex items-center gap-1 sm:gap-2 px-2 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm font-medium rounded-t-md sm:rounded-t-lg transition-colors whitespace-nowrap ${l===w.value?"bg-blue-600 text-white border-b-2 border-blue-600":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,children:[s.jsx("span",{className:"hidden sm:inline",children:w.label}),s.jsx("span",{className:"sm:hidden",children:w.value==="all"?"All":w.value==="unread"?"New":"Read"}),s.jsx("span",{className:`px-1.5 sm:px-2 py-0.5 text-xs rounded-full ${l===w.value?"bg-white/20 text-white":"bg-gray-200 text-gray-700"}`,children:w.count})]},w.value))}),s.jsx("div",{className:"space-y-2 sm:space-y-3",children:a?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading notifications..."})]}):b.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(us,{size:48,className:"mx-auto text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:l==="unread"?"No unread notifications":l==="read"?"No read notifications":"No notifications"}),s.jsx("p",{className:"text-gray-600",children:l==="unread"?"You have read all your notifications!":l==="read"?"No notifications have been read yet.":"You don't have any notifications yet."})]}):b.map(w=>{const y=N=>{switch(N){case"task_assigned":return{icon:jc,color:"text-blue-500",bgColor:"bg-blue-100"};case"task_completed":return{icon:Gm,color:"text-green-500",bgColor:"bg-green-100"};case"task_overdue":return{icon:Qm,color:"text-red-500",bgColor:"bg-red-100"};default:return{icon:Xm,color:"text-purple-500",bgColor:"bg-purple-100"}}},{icon:m,color:f,bgColor:x}=y(w.type);return s.jsx("div",{className:`p-3 sm:p-4 border border-gray-200 rounded-lg hover:shadow-md transition-all duration-200 cursor-pointer ${w.is_read?"bg-white":"bg-blue-50 border-blue-200"}`,onClick:()=>v(w),children:s.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[s.jsx("div",{className:`w-8 h-8 sm:w-10 sm:h-10 rounded-full ${x} flex items-center justify-center flex-shrink-0 mt-0.5`,children:s.jsx(m,{size:16,className:`sm:w-5 sm:h-5 ${f}`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between mb-1.5 sm:mb-2",children:[s.jsx("div",{className:"flex-1",children:s.jsx("h4",{className:"text-xs sm:text-sm font-semibold text-gray-900 break-words leading-tight",children:w.type==="task_assigned"&&w.assignByName?`New Task Assigned By ${w.assignByName} To You`:w.title})}),s.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 ml-2 sm:ml-4 flex-shrink-0",children:[s.jsx("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:j(w.created_at)}),!w.is_read&&s.jsx("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-blue-500 rounded-full animate-pulse"})]})]}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-700 leading-relaxed mb-2 sm:mb-3 line-clamp-2",children:w.message}),w.type==="task_assigned"&&s.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 text-xs text-blue-600",children:[s.jsx(Km,{size:10,className:"sm:w-3 sm:h-3"}),s.jsx("span",{children:"Click to view task"})]})]})]})},w.id)})})]})})})})}function Jv(){const e=In(),{token:t}=$m(),[r,n]=d.useState(""),[a,o]=d.useState(""),[l,c]=d.useState(!1),[i,u]=d.useState(!1),[h,g]=d.useState(!1),[p,v]=d.useState(""),[b,j]=d.useState(""),[w,y]=d.useState(!0);d.useEffect(()=>{t||(y(!1),j("Invalid reset link. Please request a new password reset."))},[t]);const m=x=>x?x.length<6?"Password must be at least 6 characters long":x.includes(" ")?"Password cannot contain spaces":null:"Password is required",f=async x=>{x.preventDefault(),v(""),j("");const N=m(r);if(N){j(N);return}if(!a){j("Please confirm your password");return}if(r!==a){j("Passwords do not match");return}g(!0);try{await se.resetPassword(t,r),v("Password reset successfully! Redirecting to login..."),setTimeout(()=>{e("/login")},3e3)}catch(C){console.error("Error resetting password:",C),j(C.message||"Failed to reset password. Please try again.")}finally{g(!1)}};return w?s.jsxs("div",{className:"min-h-screen flex",children:[s.jsxs("div",{className:"fixed inset-0",children:[s.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat filter blur-sm",style:{backgroundImage:'url("https://images.unsplash.com/photo-1541888946425-d81bb19240f5?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80")'}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-50/80 via-orange-50/70 to-yellow-50/80"})]}),s.jsxs("div",{className:"relative z-10 flex w-full min-h-screen",children:[s.jsx("div",{className:"hidden lg:flex lg:w-1/2 flex-col justify-center items-center p-12",children:s.jsx("div",{className:"max-w-md text-center",children:s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"w-24 h-24 mx-auto mb-4 rounded-2xl overflow-hidden shadow-2xl transform hover:scale-105 transition-transform duration-300",children:s.jsx("img",{src:ms,alt:"Nirmaan Tracker Logo",className:"w-full h-full object-cover"})}),s.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-amber-700 to-orange-600 bg-clip-text text-transparent mb-2",children:"Nirmaan Tracker"}),s.jsx("p",{className:"text-gray-700 font-medium text-base",children:"Construction Management Platform"}),s.jsx("p",{className:"text-gray-600 text-sm mt-2",children:"Reset your password securely"})]})})}),s.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-4",children:s.jsx("div",{className:"w-full max-w-md bg-white/80 backdrop-blur-md rounded-3xl shadow-2xl border border-gray-100 overflow-hidden",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsxs("button",{onClick:()=>e("/login"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-800 mb-4 transition-colors group",children:[s.jsx(bc,{size:16,className:"group-hover:-translate-x-1 transition-transform"}),"Back to Login"]}),s.jsxs("div",{className:"lg:hidden mb-6",children:[s.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-2xl overflow-hidden shadow-xl transform hover:scale-105 transition-transform",children:s.jsx("img",{src:ms,alt:"Nirmaan Tracker Logo",className:"w-full h-full object-cover"})}),s.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-amber-700 to-orange-600 bg-clip-text text-transparent",children:"Nirmaan Tracker"})]}),s.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-amber-700 to-orange-600 bg-clip-text text-transparent mb-3",children:"Reset Password"}),s.jsx("p",{className:"text-gray-700 font-medium",children:"Enter your new password below"})]}),p&&s.jsx("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(As,{className:"text-green-600",size:16}),s.jsx("p",{className:"text-green-800 text-sm",children:p})]})}),b&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsx("p",{className:"text-red-700 text-sm",children:b})}),s.jsxs("form",{onSubmit:f,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Xt,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:l?"text":"password",value:r,onChange:x=>n(x.target.value),className:"w-full pl-12 pr-12 py-3 border-2 rounded-xl focus:ring-4 focus:ring-blue-200 focus:border-transparent transition-all duration-300",placeholder:"Enter new password",required:!0}),s.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:l?s.jsx(zs,{size:20}):s.jsx(Rs,{size:20})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Xt,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:i?"text":"password",value:a,onChange:x=>o(x.target.value),className:"w-full pl-12 pr-12 py-3 border-2 rounded-xl focus:ring-4 focus:ring-blue-200 focus:border-transparent transition-all duration-300",placeholder:"Confirm new password",required:!0}),s.jsx("button",{type:"button",onClick:()=>u(!i),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:i?s.jsx(zs,{size:20}):s.jsx(Rs,{size:20})})]})]}),s.jsx("button",{type:"submit",disabled:h,className:"w-full bg-gradient-to-r from-amber-700 to-orange-600 text-white py-4 px-6 rounded-xl hover:from-amber-800 hover:to-orange-700 focus:ring-4 focus:ring-amber-200 focus:ring-offset-2 transition-all duration-300 font-semibold disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-3 transform hover:scale-105",children:h?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),s.jsx("span",{children:"Resetting..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(Xt,{size:20}),s.jsx("span",{children:"Reset Password"})]})})]}),s.jsx("p",{className:"text-xs text-gray-500 text-center mt-4",children:"Password must be at least 6 characters long"})]})})})]})]}):s.jsxs("div",{className:"min-h-screen flex",children:[s.jsxs("div",{className:"fixed inset-0",children:[s.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat filter blur-sm",style:{backgroundImage:'url("https://images.unsplash.com/photo-1541888946425-d81bb19240f5?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80")'}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-50/80 via-orange-50/70 to-yellow-50/80"})]}),s.jsx("div",{className:"relative z-10 flex w-full min-h-screen",children:s.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-4 ml-auto",children:s.jsx("div",{className:"w-full max-w-md bg-white/80 backdrop-blur-md rounded-3xl shadow-2xl border border-gray-100 overflow-hidden",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-2xl overflow-hidden shadow-xl transform hover:scale-105 transition-transform",children:s.jsx("img",{src:ms,alt:"Nirmaan Tracker Logo",className:"w-full h-full object-cover"})}),s.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-amber-700 to-orange-600 bg-clip-text text-transparent mb-3",children:"Invalid Link"}),s.jsx("p",{className:"text-gray-700 font-medium",children:"This password reset link is invalid or has expired."})]}),s.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:s.jsx("p",{className:"text-red-700 text-sm text-center",children:b})}),s.jsx("button",{onClick:()=>e("/login"),className:"w-full bg-gradient-to-r from-amber-700 to-orange-600 text-white py-4 px-6 rounded-xl hover:from-amber-800 hover:to-orange-700 focus:ring-4 focus:ring-amber-200 focus:ring-offset-2 transition-all duration-300 font-semibold",children:"Back to Login"})]})})})})]})}function Xv({children:e}){const{loading:t}=Ae();return t?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):e}function Zv(){const[e,t]=d.useState(!1),[r,n]=d.useState(""),{t:a}=Nc(),o=In(),{isAuthenticated:l,loading:c}=Ae(),i=Rn(),u=w=>w==="/"||w==="/dashboard"?"dashboard":w==="/lead-management"?"lead-management":w==="/clients-management"?"clients-management":w==="/my-tasks"||w.startsWith("/task/")?"my-tasks":w==="/notifications"?"notifications":w==="/projects-management"?"projects-management":w==="/users-management"?"users-management":w==="/profile"?"profile":w==="/employee-management"?"employee-management":w==="/site-expenses"?"site-expenses":w==="/site-received"?"site-received":w==="/reports"?"reports":w==="/settings"?"settings":w==="/help-support"?"help-support":"dashboard",[h,g]=d.useState(u(i.pathname));d.useEffect(()=>{g(u(i.pathname))},[i.pathname]);const p=w=>{g(w),o(`/${w}`)},v=()=>{t(!e)},b=()=>{switch(h){case"dashboard":return"Dashboard";case"lead-management":return"Leads";case"clients-management":return"Clients";case"my-tasks":return"Tasks";case"projects-management":return"Projects";case"users-management":return"Users";case"profile":return"Profile";case"employee-management":return"Employees";case"site-expenses":return"Site Expenses";case"site-received":return"Site Received";case"reports":return"Reports";case"settings":return"Settings";case"help-support":return"Help & Support";default:return"Dashboard"}},j=()=>{switch(h){case"dashboard":return a("Manage Everything from a single place");case"lead-management":return a("Track and manage your potential clients");case"clients-management":return a("Manage your client relationships");case"my-tasks":return a("Manage and track your tasks effectively");case"projects-management":return a("Oversee all your projects");case"users-management":return a("Manage system users");case"profile":return a("View and manage your profile information");case"employee-management":return a("Manage your team effectively");case"site-expenses":return a("Track construction expenses");case"site-received":return a("Monitor received payments");case"reports":return a("View detailed analytics and reports");case"settings":return a("Configure your preferences");case"help-support":return a("Get assistance and support");default:return a("Manage Everything from a single place")}};return c?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background text-gray-700",children:[e&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 md:hidden",onClick:()=>t(!1),children:s.jsx("div",{className:"absolute right-0 top-0 h-full w-80 bg-white shadow-xl",onClick:w=>w.stopPropagation(),children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Menu"}),s.jsx("button",{onClick:()=>t(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("button",{onClick:()=>{p("dashboard"),t(!1)},className:"w-full flex items-center gap-3 px-4 py-3 text-left rounded-lg hover:bg-gray-100",children:[s.jsx("span",{className:"text-primary",children:""}),s.jsx("span",{className:"text-gray-700 font-medium",children:"Dashboard"})]}),s.jsxs("button",{onClick:()=>{p("lead-management"),t(!1)},className:"w-full flex items-center gap-3 px-4 py-3 text-left rounded-lg hover:bg-gray-100",children:[s.jsx("span",{className:"text-primary",children:""}),s.jsx("span",{className:"text-gray-700 font-medium",children:"Leads"})]}),s.jsxs("button",{onClick:()=>{p("clients-management"),t(!1)},className:"w-full flex items-center gap-3 px-4 py-3 text-left rounded-lg hover:bg-gray-100",children:[s.jsx("span",{className:"text-primary",children:""}),s.jsx("span",{className:"text-gray-700 font-medium",children:"Clients"})]}),s.jsxs("button",{onClick:()=>{p("projects-management"),t(!1)},className:"w-full flex items-center gap-3 px-4 py-3 text-left rounded-lg hover:bg-gray-100",children:[s.jsx("span",{className:"text-primary",children:""}),s.jsx("span",{className:"text-gray-700 font-medium",children:"Projects"})]}),s.jsxs("button",{onClick:()=>{p("users-management"),t(!1)},className:"w-full flex items-center gap-3 px-4 py-3 text-left rounded-lg hover:bg-gray-100",children:[s.jsx("span",{className:"text-primary",children:""}),s.jsx("span",{className:"text-gray-700 font-medium",children:"Users"})]})]})]})})}),s.jsxs("div",{className:"flex h-screen max-h-screen overflow-hidden",children:[s.jsx(by,{activeItem:h,onNavigate:p}),s.jsxs("div",{className:"flex-1 flex flex-col min-w-0 overflow-auto",children:[s.jsx("div",{children:s.jsx(vy,{title:b(),subtitle:j(),onMobileMenuToggle:v,onSearch:n})}),s.jsx("div",{className:"pt-16 md:pt-14",style:{minHeight:"100vh"},children:s.jsxs(K0,{children:[s.jsx(Ie,{path:"/",element:s.jsx(qe,{children:s.jsx(ud,{})})}),s.jsx(Ie,{path:"/dashboard",element:s.jsx(qe,{children:s.jsx(ud,{})})}),s.jsx(Ie,{path:"/reset-password/:token",element:s.jsx(Jv,{})}),s.jsx(Ie,{path:"/lead-management",element:s.jsx(qe,{children:s.jsx(Iv,{searchTerm:r})})}),s.jsx(Ie,{path:"/clients-management",element:s.jsx(qe,{children:s.jsx(Fv,{searchTerm:r})})}),s.jsx(Ie,{path:"/my-tasks",element:s.jsx(qe,{children:s.jsx(pd,{searchTerm:r})})}),s.jsx(Ie,{path:"/task/:taskId",element:s.jsx(qe,{children:s.jsx(pd,{searchTerm:r})})}),s.jsx(Ie,{path:"/notifications",element:s.jsx(qe,{children:s.jsx(Kv,{})})}),s.jsx(Ie,{path:"/profile",element:s.jsx(qe,{children:s.jsx(Yv,{})})}),s.jsx(Ie,{path:"/projects-management",element:s.jsx(qe,{children:s.jsx("div",{className:"flex-1 flex flex-col min-w-0",children:s.jsx("div",{className:"flex-1 flex overflow-hidden",children:s.jsx("main",{className:"flex-1 overflow-auto px-4 sm:px-6 py-4",children:s.jsxs("div",{className:"text-center py-20",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Projects Management"}),s.jsx("p",{className:"text-gray-600",children:"This page is under development."})]})})})})})}),s.jsx(Ie,{path:"/users-management",element:s.jsx(qe,{children:s.jsx(Gv,{searchTerm:r})})}),s.jsx(Ie,{path:"/employee-management",element:s.jsx(qe,{children:s.jsx("div",{className:"flex-1 flex flex-col min-w-0",children:s.jsx("div",{className:"flex-1 flex overflow-hidden",children:s.jsx("main",{className:"flex-1 overflow-auto px-4 sm:px-6 py-4",children:s.jsxs("div",{className:"text-center py-20",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Employee Management"}),s.jsx("p",{className:"text-gray-600",children:"This page is under development."})]})})})})})}),s.jsx(Ie,{path:"/site-expenses",element:s.jsx(qe,{children:s.jsx("div",{className:"flex-1 flex flex-col min-w-0",children:s.jsx("div",{className:"flex-1 flex overflow-hidden",children:s.jsx("main",{className:"flex-1 overflow-auto px-4 sm:px-6 py-4",children:s.jsxs("div",{className:"text-center py-20",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Site Expenses"}),s.jsx("p",{className:"text-gray-600",children:"This page is under development."})]})})})})})}),s.jsx(Ie,{path:"/site-received",element:s.jsx(qe,{children:s.jsx("div",{className:"flex-1 flex flex-col min-w-0",children:s.jsx("div",{className:"flex-1 flex overflow-hidden",children:s.jsx("main",{className:"flex-1 overflow-auto px-4 sm:px-6 py-4",children:s.jsxs("div",{className:"text-center py-20",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Site Received"}),s.jsx("p",{className:"text-gray-600",children:"This page is under development."})]})})})})})}),s.jsx(Ie,{path:"/reports",element:s.jsx(qe,{children:s.jsx("div",{className:"flex-1 flex flex-col min-w-0",children:s.jsx("div",{className:"flex-1 flex overflow-hidden",children:s.jsx("main",{className:"flex-1 overflow-auto px-4 sm:px-6 py-4",children:s.jsxs("div",{className:"text-center py-20",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Reports"}),s.jsx("p",{className:"text-gray-600",children:"This page is under development."})]})})})})})}),s.jsx(Ie,{path:"/settings",element:s.jsx(qe,{children:s.jsx("div",{className:"flex-1 flex flex-col min-w-0",children:s.jsx("div",{className:"flex-1 flex overflow-hidden",children:s.jsx("main",{className:"flex-1 overflow-auto px-4 sm:px-6 py-4",children:s.jsxs("div",{className:"text-center py-20",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Settings"}),s.jsx("p",{className:"text-gray-600",children:"This page is under development."})]})})})})})}),s.jsx(Ie,{path:"/help-support",element:s.jsx(qe,{children:s.jsx("div",{className:"flex-1 flex flex-col min-w-0",children:s.jsx("div",{className:"flex-1 flex overflow-hidden",children:s.jsx("main",{className:"flex-1 overflow-auto px-4 sm:px-6 py-4",children:s.jsxs("div",{className:"text-center py-20",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Help & Support"}),s.jsx("p",{className:"text-gray-600",children:"This page is under development."})]})})})})})})]})}),s.jsx(wv,{activePage:h,onNavigate:p,onMenuToggle:()=>t(!0)})]})]})]})}function qe({children:e}){const{isAuthenticated:t,loading:r}=Ae();return r?null:t()?e:s.jsx(G0,{to:"/login",replace:!0})}function e1(){const{isAuthenticated:e,loading:t,user:r,showPasswordChange:n,hidePasswordChange:a,requiresPasswordChange:o}=Ae(),l=()=>{a()};return t?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):e()?s.jsxs(s.Fragment,{children:[s.jsx(Zv,{}),o()&&n&&s.jsx(Ma,{user:r,onPasswordChanged:l})]}):s.jsx(Wv,{})}function t1(){return s.jsx(Nx,{children:s.jsx(Z0,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:s.jsx(Xv,{children:s.jsx(e1,{})})})})}bl.createRoot(document.getElementById("root")).render(s.jsx(J.StrictMode,{children:s.jsxs(wx,{children:[s.jsx(t1,{}),s.jsx(Av,{position:"top-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light",toastStyle:{backgroundColor:"#dc2626",color:"#ffffff"},progressStyle:{backgroundColor:"#ffffff"},closeButtonStyle:{color:"#ffffff"}})]})}));
